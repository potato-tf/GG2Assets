EntFire("bot_hint_sentrygun", "Disable")
EntFire("bot_hint_engineer_nest", "Disable")
//several of these nests are intentionally doubled from regular to prevent races
//nests 1
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_1"
	startdisabled = true
	origin = Vector(-1142, 4416, 640)
	angles = QAngle(0, 135, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_1"
	startdisabled = true
	origin = Vector(-976, 3543, 704)
	angles = QAngle(0, 195, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_1"
	startdisabled = true
	origin = Vector(-1142, 4416, 640)
	angles = QAngle(0, 135, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_1"
	startdisabled = true
	origin = Vector(-976, 3543, 704)
	angles = QAngle(0, 195, 0)
	teamnum = TF_TEAM_BLUE
})

//nests 2
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_2"
	startdisabled = true
	origin = Vector(-2963, 2963, 640)
	angles = QAngle(0, 135, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_2"
	startdisabled = true
	origin = Vector(-2087, 3056, 640)
	angles = QAngle(0, 90, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_2"
	startdisabled = true
	origin = Vector(-2963, 2963, 640)
	angles = QAngle(0, 135, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_2"
	startdisabled = true
	origin = Vector(-2087, 3056, 640)
	angles = QAngle(0, 90, 0)
	teamnum = TF_TEAM_BLUE
})

//nests 3
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_3"
	startdisabled = true
	origin = Vector(-2892, 2138, 576)
	angles = QAngle(0, 195, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_3"
	startdisabled = true
	origin = Vector(-2892, 2138, 576)
	angles = QAngle(0, 195, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_3"
	startdisabled = true
	origin = Vector(-3040, 1632, 448)
	angles = QAngle(0, 195, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_3"
	startdisabled = true
	origin = Vector(-3040, 1632, 448)
	angles = QAngle(0, 195, 0)
	teamnum = TF_TEAM_BLUE
})

//nests 4
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_4"
	startdisabled = true
	origin = Vector(-1040, 2192, 576)
	angles = QAngle(0, 240, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_4"
	startdisabled = true
	origin = Vector(-1040, 2192, 576)
	angles = QAngle(0, 240, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_4"
	startdisabled = true
	origin = Vector(-779, 2776, 704)
	angles = QAngle(0, 240, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_4"
	startdisabled = true
	origin = Vector(-779, 2776, 704)
	angles = QAngle(0, 240, 0)
	teamnum = TF_TEAM_BLUE
})

//nests 5
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_5"
	startdisabled = true
	origin = Vector(-2569, 2188, 1216)
	angles = QAngle(0, 15, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_5"
	startdisabled = true
	origin = Vector(-2864, 1423, 1216)
	angles = QAngle(0, 120, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_5"
	startdisabled = true
	origin = Vector(-2569, 2188, 1291)
	angles = QAngle(0, 15, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_5"
	startdisabled = true
	origin = Vector(-2864, 1423, 1291)
	angles = QAngle(0, 120, 0)
	teamnum = TF_TEAM_BLUE
})

SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_6"
	startdisabled = true
	origin = Vector(-1616, 3136, 1152)
	angles = QAngle(0, 120, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_6"
	startdisabled = true
	origin = Vector(-1616, 3136, 1152)
	angles = QAngle(0, 15, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_6"
	startdisabled = true
	origin = Vector(-2592, 3200, 1280)
	angles = QAngle(0, 120, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_6"
	startdisabled = true
	origin = Vector(-2592, 3200, 1280)
	angles = QAngle(0, 15, 0)
	teamnum = TF_TEAM_BLUE
})

SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_7"
	startdisabled = true
	origin = Vector(-1080, 3060, 1218)
	angles = QAngle(0, 120, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_7"
	startdisabled = true
	origin = Vector(-1080, 3060, 1218)
	angles = QAngle(0, 15, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_sentrygun", {
	targetname = "nest_alt_7"
	startdisabled = true
	origin = Vector(-746, 4512, 1216)
	angles = QAngle(0, 120, 0)
	teamnum = TF_TEAM_BLUE
})
SpawnEntityFromTable("bot_hint_engineer_nest", {
	targetname = "nest_alt_7"
	startdisabled = true
	origin = Vector(-746, 4512, 1216)
	angles = QAngle(0, 15, 0)
	teamnum = TF_TEAM_BLUE
})

SpawnEntityFromTable("filter_tf_bot_has_tag", {
	targetname = "engibotfilter"
	tags = "ws11"
})
local trigger = SpawnEntityFromTable("trigger_multiple", {
	origin = Vector(-2592, -864, 1424)
	filtername = "engibotfilter"
	spawnflags = 1
	"OnEndTouchAll" : "!caller,callscriptfunction,activateNests,0,-1"
})
trigger.SetSolid(2)
trigger.SetSize(Vector(-256, -256, -16), Vector(256, 256, 16))
trigger.ValidateScriptScope()
trigger.GetScriptScope().activateNests <- function() {
	local altmodeScope = Entities.FindByName(null, "altmode_chaos_script").GetScriptScope()
	if(altmodeScope.getContainmentBreakerState()) { //let them loose if containment breaker
		EntFire("nest_alt_*", "Enable")
	}
	else {
		local room = altmodeScope.getRoom("ws11")
		EntFire("nest_alt_" + room, "Enable")
	}
}