#base robot_trespasser_remaster.pop
//Trespasser - Zombie Survival - Remastered Version
//Made by Hell-met (Popfile) https://steamcommunity.com/id/hell-met/
//And by Lite (VScript)      https://steamcommunity.com/id/liteflame/
//Music credits
	//Mega Drive - Wire Rot
	//Andrew Hulshult - Death From Above
	//Dance With The Dead - They only come out at night
	//Perturbator - The Other Place
	//Sidewalks and Skeletons - Forever
//Special thanks to :
	//CTriggerhurt                 https://steamcommunity.com/profiles/76561198036209556/
	//mdminermonkey (aka Charlie)  https://steamcommunity.com/profiles/76561198070293827/
	//Whurr                        https://steamcommunity.com/profiles/76561198048779110/
//( lite :  i dont really care if you take anything here, all i ask of you is to not claim it as your own )

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[KEYVALUES																																																												]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

WaveSchedule
{
	StartingCurrency				500
	RespawnWaveTime					9999
	FixedRespawnWaveTime 			1
	CanBotsAttackWhileInSpawnRoom 	Yes
	CustomNavFile 					mvm_trespasser_remaster.nav
	CustomUpgradesFile 				mvm_upgrades_trespasser_remaster_2.txt

	AllowCivilianClass 1
	AllowBotExtraSlots 1
	AllowUpgradesForUnintendedClassWeapons 1
	AutoWeaponStrip 1
	BotsAreHumans 1
	BodyPartScaleSpeed 10
	BluPlayersAreRobots 0
	BluHumanSpawnProtection 1
	//DeathPenalty 250
	DisplayRobotDeathNotice 1
	ForceHoliday 2
	ForceRobotBleed 1
	FastNPCUpdate 1
	FlagEscortCountOffset -4
	FixSetCustomModelInput 1
	HealOnKillOverhealMelee 0
	LoseTime 10
	MaxSpeedLimit 1337
	MaxSpectators 6
	MaxActiveSkeletons 16								//includes baby skeletons
	MiniBossSentrySingleKill 1 							//frontier justice nerf
	NoCreditsVelocity 1
	NoReanimators 1
	NoHolidayPickups 1
	NoThrillerTaunt 1
	NoRomevisionCosmetics 1
	NPCLagCompensation 1
	NoBluHumanFootsteps 1
	RobotLimit 32
	RemoveGrapplingHooks 1.5
	RemoveBluVelocityLimit 1
	SendBotsToSpectatorImmediately 1
	SandmanStun 1
	StandableHeads 1
	SniperAllowHeadshots 1								//for zombie survivors
	StuckTimeMultiplier 3.5

	//boss
	HHHNoControlPointLogic 1
	HHHNonSolidToPlayers 1	//no getting stuck
	HHHHealthPerPlayer 0	//no bonus hp
	HHHChaseRange 9998		//infinite
	HHHQuitRange 9999		//infinite
	HHHHealthBase 5000
	HHHChaseDuration 9999	//infinite

	//ui
	FixedBuybacks 1
	BuybacksPerWave 0
	NoJoinMidwave 1
	RespecEnabled 1 // elsewhere
	RespecLimit 0
	TextPrintTime 0
	UpgradeStationKeepWeapons 1
	WaveStartCountdown 3

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[PRECACHE																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	//sounds
	PrecacheSound "trespasser_v2/jet_flyby.wav"
	PrecacheSound "trespasser_v2/helicopter_rotor_1.wav"
	PrecacheSound "trespasser_v2/helicopter_rotor_2.wav"
	PrecacheSound "trespasser_v2/skeleton_hit1.wav"
	PrecacheSound "trespasser_v2/skeleton_hit2.wav"
	PrecacheSound "trespasser_v2/fire_zombie.wav"
	PrecacheSound "trespasser_v2/claw_hit.wav"
	PrecacheSound "trespasser_v2/corrupt_1.wav"
	PrecacheSound "trespasser_v2/corrupt_2.wav"
	PrecacheSound "trespasser_v2/corrupt_3.wav"
	PrecacheSound "trespasser_v2/corrupt_4.wav"
	PrecacheSound "trespasser_v2/cs_headshot.wav"
	PrecacheSound "trespasser_v2/flesh_hit.wav"
	PrecacheSound "trespasser_v2/deagle_blam.wav"
	PrecacheSound "trespasser_v2/shotgun_blam.wav"
	PrecacheSound "trespasser_v2/pistol_pew.wav"
	PrecacheSound "trespasser_v2/fg42_blam.wav"
	PrecacheSound "trespasser_v2/fg42_reload.wav"
	PrecacheSound "trespasser_v2/mp40_blam.wav"
	PrecacheSound "trespasser_v2/robrute_death.wav"
	PrecacheSound "trespasser_v2/robrute_enter.wav"
	PrecacheSound "trespasser_v2/music_spawnroom.wav"
	PrecacheSound "trespasser_v2/chainsaw_attack.wav"
	PrecacheSound "trespasser_v2/chainsaw_spin.wav"
	PrecacheSound "trespasser_v2/chainsaw_wind_down.wav"
	PrecacheSound "trespasser_v2/chainsaw_wind_up.wav"
	PrecacheSound "trespasser_v2/rescue.wav"
	PrecacheSound "trespasser_v2/guitar.wav"
	PrecacheSound "npc/stalker/go_alert2.wav"

	PrecacheSound "trespasser_v2/music_intro.mp3"
	// PrecacheSound "trespasser_v2/music_finale_1.mp3"
	PrecacheSound "trespasser_v2/music_finale_2.mp3"
	PrecacheSound "trespasser_v2/music_robot_1.mp3"
	// PrecacheSound "trespasser_v2/music_robot_2.mp3"
	PrecacheSound "trespasser_v2/music_wait.mp3"
	PrecacheSound "trespasser_v2/gallery_music.mp3"
	PrecacheSound "trespasser_v2/doom_laugh1.mp3"
	PrecacheSound "trespasser_v2/doom_laugh2.mp3"
	PrecacheSound "trespasser_v2/doom_laugh3.mp3"
	PrecacheSound "trespasser_v2/doom_laugh4.mp3"

	//characters
	PrecacheModel "models/trespasser/burnacle.mdl"                              //virophage
	PrecacheModel "models/bots/soldier/bot_soldier_gibby.mdl"                   //corrupted
	// PrecacheModel "models/bots/soldier/bot_soldier_gibby_gray.mdl"           //corrupted
	PrecacheModel "models/bots/soldier_boss/bot_soldier_boss_gibby.mdl"         //giant corrupted
	// PrecacheModel "models/bots/soldier_boss/bot_soldier_boss_gibby_gray.mdl" //giant corrupted
	PrecacheModel "models/bots/heavy/bot_heavy_gibby.mdl"                       //steels
	// PrecacheModel "models/bots/heavy/bot_heavy_gibby_gray.mdl"               //steels
	// PrecacheModel "models/bots/medic/bot_medic_gray.mdl"                     //medic
	PrecacheModel "models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl"       //purple skeleton
	PrecacheModel "models/bots/boss_bot/paintable_tank_v2/boss_tank.mdl"        //black tank
	PrecacheModel "models/bots/boss_bot/paintable_tank_v2/tank_track_l.mdl"     //black tank
	PrecacheModel "models/bots/boss_bot/paintable_tank_v2/tank_track_r.mdl"     //black tank
	PrecacheModel "models/bots/boss_bot/paintable_tank_v2/bomb_mechanism.mdl"   //black tank
	PrecacheModel "models/bots/boss_bot/combat_tank/combat_tank.mdl"            //minigun tank
	PrecacheModel "models/bots/boss_bot/combat_tank/combat_tank_minigun.mdl"    //minigun tank
	PrecacheModel "models/player/merasmus.mdl"                                  //civilian
	PrecacheModel "models/weapons/c_models/c_merasmus_arms.mdl"                 //merasmus arms
	// PrecacheModel "models/weapons/c_models/c_soldier_bot_arms.mdl"           //corrupted arms
	PrecacheModel "models/props_graveyard/healing_ghost.mdl"                    //postmortem gameplay

	//decoration
	PrecacheModel "models/buildables/spawn_room/spawn_turret.mdl"						//helicopter sentry
	PrecacheModel "models/trespasser/trespasserhelicopter_krazyzark_madminermonkey.mdl"	//helicopter
	PrecacheModel "models/props_vehicles/land/cement_truck_wasted.mdl"					//truck
	PrecacheModel "models/props_foliage/bush_L_01.mdl"									//bush
	PrecacheModel "models/bots/soldier/gibhelmetcrit_boss.mdl"							//crit-boosted hat
	PrecacheModel "models/player/items/merasmus/hat.mdl"					 			//civilian
	PrecacheModel "models/player/items/merasmus/bombinomicon.mdl"			 			//civilian
	PrecacheModel "models/props_mvm/trespasser_camera.mdl"					 			//intro cam
	PrecacheModel "models/props_mvm/indicator/indicator_circle_long.mdl"				//rps
	// PrecacheModel "models/props_td/models/props_td/atom_bomb_blue2.mdl"				//fixed bomb (lite :  which was broken anyway)

	//particles
	PrecacheParticle "utaunt_lightning_bolt"
	PrecacheParticle "ghost_smoke"
	PrecacheParticle "versus_door_slam"
	PrecacheParticle "merasmus_tp"
	PrecacheParticle "target_break"
	PrecacheParticle "lowv_sparks1"
	PrecacheParticle "eb_spit_goop"
	PrecacheParticle "merasmus_object_spawn"

	//script
	PrecacheScriptSound "Halloween.MerasmusStaffAttack"
	PrecacheScriptSound "Halloween.MerasmusAppears"
	PrecacheScriptSound "Halloween.BombinomiconBombs"
	PrecacheScriptSound	"Halloween.MerasmusGrenadeThrow"
	PrecacheScriptSound "Halloween.BombinomiconSpin"

	//colorcorrection
	PrecacheGeneric 	"materials/colorcorrection/oxidize.raw"
	PrecacheGeneric 	"materials/skybox/blackskyBK.vmt"
	PrecacheGeneric 	"materials/skybox/blackskyDN.vmt"
	PrecacheGeneric 	"materials/skybox/blackskyFT.vmt"
	PrecacheGeneric 	"materials/skybox/blackskyLF.vmt"
	PrecacheGeneric 	"materials/skybox/blackskyRT.vmt"
	PrecacheGeneric 	"materials/skybox/blackskyUP.vmt"

	//weapons
	PrecacheModel "models/weapons/c_models/c_chains_of_command/c_chains_of_command.mdl"			//fg-42
	PrecacheModel "models/weapons/c_models/c_rapidfire/c_rapidfire_1.mdl"						//spas
	PrecacheModel "models/weapons/c_models/c_hmg/c_hmg.mdl"										//heavy machine gun
	PrecacheModel "models/weapons/c_models/c_hmg/c_hmg_melee_alt.mdl"							//heavy machine gun
	PrecacheModel "models/workshop/weapons/c_models/c_xms_gloves/c_xms_gloves_ushanka.mdl"		//black mittens
	PrecacheModel "models/workshop/weapons/c_models/c_plated_gloves/c_plated_gloves.mdl"		//steel gloves
	PrecacheModel "models/weapons/c_models/c_cratesmasher/c_cratesmasher_1.mdl"					//crowbar
	PrecacheModel "models/weapons/c_models/c_w_chainsaw/c_w_chainsaw.mdl"						//chainsaw
	PrecacheModel "models/weapons/c_models/c_the_bolshevik_bomber/c_the_bolshevik_bomber_1.mdl"	//weird grenade launcher shotgun thing
	PrecacheModel "models/workshop/weapons/c_models/c_winger_distol/c_winger_distol.mdl"		//deagle
	PrecacheModel "models/weapons/c_models/c_gamma_gazer/c_gamma_gazer_1.mdl"					//taser
	PrecacheModel "models/weapons/c_models/c_pistol_whisper/c_pistol_whisper.mdl"				//silenced pistol
	PrecacheModel "models/weapons/c_models/c_ultimatum_flaregun/c_ultimatum_flaregun.mdl"		//fire cannon
	PrecacheModel "models/workshop/weapons/c_models/c_mac_smg/c_mac_smg.mdl"					//uzi
	// PrecacheModel "models/weapons/c_models/c_fireaxe_pyro/c_fireaxe_pyro_orange.mdl"			//orange fireaxe
	PrecacheModel "models/weapons/c_models/c_ex_vermin/c_ex_vermin.mdl"							//piston gun
	// PrecacheModel "models/player/infection/v_models/v_infected_sniper.mdl"						//player zombie
	PrecacheModel "models/weapons/c_models/c_defender/c_defender.mdl"							//old panic attack
	PrecacheModel "models/weapons/c_models/c_big_man/c_big_man.mdl"								//proximity mine
	PrecacheModel "models/weapons/c_models/c_krakensage/c_krakensage.mdl"						//new bonesaw
	PrecacheModel "models/weapons/c_models/c_scythe/c_scythe.mdl"								//scythe
	PrecacheModel "models/props_lakeside_event/bomb_temp_hat.mdl"								//merasmus loose cannon
	PrecacheModel "models/weapons/c_models/c_merasmus_staff/c_merasmus_staff.mdl"				//merasmus melee
	PrecacheModel "models/weapons/c_models/c_merasmus_jar_bomba/c_merasmus_jar_bomba.mdl"		//merasmus world bomb
	PrecacheModel "models/weapons/c_models/c_merasmus_jar_bomba/v_merasmus_jar_bomba.mdl"		//merasmus view bomb
	PrecacheModel "models/workshop/weapons/c_models/c_grinder/c_grinder.mdl"					//robrute arms
	PrecacheModel "models/weapons/w_bugbait.mdl"												//viro projectile
	PrecacheModel "models/weapons/df_bow/df_bow.mdl"											//ceremonial
	PrecacheModel "models/weapons/c_models/c_assault_battering_ram/c_assault_battering_ram.mdl"	//riot shield
	PrecacheModel "models/weapons/custom/derringer.mdl"											//derringer

	// This will not get added to the download table unless it is included here.
	PrecacheGeneric	"materials/hud/leaderboard_class_sentry_gun" [$SIGSEGV]


//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[SOUNDS																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	DisableSound "heavy_mvm_giant_robot01"
	DisableSound "heavy_mvm_giant_robot02"
	DisableSound "heavy_mvm_giant_robot03"
	DisableSound "heavy_mvm_giant_robot04"
	DisableSound "engineer_mvm_giant_robot01"
	DisableSound "engineer_mvm_giant_robot02"
	DisableSound "engineer_mvm_giant_robot03"
	DisableSound "soldier_mvm_giant_robot01"
	DisableSound "soldier_mvm_giant_robot02"
	DisableSound "soldier_mvm_giant_robot03"
	DisableSound "soldier_mvm_giant_robot04"
	DisableSound "medic_mvm_giant_robot01"
	DisableSound "medic_mvm_giant_robot02"
	DisableSound "medic_mvm_giant_robot03"
	DisableSound "music.mvm_end_last_wave"
	DisableSound "music.mvm_end_mid_wave"
	DisableSound "music.mvm_end_tank_wave"
	DisableSound "music.mvm_end_wave"
	DisableSound "music.mvm_lost_wave"
	DisableSound "music.mvm_start_last_wave"
	DisableSound "music.mvm_start_mid_wave"
	DisableSound "music.mvm_start_tank_wave"
	DisableSound "music.mvm_start_wave"
	DisableSound "Announcer.MVM_Get_To_Upgrade"
	DisableSound "Announcer.MVM_Spy_Alert"
	DisableSound "Announcer.mvm_spybot_death"
	DisableSound "Announcer.mvm_spybot_death_all"
	DisableSound "Announcer.MVM_First_Wave_Start"
	DisableSound "Announcer.MVM_Wave_Start"
	DisableSound "Announcer.MVM_Wave_End"
	DisableSound "Announcer.MVM_Wave_Lose"
	DisableSound "Announcer.MVM_Final_Wave_Start"
	DisableSound "Announcer.MVM_Final_Wave_End"
	DisableSound "Announcer.MVM_Robots_Planted"
	DisableSound "Announcer.MVM_Sentry_Buster_Alert"
	DisableSound "Announcer.MVM_Sentry_Buster_Alert_Another"
	DisableSound "Announcer.MVM_General_Wave_Start"
	DisableSound "Announcer.MVM_Game_Over_Loss"
	DisableSound "Announcer.MVM_Tank_Planted"
	DisableSound "Announcer.MVM_Tank_Alert_Another"
	DisableSound "Announcer.MVM_Tank_Alert_Multiple"
	DisableSound "Announcer.MVM_Tank_Alert_Halfway"
	DisableSound "Announcer.MVM_Tank_Alert_Halfway_Multiple"
	DisableSound "Announcer.MVM_Tank_Alert_Near_Hatch"
	DisableSound "Announcer.MVM_Tank_Alert_Deploying"
	DisableSound "Announcer.MVM_Tank_Alert_Spawn"
	DisableSound "Announcer.MVM_Bomb_Alert_Entered"
	DisableSound "Announcer.MVM_Bomb_Alert_Near_Hatch"
	DisableSound "Announcer.MVM_Bomb_Alert_Deploying"

	CustomScriptSounds
	{
		"Banana.Slip"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"0.35"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_85dB"

			"wave"	")misc/banana_slip.wav"
		}
		"Wood.Loud"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.75"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_85dB"

			"rndwave"
			{
				"wave"	")physics/wood/wood_solid_impact_bullet1.wav"
				"wave"	")physics/wood/wood_solid_impact_bullet2.wav"
				"wave"	")physics/wood/wood_solid_impact_bullet3.wav"
				"wave"	")physics/wood/wood_solid_impact_bullet4.wav"
				"wave"	")physics/wood/wood_solid_impact_bullet5.wav"
			}
		}
		"Metal.Loud"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.5"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_85dB"

			"rndwave"
			{
				"wave"		"physics/metal/metal_solid_impact_bullet1.wav"
				"wave"		"physics/metal/metal_solid_impact_bullet2.wav"
				"wave"		"physics/metal/metal_solid_impact_bullet3.wav"
				"wave"		"physics/metal/metal_solid_impact_bullet4.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"ParaRifle.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"0.85"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"wave"		")trespasser_v2/fg42_blam.wav"
		}
		"ParaRifle.Shoot.Quiet"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"0.5"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"wave"		")trespasser_v2/fg42_blam.wav"
		}
		"Bison.Static.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"1"
			"pitch"		"90,110"
			"soundlevel"	"SNDLVL_94dB"

			"wave"		")weapons/physcannon/energy_sing_flyby1.wav"
		}
		"Uzi.Shoot"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.5"
			"pitch"		"111"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")weapons/pistol/pistol_fire3.wav"
				//"wave"	")weapons/pistol/pistol_fire2.wav"
			}

		}
		"Deagle.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"1"
			"pitch"		"95,105"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")trespasser_v2/deagle_blam.wav"
			}

		}
		"Piston.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"1"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")weapons/crossbow/reload1.wav"
			}

		}
		"Slug.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"1"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")trespasser_v2/shotgun_blam.wav"
			}
		}
		"Derringer.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"1"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")weapons/357/357_fire2.wav"
				"wave"	")weapons/357/357_fire3.wav"
			}
		}
		"Incendiary.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"0.75"
			"pitch"		"95,105"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")weapons/flaregun/fire.wav"
			}
		}
		"Panic.Shoot"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"1"
			"pitch"		"95,105"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")weapons/shotgun/shotgun_fire6.wav"
			}
		}
		"Taser.Shoot"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"1"
			"pitch"		"75,125"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")ambient/energy/weld1.wav"
				"wave"	")ambient/energy/weld2.wav"
			}
		}
		"Silencer.Shoot"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.75"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"rndwave"
			{
				"wave"	")trespasser_v2/pistol_pew.wav"
			}
		}
		"MP40.Shoot"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.85"
			"pitch"		"100"
			"soundlevel"	"SNDLVL_94dB"

			"wave"		")trespasser_v2/mp40_blam.wav"
		}
		"Crowbar.Hit"
		{
			"channel"	"CHAN_ITEM"
			"volume"	"0.25"
			"soundlevel"	"SNDLVL_NORM"

			"rndwave"
			{
				"wave"		")weapons/crowbar/crowbar_impact1.wav"
				"wave"		")weapons/crowbar/crowbar_impact2.wav"
			}
		}
		"Chainsaw.Hit"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.85"
			"pitch"		"95,105"
			"soundlevel"  	"SNDLVL_85dB"

			"wave"	")trespasser_v2/chainsaw_attack.wav"
		}
		"Chainsaw.Run"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.50"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_85dB"

			"wave"	")trespasser_v2/chainsaw_spin.wav"
		}
		"Chainsaw.Stop"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.50"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_85dB"

			"wave"	")trespasser_v2/chainsaw_wind_down.wav"
		}
		"Chainsaw.Start"
		{
			"channel"	"CHAN_WEAPON"
			"volume"	"0.50"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_85dB"

			"wave"	")trespasser_v2/chainsaw_wind_up.wav"
		}
		"Weapon.Hit"
		{
			"volume"	"1"
			"pitch"		"98,100"
			"soundlevel"	"SNDLVL_75dB"
			"rndwave"
			{
				"wave"	"physics/metal/weapon_impact_hard1.wav"
				"wave"	"physics/metal/weapon_impact_hard2.wav"
				"wave"	"physics/metal/weapon_impact_hard3.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Viro.Scuffle"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"50,150"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/antlion/idle1.wav"
			}
		}
		"Viro.Brain.Hit"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"85.115"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"ambient/voices/playground_memory.wav"
			}
		}
		"Evil.Laugh"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"80"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"trespasser_v2/doom_laugh2.mp3"
				"wave"	"trespasser_v2/doom_laugh3.mp3"
			}
		}
		"Evil.Laugh.Far"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"95,105"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"trespasser_v2/doom_laugh4.mp3"
			}
		}
		"Evil.Laugh.Close"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"100"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"trespasser_v2/doom_laugh1.mp3"
			}
		}
		"Leaper.Far"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"85,125"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/fast_zombie/fz_alert_far1.wav"
			}
		}
		"Hunger.Far"
		{
			"channel"	"CHAN_STATIC"
			"volume"	"1"
			"pitch"		"85,125"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"  "ambient/creatures/town_zombie_call1.wav"
				"wave"  "ambient/levels/prison/inside_battle_antlion2.wav"
				"wave"  "ambient/levels/prison/inside_battle_zombie1.wav"
				"wave"  "ambient/levels/prison/inside_battle_antlion2.wav"
				"wave"  "ambient/levels/prison/inside_battle_zombie1.wav"
			}
		}
		"Robots.Entry"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"pitch"			"75,85"
			"soundlevel"  	"SNDLVL_150dB"
			"wave"			")mvm/mvm_tank_horn.wav"
		}
		"Solo.OhShit"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"pitch"			"PITCH_NORM"
			"soundlevel"	"SNDLVL_95dB"

			"rndwave"
			{
				"wave"		"vo/halloween_scream2.mp3"
				"wave"		"vo/halloween_scream3.mp3"
				"wave"		"vo/halloween_scream4.mp3"
				"wave"		"vo/halloween_scream5.mp3"
				"wave"		"vo/halloween_scream6.mp3"
				"wave"		"vo/halloween_scream7.mp3"
				"wave"		"vo/halloween_scream8.mp3"
			}
		}
		"Barricade.Hurt"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.75"
			"pitch"			"75,125"
			"soundlevel"	"SNDLVL_125dB"

			"rndwave"
			{
				"wave"		"ambient/explosions/explode_1.wav"
			}
		}
		"Barricade.Small.Hurt"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"pitch"			"75,125"
			"soundlevel"	"SNDLVL_95dB"

			"rndwave"
			{
				"wave"		"physics/wood/wood_plank_break1.wav"
				"wave"		"physics/wood/wood_plank_break2.wav"
				"wave"		"physics/wood/wood_plank_break3.wav"
				"wave"		"physics/wood/wood_plank_break4.wav"
			}
		}
		"Team.Convert"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.35"
			"pitch"			"100"
			"soundlevel"  	"SNDLVL_110dB"

			"rndwave"
			{
				"wave"		"trespasser_v2/rescue.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Zombie.Attack"
		{
			"channel"		"CHAN_WEAPON"
			"volume"		"1"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/zombie/claw_strike1.wav"
				"wave"	"npc/zombie/claw_strike2.wav"
				"wave"	"npc/zombie/claw_strike3.wav"
			}
		}
		"Zombie.Step"
		{
			"channel"		"CHAN_BODY"
			"volume"		"0.75"
			"pitch"			"100"
			"soundlevel"	"SNDLVL_85dB"

			"rndwave"
			{
				"wave"	"@npc/zombie/foot1.wav"
				"wave"	"@npc/zombie/foot2.wav"
				"wave"	"@npc/zombie/foot3.wav"
			}
		}
		"Zombie.Metal.Step"
		{
			"channel"		"CHAN_BODY"
			"volume"		"0.5"
			"pitch"			"100"
			"soundlevel"	"SNDLVL_85dB"

			"rndwave"
			{
				"wave"	"@npc/combine_soldier/gear1.wav"
				"wave"	"@npc/combine_soldier/gear2.wav"
				"wave"	"@npc/combine_soldier/gear3.wav"
				"wave"	"@npc/combine_soldier/gear4.wav"
				"wave"	"@npc/combine_soldier/gear5.wav"
				"wave"	"@npc/combine_soldier/gear6.wav"
			}
		}
		"Zombie.Knife"
		{
			"channel"		"CHAN_WEAPON"
			"volume"		"1"
			"pitch"			"55,65"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/zombie/claw_miss1.wav"
			}
		}
		"Zombie.Hit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"1"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"trespasser_v2/flesh_hit.wav"
			}
		}
		"Zombie.Metal.Hit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"0.35"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"trespasser_v2/cs_headshot.wav"
			}
		}
		"Zombie.Steel.Hit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"0.75"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"physics/metal/metal_solid_impact_hard1.wav"
				"wave"		"physics/metal/metal_solid_impact_hard4.wav"
				"wave"		"physics/metal/metal_solid_impact_hard5.wav"
			}
		}
		"Zombie.Steel.Big.Hit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"0.5"
			"pitch"			"65,85"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"physics/metal/metal_solid_impact_hard1.wav"
				"wave"		"physics/metal/metal_solid_impact_hard4.wav"
				"wave"		"physics/metal/metal_solid_impact_hard5.wav"
			}
		}
		"Zombie.Break"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"0.75"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"physics/body/body_medium_break2.wav"
				"wave"	"physics/body/body_medium_break3.wav"
				"wave"	"physics/body/body_medium_break4.wav"
			}
		}
		"Zombie.Steel.Break"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"1"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"physics/metal/metal_solid_impact_bullet1.wav"
				"wave"		"physics/metal/metal_solid_impact_bullet2.wav"
				"wave"		"physics/metal/metal_solid_impact_bullet3.wav"
				"wave"		"physics/metal/metal_solid_impact_bullet4.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Skeleton.Laugh"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.5"
			"soundlevel"  	"SNDLVL_110dB"
			"pitch"			"70,100"
			"rndwave"
			{
				"wave"		"misc/halloween/skeletons/skelly_medium_01.wav"
				"wave"		"misc/halloween/skeletons/skelly_medium_02.wav"
				"wave"		"misc/halloween/skeletons/skelly_medium_03.wav"
				"wave"		"misc/halloween/skeletons/skelly_medium_04.wav"
			}
		}
		"Skeleton.Laugh.Loud"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"soundlevel"  	"SNDLVL_110dB"
			"pitch"			"70,100"
			"rndwave"
			{
				"wave"		"misc/halloween/skeletons/skelly_medium_01.wav"
				"wave"		"misc/halloween/skeletons/skelly_medium_02.wav"
				"wave"		"misc/halloween/skeletons/skelly_medium_03.wav"
				"wave"		"misc/halloween/skeletons/skelly_medium_04.wav"
			}
		}
		"Skeleton.Step"
		{
			"channel"		"CHAN_BODY"
			"volume"		"1"
			"pitch"			"100"
			"soundlevel"	"SNDLVL_85dB"

			"rndwave"
			{
				"wave"	"@player/footsteps/woodpanel1.wav"
				"wave"	"@player/footsteps/woodpanel2.wav"
				"wave"	"@player/footsteps/woodpanel3.wav"
				"wave"	"@player/footsteps/woodpanel4.wav"
			}
		}
		"Skeleton.Hit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"0.75"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"
			"rndwave"
			{
				"wave"		"trespasser_v2/skeleton_hit2.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Zombie.Poison.Hit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"1"
			"pitch"			"95,105"
			"soundlevel"	"SNDLVL_NONE"
			"rndwave"
			{
				"wave"		"player/footsteps/mud1.wav"
				"wave"		"player/footsteps/mud2.wav"
				"wave"		"player/footsteps/mud3.wav"
				"wave"		"player/footsteps/mud4.wav"
			}
		}
		"Zombie.Poison_Swing"
		{
			"channel"		"CHAN_WEAPON"
			"volume"		"1"
			"pitch"			"75"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/barnacle/barnacle_bark1.wav"
				"wave"	"npc/barnacle/barnacle_bark2.wav"
			}
		}
		"Zombie.Poison.Break"
		{
			"channel"		"CHAN_BODY"
			"volume"		"1"
			"pitch"			"75,125"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/barnacle/barnacle_die1.wav"
				"wave"	"npc/barnacle/barnacle_die2.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Zombie.Leaper.Break"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"1"
			"pitch"			"125"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"	"npc/zombie_poison/pz_die1.wav"
			}
		}
		"Zombie.Leaper.Taunt"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"1"
			"pitch"			"85,115"
			"soundlevel"	"SNDLVL_NONE"

			"wave"			"@npc/fast_zombie/fz_frenzy1.wav"
		}
		"Zombie.Leaper"
		{
			"channel"		"CHAN_WEAPON"
			"volume"		"1"
			"pitch"			"75,125"
			"soundlevel"	"SNDLVL_NORM"

			"wave"			"npc/fast_zombie/leap1.wav"
		}
		"Zombie.Leaper.Step"
		{
			"channel"		"CHAN_BODY"
			"volume"		"1"
			"pitch"			"100"
			"soundlevel"  	"SNDLVL_95dB"

			"rndwave"
			{
				"wave"		"^player/footsteps/giant1.wav"
				"wave"		"^player/footsteps/giant2.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Zombie.Boss.Hit"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.35"
			"soundlevel"  	"SNDLVL_105dB"
			"pitch"		"95,105"

			"rndwave"
			{
				"wave"	")ambient_mp3/sawblade_impact1.mp3"
				"wave"	")ambient_mp3/sawblade_impact2.mp3"
			}
		}
		"Zombie.Boss.Yell"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"soundlevel"  	"SNDLVL_105dB"
			"pitch"		"85,100"

			"rndwave"
			{
				"wave"	"@trespasser_v2/robrute_enter.wav"
			}
		}
		"Zombie.Boss.Swing"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"soundlevel"  	"SNDLVL_105dB"
			"pitch"		"95,105"

			"rndwave"
			{
				"wave"	")ambient/machines/machine1_hit1.wav"
			}
		}
		"Zombie.Boss.Step"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1.0"
			"pitch"			"100"
			"soundlevel"  	"SNDLVL_95dB"

			"rndwave"
			{
				"wave"		"^mvm/giant_heavy/giant_heavy_step01.wav"
				"wave"		"^mvm/giant_heavy/giant_heavy_step02.wav"
				"wave"		"^mvm/giant_heavy/giant_heavy_step03.wav"
				"wave"		"^mvm/giant_heavy/giant_heavy_step04.wav"
			}
		}
		"Zombie.Boss.Explode"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.75"
			"pitch"			"100"
			"soundlevel"  	"SNDLVL_NONE"
			"wave"			")items/cart_explode.wav"
		}
////////////////////////////////////////////////////////////////////////////
		"Virophage.Eat"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"pitch"			"100"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"npc/barnacle/barnacle_digesting1.wav"
				"wave"		"npc/barnacle/barnacle_digesting2.wav"
			}
		}
		"Virophage.Excited"
		{
			"channel"		"CHAN_BODY"
			"volume"		"1"
			"pitch"			"75,125"
			"soundlevel"  	"SNDLVL_95dB"

			"rndwave"
			{
				"wave"		"npc/barnacle/barnacle_pull1.wav"
				"wave"		"npc/barnacle/barnacle_pull2.wav"
				"wave"		"npc/barnacle/barnacle_pull3.wav"
				"wave"		"npc/barnacle/barnacle_pull4.wav"
			}
		}
		"Virophage.Scream"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"pitch"			"100"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"player/pl_fallpain1.wav"
			}
		}
		"Virophage.Spit"
		{
			"channel"		"CHAN_ITEM"
			"volume"		"1"
			"pitch"			"100,125"
			"soundlevel"  	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"npc/headcrab_poison/ph_poisonbite1.wav"
				"wave"		"npc/headcrab_poison/ph_poisonbite2.wav"
				"wave"		"npc/headcrab_poison/ph_poisonbite3.wav"
			}
		}
////////////////////////////////////////////////////////////////////////////
		"Soldier.Pain"
		{
			"channel"		"CHAN_VOICE"
			"volume"		"VOL_NORM"
			"pitch"			"PITCH_NORM"

			"soundlevel"	"SNDLVL_80dB"

			"rndwave"
			{
				"wave"	"npc/metropolice/pain1.wav"
				"wave"	"npc/metropolice/pain2.wav"
				"wave"	"npc/metropolice/pain3.wav"
				"wave"	"npc/metropolice/pain4.wav"
			}
		}
		"Soldier.Pain.Cinematic"
		{
			"channel"		"CHAN_VOICE"
			"volume"		"VOL_NORM"
			"pitch"			"PITCH_NORM"

			"soundlevel"	"SNDLVL_80dB"

			"rndwave"
			{
				"wave"	"@npc/metropolice/pain1.wav"
				"wave"	"@npc/metropolice/pain2.wav"
				"wave"	"@npc/metropolice/pain3.wav"
				"wave"	"@npc/metropolice/pain4.wav"
			}
		}
		"Soldier.Death.Cinematic"
		{
			"channel"		"CHAN_VOICE"
			"volume"		"VOL_NORM"
			"pitch"			"PITCH_NORM"

			"soundlevel"	"SNDLVL_80dB"

			"rndwave"
			{
				"wave"	"@npc/combine_soldier/die1.wav"
				"wave"	"@npc/combine_soldier/die2.wav"
				"wave"	"@npc/combine_soldier/die3.wav"
			}
		}
		"Combat.Tank.Horn"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"1"
			"pitch"			"85,95"
			"soundlevel"  	"SNDLVL_150dB"
			"wave"			"@npc/combine_gunship/ping_patrol.wav"
		}
		"Steel.Strain"
		{
			"soundlevel"	"SNDLVL_75dB"
			"pitch"			"95,105"
			"volume"		"1"
			"rndwave"
			{
				"wave"		"physics/metal/metal_solid_strain1.wav"
				"wave"		"physics/metal/metal_solid_strain2.wav"
				"wave"		"physics/metal/metal_solid_strain3.wav"
				"wave"		"physics/metal/metal_solid_strain4.wav"
				"wave"		"physics/metal/metal_solid_strain5.wav"
			}
		}
		"Emissary.Horn"
		{
			"soundlevel"	"SNDLVL_75dB"
			"pitch"			"85"
			"volume"		"1"
			"rndwave"
			{
				"wave"		"mvm/mvm_warning.wav"
			}
		}
		"Music.Intro"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.65"
			"pitch"			"90"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"#trespasser_v2/music_intro.mp3"
			}
		}
		"Music.Intro.NoPitch"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.65"
			"pitch"			"100"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"#trespasser_v2/music_intro.mp3"
			}
		}
		"Music.Bonus"
		{
			"channel"		"CHAN_STATIC"
			"volume"		"0.5"
			"pitch"			"85,100"
			"soundlevel"	"SNDLVL_NONE"

			"rndwave"
			{
				"wave"		"#trespasser_v2/gallery_music.mp3"
			}
		}
	}

	OverrideSounds
	{
		"MVM.GiantHeavyExplodes"				"misc/null.wav"
		"MVM.GiantCommonExplodes"				"misc/null.wav"
		"Building_Sentrygun.Alert"				"misc/null.wav"
		"Weapon_General.CritPower"				"misc/null.wav"
		"Regenerate.Touch"						"misc/null.wav"
		"TFPlayer.StunImpact"					"misc/null.wav"
		"ArrowLight"							"misc/null.wav"
		"MVM.TankDeploy"						"misc/null.wav"
		"Fire.Engulf"							"misc/null.wav"
		"TFPlayer.FlameOut"						"misc/null.wav"

		"MVM.PlayerUsedPowerup"					"ambient/halloween/male_scream_10.wav"
		"Halloween.Merasmus_TP_In"				"player/invulnerable_on.wav"
		"MVM.PlayerDied"						"misc/null.wav"
		"BumperCar.SpeedBoostStart"				"npc/barnacle/barnacle_crunch3.wav"
		"BumperCar.SpeedBoostStop"				"items/medshot4.wav"

		"Civilian.Death"						"=95|vo/halloween_merasmus/sf12_pain02.mp3"
		"Civilian.CritDeath"					"=95|vo/halloween_merasmus/sf12_defeated05.mp3"
		"Civilian.MeleeDeath"					"=95|vo/halloween_merasmus/sf12_defeated03.mp3"
		"Civilian.ExplosionDeath"				"=95|vo/halloween_merasmus/sf12_defeated12.mp3"
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[LUA																																																														]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	LuaScript //change cvars and civilian's portrait
	{
		Script
		"
		convar.SetValue('tf_grapplinghook_fire_delay', 3)
		convar.SetValue('tf_eyeball_boss_health_at_level_2', 10000)
		convar.SetValue('tf_eyeball_boss_health_base', 10000)
		convar.SetValue('tf_eyeball_boss_health_per_level', 0)
		convar.SetValue('tf_eyeball_boss_health_per_player', 0)

		function OnGameTick()
			local manager = ents.FindByClass('tf_player_manager')
			for _, player in pairs(ents.GetAllPlayers()) do
				if player:IsRealPlayer() and player:GetPlayerName() ~= 'Demo-Bot' then
					local index = player:GetNetIndex() + 1
					if manager.m_iPlayerClass[index] == TF_CLASS_CIVILIAN then
						manager.m_iPlayerClass[index] = TF_CLASS_UNDEFINED
					end
				end
			end
		end
		"
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[TOOLS																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	//tanks
	ExtraTankPath
	{
		Name "dread_path"
		Node "1720 2840 300"
		Node "893 2840 300"
		Node "893 2205 300"
		Node "551 2205 260"
		Node "551 1440 300"
		Node "-551 1440 300"
		Node "-551 2142 300"
		Node "-880 2073 300"
		Node "-1140 1888 300"
		Node "-1140 1156 300"
		Node "-484 1156 300"
		Node "-484 545 300"
		Node "-280 358 300"
		Node "0 359 300"
		Node "0 529 300"
	}

	//bombs
	FlagResetTime
	{
		Name  "flag1_bomb"
		ResetTime 60000
	}
	FlagResetTime
	{
		Name  "flag2_bomb"
		ResetTime 60000
	}
	FlagResetTime
	{
		Name  "flag3_bomb"
		ResetTime 60000
	}

	//moral support
	//MissionUnloadOutput
	//{
	//	Target couch_relay
	//	Action Trigger
	//}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[LIMITS																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	//3+ is sabotage
	ClassLimit
	{
		Scout		 2
		Soldier		 2
		Pyro		 2
		Demoman		 2
		HeavyWeapons 2
		Engineer	 2
		Medic		 2
		Sniper		 2
		Spy			 2
		Civilian	 1	//merasmus
	}

	//bans
	ItemBlacklist
	{
		//no zombies
		Name "Zombie Scout"
		Name "Zombie Pyro"
		Name "Zombie Soldier"
		Name "Zombie Heavy"
		Name "Zombie Demo"
		Name "Zombie Engineer"
		Name "Zombie Medic"
		Name "Zombie Spy"
		Name "Zombie Sniper"

		//no canteens
		Classname 		"tf_powerup_bottle"

		//scout
		SimilarToItem 	"tf_weapon_scattergun"
		ClassName		"tf_weapon_scattergun"
		ClassName 		"tf_weapon_handgun_scout_primary"
		ClassName		"tf_weapon_pep_brawler_blaster"
		ClassName		"tf_weapon_soda_popper"

		//soldier
		SimilarToItem 	"tf_weapon_rocketlauncher"
		ClassName		"tf_weapon_rocketlauncher"
		ClassName 		"tf_weapon_rocketlauncher_directhit"
		ClassName 		"tf_weapon_rocketlauncher_airstrike"
		ClassName 		"tf_weapon_particle_cannon"

		//pyro
		SimilarToItem	"tf_weapon_flamethrower"
		ClassName 		"tf_weapon_flamethrower"
		ClassName 		"tf_weapon_rocketlauncher_fireball"

		//demoman
		SimilarToItem	"tf_weapon_grenadelauncher"
		ClassName 		"tf_weapon_grenadelauncher"
		ClassName		"tf_weapon_parachute_primary"
		ClassName 		"tf_weapon_cannon"
		ItemName 		"Ali Baba's Wee Booties"
		ItemName 		"The Bootlegger"

		//heavy
		SimilarToItem	"tf_weapon_minigun"
		ClassName 		"tf_weapon_minigun"

		//sniper
		SimilarToItem	"tf_weapon_sniperrifle"
		ClassName 		"tf_weapon_sniperrifle"
		ClassName		"tf_weapon_compound_bow"
		ClassName 		"tf_weapon_sniperrifle_decap"
		ClassName		"tf_weapon_sniperrifle_classic"
		ItemName		"The Razorback"					//allowed elsewhere
		ItemName		"Darwin's Danger Shield"		//allowed elsewhere
		ItemName		"The Cozy Camper"				//allowed elsewhere

		//medic
		SimilarToItem	"tf_weapon_medigun"
		ClassName 		"tf_weapon_medigun"

		//spy
		SimilarToItem	"tf_weapon_invis"
		ClassName 		"tf_weapon_invis"
		SimilarToItem	"tf_weapon_pda_spy"
		ClassName 		"tf_weapon_pda_spy"
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[STATS																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	//passive stats
	PlayerAttributes
	{
	  //All
	  //{
			"always allow taunt" 1
			"min respawn time" 9999		//fix scout's hardcode
			"vision opt in flags" 0		//hell on earth
	  //}
		Scout
		{
			"crit mod disabled" 0
		}
		Soldier
		{
			"crit mod disabled" 0
		}
		Pyro
		{
			"crit mod disabled" 0
		}
		Demoman
		{
			"crit mod disabled" 0
		}
		HeavyWeapons
		{
			"crit mod disabled" 0
		}
		Engineer
		{
			"crit mod disabled" 0
			"building max level" 1						//sentry nerf
			"engy sentry fire rate increased" 4			//sentry nerf
			"upgrade rate decrease" 0.4					//upgrade stuff slower
			"mult teleporter recharge rate" 0.33		//make tele act like level 3
			"mod teleporter speed boost" 1				//teleport buff
		}
		Medic
		{
			"crit mod disabled" 0
		}
		Sniper
		{
			"crit mod disabled" 0
		}
		Spy
		{
			"crit mod disabled" 0
			//"mult cloak meter regen rate" 0
		}
		Civilian
		{
			"never gib" 1 									//no gibs anyway
			"no resupply" 1 								//essential to allow weapons
			"voice pitch scale" 0 							//avoid taunts using sounds from other classes
			"SPELL: set Halloween footstep type" 3100495 	//green steps
		}
	}

	//unstable?
	ForceItem
	{
		Scout
		{
			Item "Particulate Protector"
		}
		Soldier
		{
			Item "Particulate Protector"
		}
		Pyro
		{
			Item "Particulate Protector"
		}
		Demoman
		{
			Item "Particulate Protector"
		}
		HeavyWeapons
		{
			Item "Particulate Protector"
		}
		Engineer
		{
			Item "Particulate Protector"
		}
		Sniper
		{
			Item "Particulate Protector"
		}
		Medic
		{
			Item "Particulate Protector"
		}
		Spy
		{
			Item "Particulate Protector"
		}
		Civilian
		{
		}
	}

	//ice effects
	ItemAttributes
	{
		ItemName "Festive Eyelander"
		"special item description" "Curse Removed | 15% damage vulnerability"
		"decapitate type" 0
		"dmg taken increased" 1.15
		"max health additive penalty" 0

		//cold
		// lite :  more buffs you have to pay for??
		// "stun on hit" 1
		// "stun on hit type" "movement"
		// "stun on hit slow" 0.66
		"set turn to ice" 1
		"fire input on hit" "!caller^RunScriptCode^if(self.IsValid())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
		"fire input on hit ally" "!caller^RunScriptCode^if(self.IsPlayer())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
	}
	ItemAttributes
	{
		ItemName "The Holiday Punch"
		//cold
		// "stun on hit" 1
		// "stun on hit type" "movement"
		// "stun on hit slow" 0.66
		"set turn to ice" 1
		"fire input on hit" "!caller^RunScriptCode^if(self.IsValid())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
		"fire input on hit ally" "!caller^RunScriptCode^if(self.IsPlayer())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
	}
	ItemAttributes
	{
		ItemName "The Spy-cicle"
		//cold
		// "stun on hit" 1
		// "stun on hit type" "movement"
		// "stun on hit slow" 0.66
		"set turn to ice" 1
		"fire input on hit" "!caller^RunScriptCode^if(self.IsValid())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
		"fire input on hit ally" "!caller^RunScriptCode^if(self.IsPlayer())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
	}

	//merasmus
	HandModelOverride
	{
		Civilian "models/weapons/c_models/c_merasmus_arms.mdl"
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[SHOP																																																														]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	DisallowUpgrade
	{
		Upgrade		"weapon burn dmg increased"
		MaxLevel	"-1"
		ItemName	"The Scorch Shot"
	}
	DisallowUpgrade
	{
		Upgrade		"weapon burn time increased"
		MaxLevel	"-1"
		ItemName	"The Scorch Shot"
	}

	DisallowUpgrade
	{
		Upgrade		"maxammo secondary increased"
		MaxLevel	"-1"
		ItemName	"Stickybomb Jumper"
	}
	DisallowUpgrade
	{
		Upgrade		"heal on kill"
		MaxLevel	"-1"
		ItemName	"Stickybomb Jumper"
	}

	DisallowUpgrade
	{
		Upgrade		"effect bar recharge rate increased"
		MaxLevel	"2"
		SimilarToItem 	"Bonk! Atomic Punch"
	}
	DisallowUpgrade
	{
		Upgrade		"effect bar recharge rate increased"
		MaxLevel	"2"
		ItemName 	"Crit-a-Cola"
	}

	ExtendedUpgrades
	{
		new_upgrade_fixed_hok
		{
			Name "+25 Health On Kill"
			Attribute "heal on kill"
			Cap 100
			Increment 25
			Cost 250
			AllowedWeapons
			{
				ClassName "tf_weapon_wrench"
				ClassName "tf_weapon_knife"
				ItemName "The Harvester"
				ItemName "The Gunslinger"
			}
		}
		new_upgrade_burn_dmg
		{
			Name "+25% Burn Damage"
			Attribute "weapon burn dmg increased"
			Cap 2
			Increment 0.25
			Cost 125
			AllowedWeapons
			{
				ItemName "Sharpened Volcano Fragment"
				ItemName "The Manmelter"
			}
		}
		new_upgrade_burn_time
		{
			Name "+25% Burn Time"
			Attribute "weapon burn time increased"
			Cap 2
			Increment 0.25
			Cost 125
			AllowedWeapons
			{
				ItemName "Sharpened Volcano Fragment"
				ItemName "The Manmelter"
			}
		}
		new_upgrade_gas_passer
		{
			Name "Burn Mastery"
			Attribute "unique craft index"
			Increment 1
			Cap 1
			Cost 250
			SecondaryAttributes
			{
				"weapon burn dmg increased" 1
				"weapon burn time increased" 1
			}
			AllowedWeapons
			{
				ItemName "The Gas Passer"
			}
		}
		new_upgrade_baseballs
		{
			Name "Swing Knockback"
			Attribute "damage causes airblast"
			Increment 1
			Cap 1
			Cost 500
			AllowedWeapons
			{
				ItemName "The Maul"
				ItemName "The Homewrecker"
				ItemName "The Sandman"
			}
		}
		new_upgrade_valvebatfix
		{
			Name "+10% Attack Speed"
			Attribute "fire rate bonus"
			Increment -0.1
			Cap 0.6
			Cost 250
			AllowedWeapons
			{
				ItemName "The Sandman"
				ItemName "The Wrap Assassin"
			}
		}
		// new_upgrade_bleed
		// {
		// 	Name "+10% Longer Bleeding"
		// 	Attribute "mult bleeding delay"
		// 	Cap 0.5
		// 	Increment -0.1
		// 	Cost 250
		// 	AllowedWeapons
		// 	{
		// 		ItemName "Grappling Hook"
		// 	}
		// }
		new_upgrade_bleed_stronger
		{
			Name "+25% Faster Bleeding"
			Attribute "mult bleeding delay"
			Cap 0.25
			Increment -0.25
			Cost 250
			AllowedWeapons
			{
				ItemName "The Boston Basher"
				ItemName "Three-Rune Blade"
				ItemName "The Southern Hospitality"
				ItemName "The Tribalman's Shiv"
				ItemName "The Wrap Assassin"
				ItemName "The Flying Guillotine"
				ItemName "Promo Flying Guillotine"
			}
		}
		// new_upgrade_bleed_hook
		// {
		// 	Name "+150% Stronger Bleeding"
		// 	Attribute "mult bleeding dmg"
		// 	Cap 8.5
		// 	Increment 1.51
		// 	Cost 125
		// 	AllowedWeapons
		// 	{
		// 		ItemName "Grappling Hook"
		// 	}
		// }
		// new_upgrade_grapple
		// {
		// 	Name "Critical Grapple"
		// 	Attribute "always crit"
		// 	Cap 1
		// 	Increment 1
		// 	Cost 500
		// 	SecondaryAttributes
		// 	{
		// 		"minicrits become crits" 1
		// 	}
		// 	AllowedWeapons
		// 	{
		// 		ItemName "Grappling Hook"
		// 	}
		// }
		new_upgrade_taunt
		{
			Name "+25% Faster Use"
			Attribute "gesture speed increase"
			Cap 1.5
			Increment 0.25
			Cost 125
			AllowedWeapons
			{
				ItemName "Fishcake"
				ItemName "The Dalokohs Bar"
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Robo-Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Second Banana"
				//check bonk
				ItemName "The Amputator"
			}
		}
		new_upgrade_headshot
		{
			Name "+50% Critical Damage"
			Attribute "mult crit dmg"
			Cap 2
			Increment 0.5
			Cost 500
			AllowedWeapons
			{
				SimilarToItem "The Ambassador"
			}
		}
		new_upgrade_noslow
		{
			Name "Slow Immunity"
			Attribute "mult stun resistance"
			Cap 0
			Increment -1
			Cost 500
			AllowedWeapons
			{
				ItemName "The Hot Hand"
				ItemName "The Mantreads"
				ItemName "The B.A.S.E. Jumper"
			}
		}
		new_upgrade_autofire
		{
			Name "Auto-Fire Toggle"
			Attribute "unique craft index"
			Increment 2
			Cap 2
			Cost 0
			SecondaryAttributes
			{
				"stickybomb charge rate" -1.3
			}
			AllowedWeapons
			{
				ClassName "TF_WEAPON_PIPEBOMBLAUNCHER"
			}
		}
		new_upgrade_eviction_old
		{
			Name "Mobster's Discourse"
			Attribute "fire rate bonus"
			Increment -0.1
			Cap 0.5
			Cost 0
			SecondaryAttributes
			{
				"special item description" "No health drain, +1$ on enemy hit"
				"mult_player_movespeed_active" -0.15
				"mod_maxhealth_drain_rate" -5
				"speed_boost_on_hit" -3
				"fire input on hit" "player^runscriptcode^self.AddCurrency(1)"
				"fire input on hit name restrict" "player"
			}
			AllowedWeapons
			{
				ItemName "The Eviction Notice"
			}
		}
		new_upgrade_carbine_duration
		{
			Name "+25% Crikey Duration"
			Attribute "minicrit_boost_when_charged"
			Cap 16
			Increment 2
			Cost 250
			AllowedWeapons
			{
				ItemName "The Cleaner's Carbine"
			}
		}
		new_upgrade_smg_damage
		{
			Name "+25% Damage Bonus"
			Attribute "damage bonus"
			Cap 2
			Increment 0.25
			Cost 500
			AllowedWeapons
			{
				Classname "tf_weapon_smg"
			}
		}
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[REBALANCES																																																												]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	//scout
	ItemAttributes //active drain
	{
		ItemName "Pretty Boy's Pocket Pistol"
		"provide on active" 1
		"health drain" -3
	}

	ItemAttributes //no self bleed
	{
		SimilarToItem "The Boston Basher"
		"no self effect" 1
	}

	ItemAttributes //no self bleed
	{
		SimilarToItem "Three-Rune Blade"
		"no self effect" 1
	}

	ItemAttributes //first person + allow attack
	{
		SimilarToItem "Bonk! Atomic Punch"

		//"cannot be upgraded" 1

		"effect add attributes" "add cond when active|106"
		"effect cond override" 79
	}

	ItemAttributes //full crits
	{
		SimilarToItem "Crit-a-Cola"

		//"cannot be upgraded" 1

		"effect add attributes" "always crit|1"
		"effect cond override" 30
	}

	ItemAttributes //full crits
	{
		SimilarToItem "The Flying Guillotine"
		"always crit" 1
	}

	//soldier
	ItemAttributes //bhop + extra air control + no nerf
	{
		ItemName "The B.A.S.E. Jumper"
		"allow bunny hop" 2
		"parachute redeploy" 1
		"increased air control" 4
	}

	ItemAttributes //no ground slow
	{
		ItemName "The Gunboats"
		"mult stun resistance" 0
		"additional step sound" "MetalGrate.ImpactSoft"
	}

	ItemAttributes //high gravity
	{
		ItemName "The Mantreads"
		"special item description" "Stronger Stomp | High Gravity"
		"head scale" 0.25			//offset balloon cond
		"voice pitch scale" 1.15	//offset balloon cond
		"increased jump height" 2.9	//offset balloon cond
		"dmg penalty vs players" 4  //stronger stomp
		"add cond when active" 84
		"player gravity ballon head" 2.9
		"bot custom jump particle"	1
		"additional step sound" "Rubber_Tire.ImpactSoft"
	}

	ItemAttributes //removed free passive
	{
		ItemName "The Battalion's Backup"
		"max health additive bonus" 0
	}

	ItemAttributes //removed free passive
	{
		ItemName "The Concheror"
		"health regen" 0
	}

	ItemAttributes //jump damage bonus
	{
		ItemName "The Market Gardener"

		"cannot be upgraded" 1 //terribly op

		"mult dmg while midair" 2
	}

	//pyro
	ItemAttributes //double damage
	{
		ItemName "The Manmelter"
		"damage bonus" 2
	}

	ItemAttributes //works against tank
	{
		SimilarToItem "The Homewrecker"
		"mult dmg vs tanks" 2
	}
	ItemAttributes //works against tank
	{
		SimilarToItem "The Maul"
		"mult dmg vs tanks" 2
	}

	//demoman
	ItemAttributes	//-50% damage, small jumps, small traps
	{
		SimilarToItem "TF_WEAPON_PIPEBOMBLAUNCHER"
		"max pipebombs decreased" -5
		"damage penalty" 0.5
		"self dmg push force decreased" 0.25
		//"max aoe targets" 3
	}

	ItemAttributes //-50% damage, small jumps, small traps
	{
		ItemName "The Quickiebomb Launcher"
		"max pipebombs decreased" -5
		"damage penalty" 0.5
		"self dmg push force decreased" 0.25
		//"max aoe targets" 3
	}

	ItemAttributes //-50% damage, small jumps, small traps
	{
		ItemName "The Scottish Resistance"
		"max pipebombs decreased" -9
		"damage penalty" 0.5
		"self dmg push force decreased" 0.25
		//"max aoe targets" 5
	}

	ItemAttributes //small jumps, stick to opponents, small traps
	{
		ItemName "Stickybomb Jumper"
		"max pipebombs decreased" -7
		"self dmg push force decreased" 0.35
		"stickybomb stick to enemies" 1
		"maxammo secondary increased" 1
		"projectile no deflect" 1
	}

	ItemAttributes //all swords have claidheamor's 15% damage vulnerability + uncursed
	{
		SimilarToItem "The Eyelander"
		"special item description" "Curse Removed | 15% damage vulnerability"
		"decapitate type" 0
		"dmg taken increased" 1.15
		"max health additive penalty" 0
	}

	ItemAttributes //all swords have claidheamor's 15% damage vulnerability + heal on hit
	{
		ItemName "The Half-Zatoichi"
		"special item description" "No Healing | 15% damage vulnerability"
		"restore health on kill" 0
		"heal on hit for rapidfire" 9
		"dmg taken increased" 1.15
		//"honorbound" 0
	}

	ItemAttributes //all swords have claidheamor's 15% damage vulnerability
	{
		ItemName "The Persian Persuader"
		"special item description" "15% damage vulnerability"
		"dmg taken increased" 1.15
	}

	ItemAttributes //all swords have claidheamor's 15% damage vulnerability + removed active
	{
		ItemName "The Scotsman's Skullcutter"
		"special item description" "Full Slow | 15% damage vulnerability"
		"provide on active" 0
		"dmg taken increased" 1.15
	}

	ItemAttributes //caber regen + directional push
	{
		ItemName "The Ullapool Caber"

		"cannot be upgraded" 1 //terribly op

		"regenerate stickbomb" 1
		"self dmg push force decreased" 0.35
		"fire input on hit" "!caller^RunScriptCode^if(self == activator)self.ApplyAbsVelocityImpulse(self.EyeAngles().Forward() * -500)"
		"custom impact sound" "Crowbar.Hit"
	}

	//heavy
	ItemAttributes //no critboost + pusher
	{
		ItemName "The Killing Gloves of Boxing"
		"special item description" "Push on hit"
		"critboost on kill" 0
		"damage causes airblast" 1
	}

	ItemAttributes //no ground slow
	{
		ItemName "Fists of Steel"
		"provide on active" 1
		"mult stun resistance" 0
	}

	//engineer
	ItemAttributes //very high metal cost
	{
		ItemName "The Widowmaker"
		"mod ammo per shot" 90
	}

	//medic
	ItemAttributes //amputator heal on all needleguns
	{
		SimilarToItem "TF_WEAPON_SYRINGEGUN_MEDIC"
		"enables aoe heal" 1
	}

	ItemAttributes //active drain
	{
		ItemName "The Blutsauger"
		"provide on active" 1
		"health drain medic" -6
		"enables aoe heal" 1
	}

	ItemAttributes //give ubercharge speed for free + increase penalty
	{
		ItemName "The Overdose"
		"provide on active" 1
		"CARD: move speed bonus" 1.2
		"damage penalty" 0.5
		"enables aoe heal" 1
	}

	ItemAttributes //pusher
	{
		SimilarToItem "The Ubersaw"
		"special item description" "Push on hit"
		"damage causes airblast" 1
		"alt-fire disabled" 1 //no accidental misclick
	}

	ItemAttributes //chance for redemption
	{
		SimilarToItem "The Vita-saw"
		"provide on active" 1
		"teleport instead of die" 0.35
	}

	//sniper
	CustomWeapon //primary
	{
		Name "Darwin's Danger Shield " //space is important
		OriginalItemName "Glitched Circuit Board" // to not conflict
		// "special item description" "+15% damage vulnerability"

		//
		"afterburn immunity" 1
		"dmg taken from fire reduced" 0.5
		"custom item model" "models/workshop/player/items/sniper/croc_shield/croc_shield.mdl"
		//

		"cannot be upgraded" 1 //needed to fix bug
		// "dmg taken increased" 1.15
	}

	CustomWeapon //primary + crit immunity
	{
		Name "The Razorback " //space is important
		OriginalItemName "Glitched Circuit Board" // to not conflict
		//"special item description" "100% critical immunity"
		"special item description 2" "100% critical immunity"

		//
		"backstab shield" 1
		"kill eater score type" 5
		"patient overheal penalty" 0
		"custom item model" "models/player/items/sniper/knife_shield.mdl"
		//

		"cannot be upgraded" 1 //needed to fix bug
		"dmg taken from crit reduced" 0
		// "dmg taken increased" 1.15
	}

	CustomWeapon //primary + fixed knockback
	{
		Name "The Cozy Camper " //space is important
		OriginalItemName "Glitched Circuit Board" // to not conflict
		// "special item description" "+15% damage vulnerability"

		//
		"health regen" 4
		"aiming knockback resistance" 0.8
		"aiming no flinch" 1
		"custom item model" "models/workshop/player/items/sniper/xms_sniper_commandobackpack/xms_sniper_commandobackpack.mdl"
		//

		"cannot be upgraded" 1 //needed to fix bug
		"jarate backstabber" 1
		"no damage view flinch" 1
		"damage force reduction" 0.8
		// "dmg taken increased" 1.15
	}

	//spy
	ItemAttributes //heal on hit
	{
		ItemName "L'Etranger"
		"provide on active" 1
		"health drain" -6
		"heal on hit for rapidfire" 9
	}

	ItemAttributes //removed valve nerf
	{
		SimilarToItem "The Ambassador"
		"special item description" "Removed fall-off"
		"crit_dmg_falloff" 0
	}

	ItemAttributes //no disguises in trespasser
	{
		SimilarToItem "Your Eternal Reward"
		"disguise on backstab" 0
	}

	ItemAttributes //more forgiving
	{
		ItemName "Conniver's Kunai"
		"max health additive penalty" -25
	}

	ItemAttributes //new effect
	{
		SimilarToItem "The Red-Tape Recorder"
		"special item description" "No Stun | Turn machines berserk"
	}

	ItemAttributes //slight buff
	{
		ClassName "tf_weapon_charged_smg"
		"effect cond override" "8211"
		"special item description" "Speed boost during Crikey"
	}

	//misc
	CustomWeapon //merasmus hat
	{
		Name "Merasmus's Hat"
		OriginalItemName "The Skull Island Topper"
		"is commodity" 1337
		"addcond immunity" 43	//immune to infection
		"custom item model" "models/player/items/merasmus/hat.mdl"
	}

	ItemAttributes //hack for weapon pickups
	{
		ItemName "Deflector"
		"cannot be upgraded" 1
		"special item description" "The remains of old, battered Sasha."
		"stay after regenerate" 1
		"hidden primary max ammo bonus" 0
	}

	ItemAttributes  //easter egg
	{
		ItemName "The Righteous Bison"
		"SPELL: set item tint RGB" 5
	}

	ItemAttributes  //easter egg + drain stealth
	{
		ItemName "The Pomson 6000"
		"fire input on hit" "!caller^$removecond^66"
		"SPELL: set item tint RGB" 5
	}

	ItemAttributes  //easter egg
	{
		ItemName "Duel MiniGame"
		//"special item description" "DK Mode ON"
		//"head scale" 1.4
		//"torso scale" 0.5
		"voice pitch scale" 1.4
		"gesture speed increase" 1.75
		"taunt attack after end" 1
		"taunt attack time mult" 0.6
	}

	ItemAttributes  //easter egg
	{
		ItemName "Activated Campaign 3 Pass"
		"special item description" "Radar ON"
		"add cond when active" 114
	}

	ItemAttributes  // easter egg
	{
		ItemName "The Outdoorsman"
		"SPELL: set item tint RGB" 5
	}

	ItemAttributes  // easter egg
	{
		ItemName "The Apparatchik's Apparel"
		"SPELL: set item tint RGB" 5
	}

	CustomWeapon  //easter egg
	{
		Name "Hell-met's Fireaxe"
		OriginalItemName "Upgradeable TF_WEAPON_FIREAXE"
		"provide on active" 1
		"air dash count" 1
		//"attach particle effect" 64

		"is commodity" 1337
		"special item description" "Double Jump"
		// "custom item model" "models/weapons/c_models/c_fireaxe_pyro/c_fireaxe_pyro_orange.mdl"
	}
	// lite :  he disabled jump height upgrades but adds this wtf
	// ItemReplacement //easter egg
	// {
	// 	"Hell-met's Fireaxe"
	// 	{
	// 		ItemName "UPGRADEABLE TF_WEAPON_FIREAXE"
	// 	}
	// }

	ItemAttributes //easter egg
	{
		ItemSlot "Melee"
		"vision opt in flags" 0
		"SPELL: set item tint RGB" 5
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[CUSTOMS																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	CustomWeapon //slowing pistol
	{
		Name "S-Uzi"
		OriginalItemName "Pretty Boy's Pocket Pistol"

		//remove old stats
			"provide on active" 0
			"heal on hit for rapidfire" 0
			"fire rate bonus" 1
			"clip size penalty" 1
		//remove old stats

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber

		"slow enemy on hit" 1
		"damage penalty" 0.35
		"fire rate bonus" 0.25
		"clip size bonus" 4.15

		"is commodity" 1337
		"custom kill icon" "pro_smg"
		"hidden secondary max ammo penalty" 6.94
		"custom weapon fire sound" "Uzi.Shoot"
		"custom item model" "models/workshop/weapons/c_models/c_mac_smg/c_mac_smg.mdl"
	}

	CustomWeapon //deagle
	{
		Name "Dustbowl Eagle"
		OriginalItemName "The Winger"

		//remove old stats
			"damage bonus" 1
			"clip size penalty" 1
			"increased jump height from weapon" 1
		//remove sold stats

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber

		"can headshot" 1
		"damage bonus" 3
		"crit_dmg_falloff" 1
		"weapon spread bonus" 0.5
		"fire rate penalty" 2
		"clip size penalty" 0.5
		"hidden secondary max ammo penalty" 0.68

		"is commodity" 1337
		"custom kill icon" "pistol"
		"revolver use hit locations" 1 //for inspect text
		"custom weapon fire sound" "Deagle.Shoot"
		//"fire input on attack" "!activator^RunScriptCode^self.ViewPunch(QAngle(RandomInt(-1,-1.5),RandomInt(-1,-1.5),0))"
		"custom item model" "models/workshop/weapons/c_models/c_winger_distol/c_winger_distol.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //explosive hitscan
	{
		Name "Piston Gun"
		OriginalItemName "Upgradeable TF_WEAPON_SHOTGUN_PRIMARY"

		"cannot be upgraded" 1

		"explosive bullets" 74
		"bullets per shot bonus" 0.1
		"damage bonus hidden" 11
		"fire rate penalty" 1.25
		"reload time increased" 1.25
		"add damage type" 64 //blast damage
		"hidden secondary max ammo penalty" 0.74
		"remove damage type" 536870912

		"is commodity" 1337
		"explosion particle" "rd_robot_explosion_smoke_linger"
		"custom weapon fire sound" "Piston.Shoot"
		"custom item model" "models/weapons/c_models/c_ex_vermin/c_ex_vermin.mdl"
	}

	CustomWeapon //fj for soldier
	{
		Name "The Frontier Justice "
		OriginalItemName "Upgradeable TF_WEAPON_SHOTGUN_PRIMARY"

		"cannot be upgraded" 1
		"stay after regenerate" 1

		"always crit" 1
		"clip size penalty" 0.5

		"is commodity" 1337
		"custom kill icon" "frontier_kill"
		"custom weapon fire sound" "Weapon_FrontierJustice.SingleCrit"
		"custom item model" "models/weapons/c_models/c_frontierjustice/c_frontierjustice.mdl"
	}

	CustomWeapon //soldier survivor
	{
		Name "Slug Rifle"
		OriginalItemName "Upgradeable TF_WEAPON_SHOTGUN_PRIMARY"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber
		"stay after regenerate" 1

		"can headshot" 1
		"weapon spread bonus" 0.5
		"add cond on hit" 30
		"add cond on hit duration" 7.5
		"hidden secondary max ammo penalty" 0.74

		"is commodity" 1337
		"special item description" "Mark opponents"
		"revolver use hit locations" 1 //for inspect text
		"custom weapon fire sound" "Slug.Shoot"
		"custom item model" "models/weapons/c_models/c_rapidfire/c_rapidfire_1.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //pyro survivor
	{
		Name "Incendiary Rifle"
		OriginalItemName "Upgradeable TF_WEAPON_SHOTGUN_PRIMARY"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber
		"stay after regenerate" 1

		"weapon spread bonus" 1.5
		"add cond on hit" 126
		"set damagetype ignite" 1
		"crit vs burning players" 1
		"hidden secondary max ammo penalty" 0.74

		"is commodity" 1337
		"special item description" "Stumble opponents"
		"custom weapon fire sound" "Incendiary.Shoot"
		"custom item model" "models/weapons/c_models/c_the_bolshevik_bomber/c_the_bolshevik_bomber_1.mdl"
	}

	CustomWeapon //fire spell cannon
	{
		Name "Blaze Cannon"
		OriginalItemName "The Flare Gun"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber

		"override projectile type extra" "spellfireball"
		"damage penalty" 0.65
		"projectile lifetime" 0.5
		"hidden secondary max ammo penalty" 0.38
		"mult dmg vs tanks" 10.15
		"mult dmg vs npc" 6.55
		"dmg bonus vs buildings" 6.55
		"damage blast push" -1.5
		"ragdolls become ash" 1
		"custom kill icon" "dragons_fury"
		"faster reload rate" 1.2
		"reload time increased" 1.4
		"fire input on hit" "!caller^extinguishplayer"

		"is commodity" 1337
		"special item description" "No critical hits"
		"special item description 2" "Pull targets forward"
		"fire input on attack" "!activator^$playsound^Weapon_DragonsFury.Nearmiss"
		"custom item model" "models/weapons/c_models/c_ultimatum_flaregun/c_ultimatum_flaregun.mdl"
	}

	CustomWeapon
	{
		Name "Derringer"
		OriginalItemName "Upgradeable TF_WEAPON_REVOLVER"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber
		"special item description" "Push on hit"

		"damage causes airblast" 1
		"damage bonus hidden" 3.125
		"no damage falloff" 1
		"max bullet range" 768
		"fire rate penalty" 2
		"clip size penalty" 0.33
		"maxammo secondary reduced" 0.5

		"is commodity" 1337
		// "fire input on attack" "!activator^RunScriptCode^self.ViewPunch(QAngle(RandomInt(-1,-1.5),RandomInt(-1,-1.5),0))"
		"custom kill icon" "enforcer"
		"special item description" "Limited powder range"
		"custom weapon fire sound" "Derringer.Shoot"
		"custom item model" "models/weapons/custom/derringer.mdl"
	}

	CustomWeapon //scythe
	{
		Name "The Harvester"
		OriginalItemName "Upgradeable TF_WEAPON_FIREAXE"
		"crit from behind" 1
		"mult crit dmg" 1.5

		"is commodity" 1337
		"use original class weapon animations" 1
		"custom kill icon" "pickaxe"
		"custom impact sound" "Weapon_Katana.HitWorld"
		"custom item model" "models/weapons/c_models/c_scythe/c_scythe.mdl"
	}

	CustomWeapon //proximity mine
	{
		Name "Proximity Mine Launcher"
		OriginalItemName "Upgradeable TF_WEAPON_PIPEBOMBLAUNCHER"

		"max pipebombs decreased" -4
		"damage penalty" 0.5
		"self dmg push force decreased" 0.25
		"override projectile type" 3
		"mult projectile scale" 0.5
		"damage bonus hidden" 0.25
		//"grenade bounce damage" 5
		"grenade no bounce" 1
		"grenade bounce speed" -0.1
		"projectile no deflect" 1
		"fuse bonus" 101
		"no damage falloff" 1
		"sticky arm time penalty" 101
		"alt-fire disabled" 1

		"is commodity" 1337
		"custom kill icon" "passtime_steal"
		"custom projectile model" "models/pickups/emitter.mdl"
		"custom item model" "models/weapons/c_models/c_big_man/c_big_man.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon  //chainsaw
	{
		Name "Chainsaw"
		OriginalItemName "Tomislav"

		"cannot be upgraded" 1

		//remove stats
			"fire rate penalty" 1
			"weapon spread bonus" 1
		//remove stats

		"fire input on attack" "!activator^RunScriptCode^Trespasser.ChainsawHit.call(this)"
		"override projectile type" 27
		// "displace touched enemies" 1
		"hidden primary max ammo bonus" 0.5
		"boots falling stomp" 1
		"minigun spinup time decreased" 0.25
		"aiming movespeed decreased" 2.1
		"mod minigun can holster while spinning" 1
		"minigun full movement" 1

		"is commodity" 1337
		"weapon always gib" 1
		"alt-fire disabled" 1
		"max health additive penalty" -25
		"stay after regenerate" 1
		"custom item model" "models/weapons/c_models/c_w_chainsaw/c_w_chainsaw.mdl"
	}

	CustomWeapon //old panic attack
	{
		Name "The Cardiac Arrest"
		OriginalItemName "The Family Business"

		//remove old stats
			"damage penalty" 1
			"clip size bonus" 1
			"fire rate bonus" 1
		//remove old stats

		"panic_attack" 1
		"panic_attack_negative" 2.5
		"auto fires full clip penalty" 1
		"fire rate bonus with reduced health" 0.5
		"fire rate bonus HIDDEN" 0.7
		"reload time decreased" 0.5
		"clip size penalty HIDDEN" 0.66
		"auto fires when full" 1
		"single wep deploy time decreased" 0.5

		"is commodity" 1337
		"special item description" "Old Panic Attack"
		"custom kill icon" "panic_attack"
		"custom weapon fire sound" "Panic.Shoot"
		"custom item model" "models/weapons/c_models/c_defender/c_defender.mdl"
	}

	CustomWeapon //melee airblast
	{
		Name "Iron Jabs"
		OriginalItemName "The Killing Gloves Of Boxing"

		//remove old stats
			"critboost on kill" 0
			"fire rate penalty" 1.2 //stays
		//remove old stats

		"melee airblast" 1

		"is commodity" 1337
		"custom impact sound" "Metal.Loud"
		"custom item model" "models/workshop/weapons/c_models/c_plated_gloves/c_plated_gloves.mdl"
	}

	CustomWeapon //older gru
	{
		Name "War Mittens"
		OriginalItemName "The Killing Gloves Of Boxing"

		//remove old stats
			"critboost on kill" 0
			"fire rate penalty" 1
		//remove old stats

		"provide on active" 1
		"move speed bonus" 1.3
		"health drain" -6

		"is commodity" 1337
		"special item description" "Very Old GRU"

		//cold
		// "stun on hit" 1
		// "stun on hit type" "movement"
		// "stun on hit slow" 0.66
		"set turn to ice" 1
		"fire input on hit" "!caller^RunScriptCode^if(self.IsValid())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
		"fire input on hit ally" "!caller^RunScriptCode^if(self.IsValid())DispatchParticleEffect(`xms_snowburst`,self.GetOrigin(),Vector(0,0,10));EntFire(`!activator`,`ExtinguishPlayer`,null,0,self)"
		"custom kill icon" "holiday_punch"
		"custom item model" "models/workshop/weapons/c_models/c_xms_gloves/c_xms_gloves_ushanka.mdl"
	}

	CustomWeapon //mvm gru
	{
		Name "GRU MvM"
		OriginalItemName "Gloves of Running Urgently MvM"
		"is commodity" 1337
		"special item description" "GRU used by robots in MvM"
		"custom item model" "models/weapons/c_models/c_boxing_gloves/c_boxing_gloves_xmas.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //pistol engineer (free 107% speed)
	{
		Name "Unequip Primary (+speed)"
		OriginalItemName "Roboot"
		"SPELL: set item tint RGB" 5
		"CARD: move speed bonus" 1.0675
		"is commodity" 1337
	}
	CustomWeapon //shotgun engineer (free 107% speed)
	{
		Name "Unequip Secondary (+speed)"
		OriginalItemName "Roboot"
		"SPELL: set item tint RGB" 5
		"CARD: move speed bonus" 1.0675
		"is commodity" 1337
	}
	CustomWeapon //shotgun engineer (free 107% speed)
	{
		Name "Unequip Buildings (+speed)"
		OriginalItemName "Damaged Capacitor"
		"CARD: move speed bonus" 1.0675
		"is commodity" 1337
	}

	CustomWeapon //sniper unequip
	{
		Name "Body Armor"
		OriginalItemName "Preventative Measure"
		"dmg taken increased" 0.65

		"is commodity" 1337
		"SPELL: set item tint RGB" 5
		"special item description" "-35% damage taken"
	}

	CustomWeapon //taser
	{
		Name "Taser"
		OriginalItemName "The Winger"

		//remove old stats
			"damage bonus" 1
			"clip size penalty" 1
			"increased jump height from weapon" 1
		//remove sold stats

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber

		"no damage falloff" 1
		"damage bonus hidden" 10
		"max bullet range" 256
		"fire rate bonus HIDDEN" 10
		"clip size penalty HIDDEN" 0.1
		"add cond on hit" 50 //sapped addcond
		"hidden secondary max ammo penalty" 0.33
		"add cond on hit duration" 5
		"ragdolls become ash" 1
		"damage all connected" 1
		"add damage type" 8 //fire damage
		"remove damage type" 2

		"is commodity" 1337
		"fire input on attack" "!activator^RunScriptCode^self.ViewPunch(QAngle(RandomInt(-5,-10),RandomInt(-5,-10),0))"
		"custom kill icon" "the_capper"
		"use original class weapon animations" 1
		"custom weapon fire sound" "Taser.Shoot"
		"custom item model" "models/weapons/c_models/c_gamma_gazer/c_gamma_gazer_1.mdl"
	}

	CustomWeapon //wrangler replace
	{
		Name "Silenced Pistol"
		OriginalItemName "The Winger"

		//remove old stats
			"damage bonus" 1
			"clip size penalty" 1
			"increased jump height from weapon" 1
		//remove sold stats

		"is commodity" 1337
		"provide on active" 1
		"attack projectiles" 2
		"damage penalty" 0.75
		"damage bonus bullet vs sentry target" 1.8
		"silent killer" 1
		// "maxammo secondary reduced" 0.18
		"custom kill icon" "pistol"
		"custom weapon fire sound" "Silencer.Shoot"
		"custom item model" "models/weapons/c_models/c_pistol_whisper/c_pistol_whisper.mdl"
	}
	ItemReplacement
	{
		"Silenced Pistol"
		{
			ClassName "tf_weapon_laser_pointer"
		}
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //needle shotgun
	{
		Name "Syringe Shotgun"
		OriginalItemName "The Rescue Ranger"

		//remove stats
			"engineer building teleporting pickup" 0
			"arrow heals buildings" 0
			"override projectile type" 11
			"mark for death on building pickup" 0
			"maxammo primary reduced" 1 //32 reserve
			"clip size penalty" 1
			"repair health to metal ratio DISPLAY ONLY" 0
		//remove stats

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber

		"mult projectile count" 6
		"projectile spread angle penalty" 6
		"projectile speed decreased" 0.5
		"mult projectile scale" 0.9
		"damage bonus hidden" 0.75
		"maxammo primary reduced" 0.74

		"is commodity" 1337
		"set_item_texture_wear" 0
		"paintkit_proto_def_index" 411
		"centerfire projectile" 1
		"custom kill icon" "syringegun_medic"
		"custom weapon fire sound" "Weapon_Shotgun.Single"
		"use original class weapon animations" 1
	}

	CustomWeapon //crit critters
	{
		Name "Krakensage"
		OriginalItemName "Upgradeable TF_WEAPON_BONESAW"
		"crit on cond" "11|33|34|35|37|38|39|40|44|56|105"
		"minicrit on cond" "16|19|78"
		"fire rate penalty" 1.2

		"is commodity" 1337
		"is dropped weapon" 1
		"special item description" "100% crits vs crit opponents"
		"special item description 2" "100% minicrits vs minicrit opponents"
		"custom item model" "models/weapons/c_models/c_krakensage/c_krakensage.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon  //difficult prize
	{
		Name "Deathly Canteen"
		OriginalItemName "Power Up Canteen (MvM)"
		"attach particle effect" 238
		"is commodity" 1337
	}

	CustomWeapon //hardcore prize
	{
		Name "Grappling Hook"
		OriginalItemName "TF_WEAPON_GRAPPLINGHOOK"

		//remove stats
			"single wep deploy time decreased" 1.3 // removes jitter when deploying
			"switch from wep deploy time decreased" 1
			"force weapon switch" 0
		//remove stats

		"special item description" "Breaks after 1 use | Repaired at each checkpoint"
		"cannot be upgraded" 1
		"is commodity" -1337
		//"max health additive bonus" 25
		// "mark for death" 1
		"attach particle effect" 272
	}

	CustomWeapon //final prize
	{
		Name "Ceremonial Bow"
		OriginalItemName "The Huntsman"
		"special item description" "Thank you for playing Trespasser!"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1

		"arrow ignite" 1
		"passive reload" 1
		"crits_become_minicrits" 1
		"max health additive bonus" 25
		"CARD: damage bonus" 1.25
		"aiming movespeed decreased" 0.0025

		"turn to gold" 1
		"is commodity" -1337
		// "attach particle effect" 3071
		//"custom projectile model" "models/weapons/df_bow/df_arrow.mdl" //non-functional
		"custom item model" "models/weapons/df_bow/df_bow.mdl"
	}

	CustomWeapon //headshot smg
	{
		Name "Heavy Machine Gun"
		OriginalItemName "Upgradeable TF_WEAPON_SMG"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber

		"clip size bonus" 2
		"reload time increased" 2
		"damage bonus" 1.5
		"maxammo secondary increased" 2

		"is commodity" 1337
		"revolver use hit locations" 1 //for inspect text
		"custom weapon fire sound" "MP40.Shoot"
		"custom item model" models/weapons/c_models/c_hmg/c_hmg.mdl
	}

	CustomWeapon //full-auto rifle
	{
		Name "Paratrooper Rifle"
		OriginalItemName "The Reserve Shooter"
		"special item description" "Press JUMP for parachute | No movement control while parachuted"

		//remove old stats
			"clip size penalty" 1
			"mod mini-crit airborne" 0
			"single wep deploy time decreased" 1
			"special taunt" 0
		//remove old stats

		"cannot be upgraded" 1
		//"dmg pierces resists absorbs" 1 //high caliber

		"provide on active" 1 //parachute only when using it
		"bullets per shot bonus" 0.1
		"clip size bonus" 4.2
		"hidden secondary max ammo penalty" 1.57
		"damage bonus hidden" 6.69 //40
		"fire rate bonus" 0.35
		"reload full clip at once" 1
		"reload time increased" 7.5
		"parachute attribute" 1
		"no damage falloff" 1
		"mult dmg while midair" 1.5

		"is commodity" 1337
		"use original class weapon animations" 1
		"custom kill icon" "sniperrifle"
		"custom weapon fire sound" "ParaRifle.Shoot"
		"custom weapon reload sound" "=80|trespasser_v2/fg42_reload.wav"
		"custom item model" "models/weapons/c_models/c_chains_of_command/c_chains_of_command.mdl"
	}

	CustomWeapon //accuracy melee
	{
		Name "Falcata"
		OriginalItemName "The Shahanshah"

		"cannot be upgraded" 1 //terribly op

		//remove stats
			"dmg bonus while half dead" 1
			"dmg penalty while half alive" 1
		//remove stats

		"damage bonus" 2
		"hit self on miss" 1

		"is commodity" 1337
		"self dmg push force decreased" 0.25
		"paintkit_proto_def_index" 271
		"set_item_texture_wear" 0
	}

	CustomWeapon //ultra fast melee
	{
		Name "Crowbar"
		OriginalItemName "The Crossing Guard"
		"deploy time decreased" 0.75
		"fire rate bonus" 0.30
		"damage penalty" 0.385
		"mult smack time" 0

		"is commodity" 1337
		"provide on active" 1
		"gesture speed increase" 2	//makes anims better?
		"custom kill icon" "paintrain"
		"custom impact sound" "Crowbar.Hit"
		"custom item model" "models/weapons/c_models/c_cratesmasher/c_cratesmasher_1.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //merasmus primary
	{
		Name "Binto Bartum"
		OriginalItemName "The Loose Cannon"

		"cannot be upgraded" 1

		"clip size penalty" 0.25
		"minicrits become crits" 1
		"self dmg push force decreased" 0.35

		"is commodity" 1337
		"crit mod disabled" 0
		"set_item_texture_wear" 0
		"paintkit_proto_def_index" 255
		"attach particle effect" 702
		"mult projectile scale" 0.75
		"hidden primary max ammo bonus" 0.5
		"stay after regenerate" 1
		"projectile trail particle" "~utaunt_glowyplayer_green_parent"
		"custom projectile model" "models/props_lakeside_event/bomb_temp_hat.mdl"
		"cosmetic taunt sound" "Halloween.MerasmusAppears"
		"use original class weapon animations" 1
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

	CustomWeapon //merasmus medigun
	{
		Name "Mictor Ate"
		OriginalItemName "Upgradeable TF_WEAPON_MEDIGUN"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //beam laser

		"provide on active" 1
		"medigun attack enemy" 1
		"alt-fire disabled" 1
		"ragdolls plasma effect" 1
		"subtract victim medigun charge on hit" 5
		"ubercharge rate penalty" -0.01
		"add give health to teammate on hit" 5
		"medigun attack enemy heal mult" 0.35 //leech
		"overheal penalty" 0
		"add attributes on hit" "hud overlay|effects/bleed_overlay|1"
		"fire input on hit" "!caller^speakresponseconcept^tlk_player_pain"
		"fire input on hit name restrict" "player"

		"is commodity" 1337
		"set_item_texture_wear" 0
		"paintkit_proto_def_index" 255
		"attach particle effect" 702
		"custom kill icon" "merasmus_zap"
		"medigun particle" "~bombonomicon_spell_trail"
		"use original class weapon animations" 1
		"cosmetic taunt sound" "Halloween.MerasmusAppears"
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

	CustomWeapon //bomb backpack
	{
		Name "The Bombinomicon"
		OriginalItemName "Damaged Capacitor"
		"special item description" "Provides pumpkin spells"
		"is commodity" 1337
		//"cosmetic taunt sound" "Halloween.MerasmusAppears"
		"custom item model" "models/player/items/merasmus/bombinomicon.mdl"
	}

	CustomWeapon //shotgun
	{
		Name "Magic Shotgun"
		OriginalItemName "TF_WEAPON_SHOTGUN_PYRO" //upgradeable doesn't work??
		"special item description" "Can random crit"
		"use original class weapon animations" 1
		"attach particle effect" 702 //huge fps loss

		"is commodity" 1337
		"taunt attack time mult" 3 //disable tauntkill
		"cosmetic taunt sound" "Halloween.MerasmusAppears"
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

	CustomWeapon  //merasmus grenade
	{
		Name "Powder Bombs"
		OriginalItemName "Jarate"
		"special item description" "Can random crit"
		"override projectile type" 3
		"projectile trail particle" "peejar_trail_red"
		"damage bonus hidden" 25
		"blast dmg to self increased" 10
		"self dmg push force increased" 10
		"blast radius increased" 2
		"mult dmg vs npc" 3
		"mult dmg vs tanks" 3

		"is commodity" 1337
		"use original class weapon animations" 1
		"custom item model"  "models/weapons/c_models/c_merasmus_jar_bomba/v_merasmus_jar_bomba.mdl"
		"custom projectile model" "models/weapons/c_models/c_merasmus_jar_bomba/c_merasmus_jar_bomba.mdl"
		"explosion particle" "mvm_loot_explosion"
		"custom kill icon" "merasmus_grenade"
		"projectile sound" "=80|ui/item_hat_drop.wav"
		"fire input on attack" "!activator^RunScriptCode^EmitSoundOn(`Halloween.MerasmusGrenadeThrow`,self)"
		"custom impact sound" "=80|weapons/underwater_explode4.wav"
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

	CustomWeapon //merasmus melee
	{
		Name "Merasmus's Staff"
		OriginalItemName "Upgradeable TF_WEAPON_CLUB"

		"cannot be upgraded" 1
		//"is_a_sword" 72

		"melee range multiplier" 1.7 //disciplinary action
		"melee bounds multiplier" 1.55 //disciplinary action
		"damage bonus" 1.537
		"fire rate penalty" 1.5
		"crit mod disabled" 0
		"SPELL: Halloween green flames"	1
		"fire input on hit" "!caller^RunScriptCode^Trespasser.MerasmusZap.call(this)"
		"fire input on hit name restrict" "player"

		"is commodity" 1337
		"special item description" "On hit: 100% chance of Mortis Longdistimus"
		"custom kill icon" "merasmus_decap"
		"use original class weapon animations" 1
		"cosmetic taunt sound" "Halloween.MerasmusAppears"
		"custom item model" "models/weapons/c_models/c_merasmus_staff/c_merasmus_staff.mdl"
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

	CustomWeapon //merasmus melee
	{
		Name "Unholy Mackerel"
		OriginalItemName "The Holy Mackerel"
		"fire rate penalty" 1.6
		"damage bonus" 1.858
		"crit mod disabled" 0

		"is commodity" 1337
		"set_item_texture_wear" 0
		"paintkit_proto_def_index" 405
		"attachment name" "effect_hand_R"
		"attachment angles" "0 0 -125"
		"special item description" "Standard Melee"
		"use original class weapon animations" 1
		"cosmetic taunt sound" "Halloween.MerasmusAppears"
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

	CustomWeapon //merasmus melee
	{
		Name "The Wanga Prick " //space is important
		OriginalItemName "The Wanga Prick"
		"cannot be upgraded" 1 //send player to loadoutitems right away
		"disguise on backstab" 0
		"taunt attack time mult" 3 //disable tauntkill

		"is commodity" 1337
		//"attachment name" "effect_hand_R"
		//"attachment angles" "0 0 -125"
		//"attachment offset" "1 2 0"
		"use original class weapon animations" 1
		"cosmetic taunt sound" "Halloween.MerasmusAppears"
		//"custom view model" "models/weapons/c_models/c_merasmus_arms.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //emissary weapon
	{
		Name "Emissary Bison"
		OriginalItemName "The Righteous Bison"

		"cannot be upgraded" 1
		"dmg pierces resists absorbs" 1 //high caliber
		"stay after regenerate" 1

		"is commodity" 1337
		"particle color rainbow" 999
		"projectile speed decreased" 0
		"damage penalty" 0.5
		"mult dmg vs tanks" 0.25
		"custom weapon fire sound" "Bison.Static.Shoot"
		"projectile lifetime" 5
		"attach particle effect" 270
	}

	CustomWeapon //poisoned
	{
		Name "Zombie Claws"
		OriginalItemName "UPGRADEABLE TF_WEAPON_FISTS"

		"provide on active" 1
		"move speed penalty" 0.65
		"damage penalty" 0.385 //35 = 0.545
		"mult smack time" 0
		"cancel falling damage" 1
		"crit mod disabled" 0
		"voice pitch scale" 0.65
		//"hud overlay" "debug/hsv" //elsewhere
		"no_jump" 1
		"no_duck" 1
		"no_attack" 1

		"weapon always gib" 1
		"can breathe under water" 1
		"swimming mastery" 1
		"cannot be sapped" 1
		"alt-fire disabled" 1
		"add cond when active" 41
		"taunt attack time mult" 3 //disable tauntkill
		"custom kill icon" "unarmed_combat"
		"fire input on attack" "!activator^speakresponseconcept^tlk_onfire"
		"custom impact sound" "Zombie.Attack"
		"override footstep sound set" 9
	}

	CustomWeapon //skeleton melee has degreaser switch
	{
		Name "Empty Machine Gun"
		OriginalItemName "The Crossing Guard"

		"cannot be upgraded" 1
		"deploy time decreased" 0.35
		"stay after regenerate" 1

		"is commodity" 1337
		"custom impact sound" "Weapon.Hit"
		"custom kill icon" "smg"
		"custom item model" "models/weapons/c_models/c_hmg/c_hmg_melee_alt.mdl"
	}

	CustomWeapon //riot gun
	{
		Name "Riot Gun"
		OriginalItemName "Upgradeable TF_WEAPON_GRENADELAUNCHER"

		"cannot be upgraded" 1
		"stay after regenerate" 1
		"boots falling stomp" 1

		"clip size bonus" 1.5
		"explosion particle" "rd_robot_explosion_smoke_linger"
		"custom impact sound" "=80|weapons/explode5.wav"
		"mult dmg vs npc" 4  //anti-skeleton
		"damage causes airblast" 1
		"no self blast dmg" 2
		"grenade no bounce" 1
		"grenade no spin" 1
		"grenade explode on impact" 1
		"self dmg push force decreased" 0.5
		"set_item_texture_wear" 0
		"paintkit_proto_def_index" 297
		"projectile trail particle" "~halloween_rockettrail"
		"custom projectile model" "models/weapons/w_models/w_flaregun_shell.mdl"
	}

////////////////////////////////////////////////////////////////////////////

	CustomWeapon //hack for cosmetics
	{
		Name "Backpack Remover"
		OriginalItemName "The Grisly Gumbo"
		"is invisible" 1
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Brute Armor"
		OriginalItemName "Bone-Cut Belt"
		"SPELL: set item tint RGB" 5
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Brute Double Knife"
		OriginalItemName "Iron Fist"
		"custom item model" "models/workshop_partner/weapons/c_models/c_sd_cleaver/c_sd_cleaver.mdl"
		"attachment name" "effect_hand_L"
		"attachment scale" 1.5
		"attachment angles" "0 90 0"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Riot Shield"
		OriginalItemName "Iron Fist"
		"custom item model" "models/weapons/c_models/c_assault_battering_ram/c_assault_battering_ram.mdl"
		"attachment name" "effect_hand_L"
		//"attachment scale" 1.5
		"attachment offset" "0 -5 5"
		"attachment angles" "-25 25 50"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Leaper Hat"
		OriginalItemName "The Grisly Gumbo"
		"custom item model" "models/workshop/player/items/pyro/hwn2023_splitting_headache/hwn2023_splitting_headache.mdl"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Leaper Back"
		OriginalItemName "Iron Fist"
		"custom item model" "models/workshop/player/items/pyro/hw2013_handhunter/hw2013_handhunter.mdl"
		"attachment name" "flag"
		"attachment scale" "1.05"
		"attachment angles" "90 -70 0"
		"attachment offset" "-20 60 -10"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Barnacle Hand"
		OriginalItemName "Iron Fist"
		"custom item model" "models/trespasser/burnacle.mdl"
		"attachment name" "effect_hand_R"
		"attachment scale" 0.5
		"attachment offset" "-5 -15 0"
		"attachment angles" "0 -15 80"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "RoBrute Chains"
		OriginalItemName "Honest Halo"
		"custom item model" "models/workshop/player/items/pyro/hw2013_maniacs_manacles/hw2013_maniacs_manacles.mdl"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "RoBrute Eye"
		OriginalItemName "Iron Fist"
		"custom item model" "models/workshop/player/items/sniper/spr17_hawk_eyed_hunter/spr17_hawk_eyed_hunter.mdl"
		"SPELL: set item tint RGB" 5
	}
	CustomWeapon //hack for cosmetics
	{
		Name "RoBrute Armor"
		OriginalItemName "The Grisly Gumbo"
		"custom item model" "models/workshop/player/items/medic/sf14_medic_herzensbrecher/sf14_medic_herzensbrecher.mdl"
	}

	CustomWeapon  //helicopter weapon
	{
		Name "Mortar Launcher"
		OriginalItemName "Upgradeable TF_WEAPON_ROCKETLAUNCHER"
		"projectile trail particle" "~rocketpack_exhaust"
		"projectile gravity" 4000
		"custom projectile model" "models/weapons/w_models/w_rocketbullet.mdl"
		"mult projectile scale" 1.5
		"explosion particle" "fireSmokeExplosion"
		"custom impact sound" "items/cart_explode.wav"
		"fire input on hit" "!caller^IgnitePlayer"
		"fire input on hit ally" "!caller^IgnitePlayer"
		"fire input on hit name restrict" "player"

		"custom kill icon" "deflect_rocket"
		"projectile no deflect" 1
		"crit mod disabled" 0
		"blast radius increased" 4
		"weapon never gib" 1
		"CARD: damage bonus" 20
		"no damage falloff" 1
	}

	CustomWeapon //hack for cosmetics
	{
		Name "Survivor Cape"
		OriginalItemName "Iron Fist"
		"custom item model" "models/workshop/player/items/sniper/headhunters_wrap/headhunters_wrap.mdl"
	}

	CustomWeapon //hack for cosmetics
	{
		Name "Shopkeeper Hat"
		OriginalItemName "The Lawnmaker"
		"item style override" 1
	}

	CustomWeapon //hack for cosmetics
	{
		Name "Military Hat"
		OriginalItemName "Ritzy Rick's Hair Fixative"
		"custom item model" "models/workshop/player/items/soldier/cloud_crasher/cloud_crasher.mdl"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Military Armor"
		OriginalItemName "Iron Fist"
		"custom item model" "models/workshop/player/items/soldier/sf14_ghoul_gibbing_gear/sf14_ghoul_gibbing_gear.mdl"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Military Mask"
		OriginalItemName "The Grisly Gumbo"
		"custom item model" "models/workshop/player/items/soldier/hwn2023_shortness_breath/hwn2023_shortness_breath.mdl"
	}
	CustomWeapon //hack for cosmetics
	{
		Name "Military Gloves"
		OriginalItemName "Employee Badge Plat"
		"custom item model" "models/workshop/player/items/soldier/coldfront_curbstompers/coldfront_curbstompers.mdl"
		"set item tint rgb" 12955537
	}

	CustomWeapon //hack for cosmetics
	{
		Name "Bomb Hat"
		OriginalItemName "Damaged Capacitor"
		"custom item model" "models/bots/gameplay_cosmetic/bot_light_bomb_helmet.mdl"
		"attachment name" "head"
		"attachment scale" 1.25
		"attachment offset" "-2 0 -10"
	}

	CustomWeapon //hack for cosmetics
	{
		Name "Bodyguard Hat"
		OriginalItemName "Damaged Capacitor"
		"custom item model" "models/player/items/heavy/cop_glasses.mdl"
		"attachment name" "head"
		"attachment scale" 1.15
		"attachment offset" "-2 0 -10"
	}

	CustomWeapon //hack for cosmetics
	{
		Name "Critical Helmet"
		OriginalItemName "Damaged Capacitor"
		"custom item model" "models/bots/soldier/gibhelmetcrit_boss.mdl"
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[LOADOUTS																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	ExtraLoadoutItems
	{
		Scout
		{
			Secondary "S-Uzi"
			Secondary "Dustbowl Eagle"

			// Secondary { Item "Upgradeable TF_WEAPON_PISTOL" Hidden 1 }	//bugfix
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Soldier
		{
			Secondary { Item "Slug Rifle" Hidden 1 }							//unlocked
			Secondary "Paratrooper Rifle"
			Secondary "Piston Gun"
			Melee "Crowbar"

			Secondary { Item "Upgradeable TF_WEAPON_PISTOL" Hidden 1 }		//bugfix
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Pyro
		{
			Secondary { Item "Incendiary Rifle" Hidden 1 }					//unlocked
			Secondary "Blaze Cannon"
			Melee "Crowbar"

			Secondary { Item "Upgradeable TF_WEAPON_PISTOL" Hidden 1 }		//bugfix
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Demoman
		{
			Secondary "Proximity Mine Launcher"
			Melee "Crowbar"
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		HeavyWeapons
		{
			Primary { Item "Chainsaw" Hidden 1 }							//unlocked
			Secondary "The Cardiac Arrest"
			Melee "Iron Jabs"
			Melee "War Mittens"
			//Melee "GRU MvM"

			Primary { Item "Upgradeable TF_WEAPON_SCATTERGUN" Hidden 1 }	//bugfix
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Engineer
		{
			Primary "Unequip Primary (+speed)"
			Secondary "Unequip Secondary (+speed)"
			4 "Unequip Buildings (+speed)"
			Secondary { Item "Dustbowl Eagle" Hidden 1 }					//unlocked
			Secondary "Taser"

			Secondary { Item "Upgradeable TF_WEAPON_PISTOL" Hidden 1 }		//bugfix
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Medic
		{
			Primary "Syringe Shotgun"
			Melee "Krakensage"
			Melee "Crowbar"
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Sniper
		{
			Primary { Item "Ceremonial Bow" Hidden 1 }						//unlocked
			Primary "The Razorback "
			Primary "The Cozy Camper "
			Primary "Darwin's Danger Shield "
			Secondary "Body Armor"
			//Secondary "Paratrooper Rifle"
			Secondary { Item "Heavy Machine Gun" Hidden 1 }					//unlocked
			Melee "Falcata"

			Primary { Item "Upgradeable TF_WEAPON_SCATTERGUN" Hidden 1 }	//bugfix
			Secondary { Item "Upgradeable TF_WEAPON_PISTOL" Hidden 1 }		//bugfix
			
			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Spy
		{
			Secondary "Derringer"
			Melee "The Harvester"

			Action { Item "Grappling Hook" Hidden 1 }						//unlocked
			Action { Item "Deathly Canteen" Hidden 1 }						//unlocked
		}
		Civilian
		{
			Primary "Binto Bartum"
			Primary "The Bombinomicon"
			Secondary "Mictor Ate"
			Secondary "Powder Bombs"
			Secondary "Magic Shotgun"
			Melee "Unholy Mackerel"
			Melee "Merasmus's Staff"
			// Action "Basic Spellbook" // conflicts with The Bombinomicon
		}
		Action { Item "Battery Canteens" Hidden 1 }						//bugfix
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[ITEM SPAWNS																																																												]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	PlayerSpawnTemplate //make spy's cloak meter depleted
	{
		Name "item_cloak_drainer"
		Class Spy
	}

	PlayerShootTemplate //lightning bolt
	{
		Name item_taser
		Offset "36 0 0"
		ItemName "Taser"
	}

	PlayerShootTemplate //skin and sound
	{
		Name item_proximity_mines
		AttachToProjectile 1
		ItemName "Proximity Mine Launcher"
	}

	PlayerItemEquipSpawnTemplate //delete pdas
	{
		Name "item_pda_killer"
		ItemName "Unequip Buildings (+speed)"
	}

	PlayerItemEquipSpawnTemplate //that zombie's got armor
	{
		Name "item_armor"
		ItemName "Body Armor"
	}

	PlayerItemEquipSpawnTemplate //make bottles already shattered
	{
		Name "item_bottle_breaker"
		SimilarToItem "tf_weapon_bottle"
	}
	PlayerItemEquipSpawnTemplate //make bottles already shattered
	{
		Name "item_bottle_breaker"
		SimilarToItem "The Scottish Handshake"
	}

	PlayerItemEquipSpawnTemplate //infected
	{
		Name "item_zombie"
		ItemName "Zombie Claws"
	}

	PlayerItemEquipSpawnTemplate //golden bow
	{
		Name "item_prize"
		ItemName "Ceremonial Bow"
	}

	// PlayerItemEquipSpawnTemplate //canteen
	// {
	// 	Name "item_canteen"
	// 	ItemName "Deathly Canteen"
	// }

	PlayerItemEquipSpawnTemplate // grappling hook
	{
		Name "item_grapple"
		ItemName "Grappling Hook"
	}

	PlayerItemEquipSpawnTemplate // spellbook
	{
		Name "item_spellbook"
		ClassName "tf_weapon_spellbook"
	}

	PlayerItemEquipSpawnTemplate //magic word
	{
		Name "item_merasmus_1"
		ItemName "Binto Bartum"
	}

	PlayerShootTemplate //bomb skin
	{
		Name item_merasmus_2
		AttachToProjectile 1
		ItemName "Binto Bartum"
	}

	PlayerItemEquipSpawnTemplate //magic word
	{
		Name "item_merasmus_3"
		ItemName "Mictor Ate"
	}

	PlayerItemEquipSpawnTemplate //bombinomicon logic
	{
		Name "item_merasmus_spell"
		ItemName "The Bombinomicon"
	}

	PlayerItemEquipSpawnTemplate //bombinomicon logic
	{
		Name "item_merasmus_powderbombs"
		ItemName "Powder Bombs"
	}

	PlayerItemEquipSpawnTemplate //parachute gun
	{
		Name "item_fg42"
		ItemName "Paratrooper Rifle"
	}

	PlayerItemEquipSpawnTemplate //chainsaw
	{
		Name "item_chainsaw"
		ItemName "Chainsaw"
	}

	PlayerSpawnTemplate //civilian setup
	{
		Name "class_merasmus_setup"
		Class Civilian
	}

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[POINTTEMPLATES																																																											]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	PointTemplates
	{

		vscript_launcher //start vscript
		{
			OnSpawnOutput
			{
				Target bignet
				Action RunScriptCode
				Param "IncludeScript(`trespasser_remaster`)"
			}
			info_target
			{
				"targetname" "spawn_loot" //death teleport
				"origin" "546 2047 11"
				"angles" "0 90 0"
			}
			info_target
			{
				"targetname" "spawn_boss_alt" //mono front manor
				"origin" "0 -384 288"
				"angles" "0 90 0"
			}
			info_target
			{
				"targetname" "spawn_purgatory" //player front manor
				"origin" "-356 -666 227"
				"angles" "0 90 0"
			}
			info_target
			{
				"targetname" "spawn_boss_alt" //mono inside
				"origin" "0 888 250"
				"angles" "0 90 0"
			}
			info_target
			{
				"targetname" "spawn_purgatory" //player inside
				"origin" "-161 3274 289"
				"angles" "0 90 0"
			}
			info_target
			{
				"targetname" "spawn_boss_alt" //mono courtyard
				"origin" "0 2010 288"
				"angles" "0 90 0"
			}
			info_target
			{
				"targetname" "spawn_purgatory" //player courtyard
				"origin" "-266 2181 1085"
				"angles" "90 -90 0"
			}
			$filter_sendprop
			{
				"targetname" "filter_bot"
				"$name" "m_bIsABot"
				"$value" "0"
				"$compare" "equal"
			}
			filter_multi
			{
				"targetname" "filter_red_alive_bot"
				"Filter01" "filter_red_alive"
				"Filter02" "filter_bot"
			}
			$filter_sendprop
			{
				"targetname" "filter_alive"
				"$name" "m_lifeState"
				"$value" "0"
				"$compare" "equal"
			}
			filter_multi
			{
				"targetname" "filter_blu_alive"
				"Filter01" "filter_alive"
				"Filter02" "filter_blu"
			}
			filter_multi
			{
				"targetname" "filter_red_alive"
				"Filter01" "filter_alive"
				"Filter02" "filter_red"
			}
			filter_multi
			{
				"targetname" "filter_red_alive_heavy"
				"Filter01" "filter_red_alive"
				"Filter02" "filter_heavy"
			}
			filter_tf_class
			{
				"targetname" "filter_heavy"
				"tfclass" "6"
			}
			filter_multi
			{
				"targetname" "filter_red_alive_demo"
				"Filter01" "filter_red_alive"
				"Filter02" "filter_demo"
			}
			filter_tf_class
			{
				"targetname" "filter_demo"
				"tfclass" "4"
			}
			info_powerup_spawn
			{
				"origin" "450 -32 -68"
			}
		}

		item_armor
		{
			OnSpawnOutput
			{
				Target !parent
				Action $giveitem
				Param "Riot Shield"
			}
		}

		item_pda_killer
		{
			OnSpawnOutput
			{
				Target !activator
				Action $WeaponStripSlot
				Param 3
			}
			OnSpawnOutput
			{
				Target !activator
				Action $WeaponStripSlot
				Param 4
			}
			OnSpawnOutput
			{
				Target !activator
				Action $WeaponStripSlot
				Param 5
			}
			logic_relay
			{
				"targetname" "pda_loop"
				"onspawn" "!self,trigger,0,0.1,-1"
				"ontrigger" "!parent,$weaponstripslot,3,0,-1"
				"ontrigger" "!parent,$weaponstripslot,4,0,-1"
				"ontrigger" "!parent,$weaponstripslot,5,0,-1"
				"ontrigger" "!self,trigger,0,1,-1"
				"spawnflags" "2"
			}
		}
		item_merasmus_1
		{
			OnSpawnOutput
			{
				Target !activator
				Action $PlaySoundToSelf
				Param vo/halloween_merasmus/sf12_magicwords09.mp3
			}
		}
		item_merasmus_2
		{
			OnSpawnOutput
			{
				Target !parent
				Action skin
				Param 1
			}
		}
		item_merasmus_3
		{
			OnSpawnOutput
			{
				Target !activator
				Action $PlaySoundToSelf
				Param vo/halloween_merasmus/sf12_magicwords11.mp3
			}
			OnSpawnOutput
			{
				Target tf_weapon_medigun
				Action SetBodyGroup
				Param 1
			}
		}
		item_proximity_mines
		{
			OnSpawnOutput
			{
				Target !parent
				Action skin
				Param 1
				Delay 0.7
			}
			OnSpawnOutput
			{
				Target !parent
				Action $PlaySound
				Param =70|weapons/physcannon/physcannon_claws_open.wav
				Delay 0.7
			}
		}
		item_prize
		{
			OnSpawnOutput
			{
				Target !activator
				Action $PlaySoundToSelf
				Param ui/itemcrate_smash_ultrarare_fireworks.wav
			}
		}
		// item_canteen
		// {
		// 	OnSpawnOutput
		// 	{
		// 		Target !activator
		// 		Action RunScriptCode
		// 		Param "Trespasser.DeathlyCanteen.call(this)"
		// 	}
		// }
		item_grapple
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.GrapplingHook.call(this)"
			}
		}
		item_spellbook
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.SpellbookHud.call(this)"
			}
		}
		item_chainsaw
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.Chainsaw.call(this)"
			}
		}
		item_cloak_drainer
		{
			OnSpawnOutput
			{
				Target !activator
				Action $setclientprop$m_flCloakMeter
				Param 0
			}
		}
		item_bottle_breaker
		{
			OnSpawnOutput
			{
				Target tf_weapon_bottle
				Action $setprop$m_bBroken
				Param 1
			}
		}
		item_merasmus_spell
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.GiveBombinomicon.call(this)"
				Delay 0.1
			}
			logic_relay
			{
				"onspawn" "!parent,$playsoundtoself,Halloween.BombinomiconSpin,0,-1"
				"spawnflags" "2"
			}
		}
		item_merasmus_powderbombs
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.PowderBombs.call(this)"
			}
		}
		item_taser
		{
			info_particle_system
			{
				targetname taser_fx
				effect_name utaunt_lightning_bolt
				angles "0 88 90"
			}
			OnSpawnOutput
			{
				Target taser_fx
				Action Start
			}
			OnSpawnOutput
			{
				Target taser_fx
				Action Kill
				Delay 0.35
			}
		}
		item_zombie
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.SetInfectedSniperViewmodel.call(this)"
			}
		}
		item_fg42
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.ParatrooperRifle.call(this)"
			}
		}

		stalker_spy
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.SetSpecialCloak.call(this)"
			}
		}
		player_clone
		{
			FireInput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.SetDoppelganger(self, Trespasser.GetRandomPlayerShuffle([2], true, false))"
				Delay 0
				Repeats 1
			}
		}
		item_zombie_slap
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.SetZombieSlap.call(this)"
			}
		}
		bomb_bot_taunt
		{
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "if(!Trespasser.bSoloMode)
				{
					local hPlayer = self
					EntFireByHandle(hPlayer, `$TauntFromItem`, `Taunt: Rocket Jockey`, 0.25, null, null)
					local hWeapon = hPlayer.GetActiveWeapon()
					hWeapon.ValidateScriptScope()
					local hWeapon_scope = hWeapon.GetScriptScope()
					hWeapon_scope.vecFakeForward <- hPlayer.GetForwardVector()
					hWeapon_scope.Think <- function()
					{
						if(hPlayer.InCond(TF_COND_TAUNTING))
						{
							if(endswith(hPlayer.GetSequenceName(hPlayer.GetSequence()), `deploybomb`)) hPlayer.RemoveCond(TF_COND_TAUNTING)
							local vecTarget = hPlayer.GetAbsVelocity()
							vecTarget.Norm()
							local vecForward = vecFakeForward
							local vecDirection = vecForward + (vecTarget - vecForward) * 0.1
							vecFakeForward = vecDirection
							hPlayer.SnapEyeAngles(TankExt.VectorToQAngle(vecDirection))
						}
						return -1
					}
					AddThinkToEnt(hWeapon, `Think`)
				}"
			}
		}
		monoculus_nerf
		{
			KeepAlive 1
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "Trespasser.MonoculusScript.call(this)"
			}
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "if(Trespasser.bSoloMode) FindByClassname(null, `eyeball_boss`).SetHealth(6000)"
			}
			OnSpawnOutput
			{
				Target fake_viro_head
				Action enable
			}
			OnSpawnOutput
			{
				Target fake_viro_base
				Action enable
			}
			OnParentKilledOutput
			{
				Target player
				Action $displaytextchat
				Param "{2EFF00}Shopkeeper{reset} :  Stay away from that darn book!"
				Delay 1.5
			}
			OnParentKilledOutput
			{
				Target player
				Action $displaytextcenter
				Param "FEAR THE BOMBINOMICON"
			}
			OnParentKilledOutput
			{
				Target player
				Action $playsoundtoself
				Param "Engineer.CritDeath"
				Delay 0.5
			}
			OnParentKilledOutput
			{
				Target jump_scare
				Action disable
			}
			OnParentKilledOutput
			{
				Target loot_scare
				Action enable
			}
		}
		mallet_horsemann
		{
			//KeepAlive 1
			OnSpawnOutput
			{
				Target !activator
				Action RunScriptCode
				Param "for(local hChild = self.FirstMoveChild(); hChild; hChild = hChild.NextMovePeer()) if(hChild.GetClassname() == `prop_dynamic`) { hChild.SetModelSimple(`models/weapons/c_models/c_big_mallet/c_big_mallet.mdl`); break }"
				Delay 0
			}
			OnSpawnOutput
			{
				Target tf_gamerules
				Action $SetProp$m_halloweenScenario
				Param "5"
				Delay 0
			}
			OnSpawnOutput
			{
				Target tf_gamerules
				Action PlayVO
				Param "Halloween.Headless_BossSpawn"
				Delay 0
			}
			//OnSpawnOutput
			//{
			//    Target tf_gamerules
			//    Action PlayVO
			//    Param "pyro.music_backpack"
			//    Delay 0
			//}
			//OnSpawnOutput //green bar?
			//{
			//    Target tf_gamerules
			//    Action $SetBossState
			//    Param "1"
			//    Delay 0
			//}
			//OnParentKilledOutput
			//{
			//    Target tf_gamerules
			//    Action $SetBossState
			//    Param "0"
			//    Delay 5
			//}
			OnParentKilledOutput
			{
				Target tf_gamerules
				Action $SetProp$m_halloweenScenario
				Param "0"
				Delay 0
			}
		}

		class_merasmus_setup
		{
			logic_relay
			{
				"targetname" "warning"
				"onspawn" "!parent,$displaytextcenter,READ THIS READ THIS READ THIS READ THIS,0,-1"
				"onspawn" "!parent,$displaytextcenter,cl_hud_playerclass_use_playermodel 0 to avoid crashing with Merasmus,2,-1"
				"onspawn" "!parent,$displaytextcenter,DO NOT PRESS 'M' DO NOT ATTEMPT TO OPEN CHARACTER LOADOUT,7,-1"
				"onspawn" "!parent,$displaytexthint,Equip your Merasmus weapons at the Upgrade Station,3,-1"
				"onspawn" "!parent,$giveitem,Merasmus's Hat,0,-1"
				"spawnflags" "2"
			}
			OnSpawnOutput //give free wanga but don't override new choices
			{
				Target !activator
				Action RunScriptCode
				Param "
				local bHasMelee = false
				for(local i = 0; i <= 8; i++)
				{
					local hWeapon = GetPropEntityArray(self, `m_hMyWeapons`, i)
					if(hWeapon && hWeapon.GetSlot() == 2)
						{ bHasMelee = true; break }
				}
				if(!bHasMelee) self.AcceptInput(`$GiveItem`, `The Wanga Prick `, null, null)"
			}
			OnSpawnOutput //fix speed glitch
			{
				Target !activator
				Action $addcond
				Param "32 0.1"
			}
			OnSpawnOutput
			{
				Target !activator
				Action SetCustomModelVisibleToSelf
				Param 1
			}
			OnSpawnOutput
			{
				Target !activator
				Action SetCustomModelWithClassAnimations
				Param "models/player/merasmus.mdl"
			}
			OnParentKilledOutput
			{
				Target !activator
				Action SetCustomModelVisibleToSelf
				Param 0
			}
		}

		class_merasmus_equip //default item for civilian
		{
			logic_relay
			{
				"onspawn" "!parent,$giveitem,The Wanga Prick ,0,-1"
				"spawnflags" "2"
			}
		}

		class_undead_1 //zombification
		{
			KeepAlive 1
			NoFixup 1
			info_target
			{
				"targetname" "1_becomes_zombie"
			}
		}
		class_undead_2 //zombification
		{
			KeepAlive 1
			NoFixup 1
			info_target
			{
				"targetname" "2_becomes_zombie"
			}
		}
		class_undead_3 //zombification
		{
			KeepAlive 1
			NoFixup 1
			info_target
			{
				"targetname" "3_becomes_zombie"
			}
		}
		class_undead_4 //zombification
		{
			KeepAlive 1
			NoFixup 1
			info_target
			{
				"targetname" "4_becomes_zombie"
			}
		}

		class_rescue // survivors
		{
			OnSpawnOutput
			{
				Target !parent
				Action $setprop$m_bGlowEnabled
				Param 1
				Delay 39
			}
			OnSpawnOutput
			{
				Target gototable
				Action Kill
				Delay 70
			}
			OnSpawnOutput
			{
				Target gototable
				Action Enable
				Delay 39
			}
			OnSpawnOutput
			{
				Target gototable
				Action RunScriptCode
				Param "hPlayer <- activator"
				Delay -1
			}
			trigger_multiple
			{
				"targetname" "gototable"
				"filtername" "filter_blu"
				"StartDisabled" "1"
				"origin" "0 0 0"
				"mins" "-512 -512 -512"
				"maxs" "512 512 512"
				"spawnflags" "1"
				"OnStartTouch" "!selfRunScriptCodehPlayer.AcceptInput(`$ChangeAttributes`, `Defense`, null, null)-1-1"
				"OnStartTouch" "!self,Kill,,0,-1"
			}
			// logic_relay
			// {
			// 	"targetname" "team_convert_sound"
			// 	"ontrigger" "player,$playsoundtoself,Team.Convert,1,-1"
			// 	"ontrigger" "player,$playsoundtoself,Team.Convert,1.15,-1"
			// 	"ontrigger" "player,$playsoundtoself,Team.Convert,1.35,-1"
			// 	"spawnflags" "2"
			// }
			// OnSpawnOutput
			// {
			// 	Target !parent
			// 	Action $SetProp$m_bForcedSkin
			// 	Param 1
			// 	Delay 0
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $SetProp$m_nForcedSkin
			//     Param 1
			// 	Delay 0.1
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $setprop$m_bGlowEnabled
			//     Param 1
			// 	Delay 11
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $setprop$m_bGlowEnabled
			//     Param 0
			// 	Delay 11.3
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $setprop$m_bGlowEnabled
			//     Param 1
			// 	Delay 11.6
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $setprop$m_bGlowEnabled
			//     Param 0
			// 	Delay 11.9
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $setprop$m_bGlowEnabled
			//     Param 1
			// 	Delay 12.2
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $setprop$m_bGlowEnabled
			//     Param 0
			// 	Delay 12.5
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $SetProp$m_nForcedSkin
			//     Param 0
			// 	Delay 11
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $SetProp$m_nForcedSkin
			//     Param 1
			// 	Delay 11.3
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $SetProp$m_nForcedSkin
			//     Param 0
			// 	Delay 11.6
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $SetProp$m_nForcedSkin
			//     Param 1
			// 	Delay 11.9
			// }
			// OnSpawnOutput
			// {
			//     Target !parent
			//     Action $SetProp$m_nForcedSkin
			//     Param 0
			// 	Delay 12.2
			// }
		}

		p_money_gfx //particles for money steels
		{
			NoFixup 1
			info_particle_system
			{
				"targetname" "money"
				"effect_name" "mvm_cash_embers"
				"flag_as_weather" "0"
				"start_active" "1"
			}
		}

		p_blood_fog
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "blood_fog_1"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 196"
				"rendercolor" "125 0 0"
				//"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "blood_fog_2"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 196"
				"rendercolor" "125 0 0"
				"angles" "0 0 180"
				//"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "blood_fog_3"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 -53"
				"rendercolor" "125 0 0"
				//"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "blood_fog_4"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 634"
				"rendercolor" "125 0 0"
				"angles" "0 0 180"
				//"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "blood_fog_5"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 634"
				"rendercolor" "125 0 0"
				"angles" "0 0 0"
				//"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "hhh_fog_1"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 196"
				"rendercolor" "155 0 155"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "hhh_fog_2"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 196"
				"rendercolor" "155 0 155"
				"startdisabled" "1"
				"angles" "0 0 180"
			}
			prop_dynamic
			{
				"targetname" "hhh_fog_3"
				"model" "models/props_lakeside_event/fog_plane03.mdl"
				"disableshadows" "1"
				"origin" "0 645 -53"
				"rendercolor" "155 0 155"
				"startdisabled" "1"
			}
			logic_relay
			{
				"targetname" "blood_fog_on"
				"ontrigger" "blood_fog_1,enable,,0,-1"
				"ontrigger" "blood_fog_2,enable,,0,-1"
				"ontrigger" "blood_fog_3,enable,,0,-1"
				"ontrigger" "blood_fog_4,enable,,0,-1"
				"ontrigger" "blood_fog_5,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "blood_fog_off"
				"ontrigger" "blood_fog_1,disable,,0,-1"
				"ontrigger" "blood_fog_2,disable,,0,-1"
				"ontrigger" "blood_fog_3,disable,,0,-1"
				"ontrigger" "blood_fog_4,disable,,0,-1"
				"ontrigger" "blood_fog_5,disable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "halloween_fog_on"
				"ontrigger" "hhh_fog_1,enable,,0,-1"
				"ontrigger" "hhh_fog_2,enable,,0,-1"
				"ontrigger" "hhh_fog_3,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "halloween_fog_off"
				"ontrigger" "hhh_fog_1,disable,,0,-1"
				"ontrigger" "hhh_fog_2,disable,,0,-1"
				"ontrigger" "hhh_fog_3,disable,,0,-1"
				"spawnflags" "2"
			}
		}

		p_viro_base //boss
		{
			NoFixup 1
			OnSpawnOutput
			{
				Target viro_base
				Action RunScriptCode
				Param "Trespasser.Virophage.call(this)"
			}
			OnSpawnOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "rendermode 1"
			}
			OnSpawnOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "renderamt 0"
			}
			OnParentKilledOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "rendermode 0"
			}
			OnParentKilledOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "renderamt 255"
			}
			info_particle_system
			{
				"targetname" "virophage_particle"
				"effect_name" "utaunt_hands_teamcolor_red"
				"flag_as_weather" "0"
				"start_active" "1"
				"angles"     "0 0 0"
				"origin"	 "0 0 195"
			}
			prop_dynamic
			{
				"targetname" "viro_base"
				"model"      "models/trespasser/burnacle.mdl"
				"rendercolor" "100 100 100"
				"modelscale" "4"
				"solid"      "0"
				"angles"     "0 0 -180"
				"origin"	 "0 0 5"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"defaultAnim" "chew_humanoid"
			}
			prop_dynamic
			{
				"targetname" "viro_head"
				"model"      "models/props_viaduct_event/skull_island01.mdl"
				"rendercolor" "100 100 100"
				"modelscale" "0.075"
				"solid"      "0"
				"angles"     "0 90 45"
				"origin"	 "10 0 100"
				"disableshadows" "1"
				"lightingorigin" "viro_base"
			}
		}
		p_viro_base_blue //boss
		{
			NoFixup 1
			OnSpawnOutput
			{
				Target viro_base
				Action RunScriptCode
				Param "Trespasser.Virophage.call(this)"
			}
			OnSpawnOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "rendermode 1"
			}
			OnSpawnOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "renderamt 0"
			}
			OnParentKilledOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "rendermode 0"
			}
			OnParentKilledOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "renderamt 255"
			}
			info_particle_system
			{
				"targetname" "virophage_particle"
				"effect_name" "utaunt_hands_teamcolor_blue"
				"flag_as_weather" "0"
				"start_active" "1"
				"angles"     "0 0 0"
				"origin"	 "0 0 195"
			}
			prop_dynamic
			{
				"targetname" "viro_base"
				"model"      "models/trespasser/burnacle.mdl"
				"rendercolor" "100 100 100"
				"modelscale" "4"
				"solid"      "0"
				"angles"     "0 0 -180"
				"origin"	 "0 0 5"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"defaultAnim" "chew_humanoid"
			}
			prop_dynamic
			{
				"targetname" "viro_head"
				"model"      "models/props_halloween/skull_island_horns.mdl"
				"rendercolor" "100 100 100"
				"modelscale" "0.075"
				"solid"      "0"
				"angles"     "0 90 45"
				"origin"	 "10 0 100"
				"disableshadows" "1"
				"lightingorigin" "viro_base"
			}
		}
		p_viro_fake //spooky
		{
			NoFixup 1
			OnSpawnOutput //expensive?
			{
				Target fake_viro_head
				Action RunScriptCode
				Param
				"
					function Think()
					{
						local bPlayer = false
						for(local hPlayer; hPlayer = FindByClassnameWithin(hPlayer, `player`, Vector(544, 1280, -64), 168);)
						{
							if(hPlayer && hPlayer.IsAlive())
							{
								bPlayer = true
								local vecOriginTowards = self.GetOrigin() - hPlayer.GetOrigin()
								vecOriginTowards.Norm()
								vecOriginTowards.z = 0
								self.SetForwardVector(vecOriginTowards)
								self.SetAbsAngles(self.GetAbsAngles() + QAngle(0, -90, 45))
								break
							}
						}
						if(!bPlayer)
							self.SetAbsAngles(QAngle(0, -90, 45))
						return -1
					}
					AddThinkToEnt(self, `Think`)
				"
			}
			prop_dynamic
			{
				"targetname" "fake_viro_head"
				"model"      "models/props_viaduct_event/skull_island01.mdl"
				"rendercolor" "100 100 100"
				"modelscale" "0.075"
				"solid"      "0"
				"angles"     "0 0 45"
				"origin"	 "555 2111 53"
				"disableshadows" "1"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "fake_viro_base"
				"model"      "models/trespasser/burnacle.mdl"
				"rendercolor" "100 100 100"
				"modelscale" "4"
				"solid"      "0"
				"angles"     "0 -90 -180"
				"origin"	 "555 2101 -53"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"defaultAnim" "chew_humanoid"
				"lightingorigin" "chandelier_light"
			}
			trigger_once
			{
				"targetname" "jump_scare"
				"origin" "544 1876 56"
				"mins" "-152 -550 -120"
				"maxs" "152 300 120"
				"spawnflags" "1"

				"onstarttouch" "fake_viro_head,Kill,,0,-1"
				"onstarttouch" "fake_viro_base,Kill,,0,-1"
				//"onstarttouch" "!activator,$playsoundtoself,npc/stalker/go_alert2a.wav,0,-1"
				//"onstarttouch" "!activator,$playsoundtoself,npc/stalker/go_alert2a.wav,0,-1"
				//"onstarttouch" "!activator,speakresponseconcept,halloweenlongfall,0,-1"
				//"onstarttouch" "!activator,kill,,0.5,-1"
				//"onstarttouch" "!activator,$tauntfromitem,Taunt: The Scaredy-cat!,0.35,-1"
				//"onstarttouch" "!activatorrunscriptcodeScreenFade(null, 0, 0, 0, 255, 0.5, 0, 3)0-1"
				//"onstarttouch" "!activatorrunscriptcodeself.ViewPunch(QAngle(-75, -75, 0))0-1"
			}
			trigger_hurt //trigger_once
			{
				"targetname" "loot_scare"
				"startdisabled" 1
				"origin" "544 1876 56"
				"mins" "-152 -550 -120"
				"maxs" "152 300 120"
				"spawnflags" "1"
				"damage" "66"
				"damagetype" 1048640

				"onstarttouch" "!activatorrunscriptcodeself.TakeDamageEx(Entities.FindByName(null, `loot_icon`), self, null, Vector(), Vector(), 666, 1048640)0-1"
				"onstarttouch" "!activator,$playsoundtoself,vo/engineer_specialcompleted09.mp3,3,-1"
				"onstarttouch" "!activator,$playsoundtoself,Evil.Laugh.Close,1,-1"
			}
		}

		p_spawn_window //occupies spawnbot_back and sends to window
		{
			NoFixup 1
			info_player_teamspawn
			{
				"targetname" "spawnbot_window"
				"teamnum" "5"
				"origin" "-152 3346 319"
				"angles" "0 90 0"
			}
			trigger_teleport
			{
				"targetname" "window_teleporter"
				"mins" "-224 -352 -576"
				"maxs" "224 352 576"
				"origin" "-160 3132 704"
				"spawnflags" "1"
				//"filtername" "filter_blu"
				"startdisabled" "0"
				"target" "info_tele_window"
			}
			trigger_push //yeet
			{
				"targetname" "window_pusher"
				"mins" "-224 -152 -576"
				"maxs" "224 352 576"
				"origin" "-160 3132 704"
				"pushdir" "0 90 0"
				"spawnflags" "1"
				//"filtername" "filter_blu"
				"speed" "750"
			}
			info_teleport_destination
			{
				"targetname" "info_tele_window"
				"origin" "539 -97 332"
				"angles" "0 90 0"
			}
		}

		p_annotations //ingame hints
		{
			NoFixup 1
			training_annotation
			{
			  "targetname"   "sign_toll"
			  "display_text" "Y'all stuck with me now."
			  "lifetime"     "5"
			  "origin" "945 1600 275"
			}
			training_annotation
			{
			  "targetname"   "sign_slow"
			  "display_text" "Running out in the open will slow you down"
			  "lifetime"     "8"
			  "origin" "-680 -139 66"
			}
			training_annotation
			{
			  "targetname"   "sign_kill"
			  "display_text" "KILL KILL KILL KILL KILL"
			  "lifetime"     "5"
			  "origin" "945 1600 275"
			}
			training_annotation
			{
			  "targetname"   "sign_bomb"
			  "display_text" "The robots have brought bombs!"
			  "lifetime"     "8"
			  "origin" "-1180 -486 203"
			}
			training_annotation
			{
			  "targetname"   "sign_infection"
			  "display_text" "If you become infected you must hide to recover!"
			  "lifetime"     "8"
			  "origin" "10 1235 165"
			}
			training_annotation
			{
			  "targetname"   "sign_last"
			  "display_text" "YOU ARE THE LAST..."
			  "lifetime"     "10"
			  "origin" "10 1235 165"
			}
			training_annotation
			{
			  "targetname"   "sign_break"
			  "display_text" "CHECKPOINT - The shop is open"
			  "lifetime"     "56.25"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_break_last"
			  "display_text" "LAST CHECKPOINT..."
			  "lifetime"     "56.25"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_countdown_FIVE"
			  "display_text" "5"
			  "lifetime"     "1"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_countdown_FOUR"
			  "display_text" "4"
			  "lifetime"     "1"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_countdown_THREE"
			  "display_text" "3"
			  "lifetime"     "1"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_countdown_TWO"
			  "display_text" "2"
			  "lifetime"     "1"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_countdown_ONE"
			  "display_text" "1"
			  "lifetime"     "1"
			  "origin" "856 1530 360"
			}
			training_annotation
			{
			  "targetname"   "sign_lz"
			  "display_text" "Secure the landing zone to escape!"
			  "lifetime"     "15"
			  "origin" "622 -942 551"
			}
			training_annotation
			{
			  "targetname"   "sign_military"
			  "display_text" "Reinforcements have arrived!"
			  "lifetime"     "5"
			  "origin" "622 -942 151"
			}
		}

		p_decorations //decoration
		{
			NoFixup 1
			OnSpawnOutPut
			{
				Target giant_viro
				Action SetPlayBackRate
				Param 0.25
				Delay 0.1
			}
			OnSpawnOutPut
			{
				Target big_viro_1
				Action SetPlayBackRate
				Param 0.5
				Delay 0.1
			}
			OnSpawnOutPut
			{
				Target big_viro_2
				Action SetPlayBackRate
				Param 0.5
				Delay 0.1
			}
			OnSpawnOutPut
			{
				Target big_viro_3
				Action SetPlayBackRate
				Param 0.5
				Delay 0.1
			}
			info_target
			{
				"targetname" "chandelier_light"
				"origin" "0 775 500"
			}
			info_target
			{
				"targetname" "moon_light"
				"origin" "0 2146 600"
			}
			prop_dynamic
			{
				"targetname" "carpet_rug"
				"disableshadows" "1"
				"model" "models/props_manor/banner_01.mdl"
				"origin" "853 912 350"
				"angles" "0 90 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "carpet_paint"
				"disableshadows" "1"
				"modelscale" "0.5"
				"model" "models/props_manor/painting_06.mdl"
				"origin" "856 912 455"
				"angles" "0 90 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "carpet_curtain"
				"modelscale" "1.18"
				"disableshadows" "1"
				"model" "models/props_manor/curtains_02.mdl"
				"origin" "855 941 235"
				"angles" "0 0 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "cement_truck"
				"disableshadows" "1"
				"skin" "1"
				"model" "models/props_vehicles/land/cement_truck_wasted.mdl"
				"origin" "-139 2791 428"
				"angles" "-5 -90 4"
			}
			prop_dynamic
			{
				"targetname" "boss_chair"
				"model" "models/props_spytech/chair.mdl"
				"disableshadows" "1"
				"origin" "0 450 192"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "boss_chair_fallen"
				"model" "models/props_spytech/chair.mdl"
				"disableshadows" "1"
				"origin" "50 280 208"
				"angles" "0 110 90"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "boss_desk"
				"model" "models/props_medieval/bar_table.mdl"
				"disableshadows" "1"
				"origin" "0 488 192"
				"angles" "0 0 0"
			}
			func_nobuild
			{
				"targetname" "desk_nobuild"
				"mins" "-76 -63 -29"
				"maxs" "76 63 29"
				"AllowTeleporters" "1"
				"AllowSentry" "0"
				"AllowDispenser" "0"
				"origin" "0 488 192"
			}
			func_forcefield //allow blue to move through the table
			{
				"targetname" "desk_barrier"
				"origin" "0 488 212"
				"mins" "-82.5 -41 -20.5"
				"maxs" "82.5 41 20.5"
				"teamnum" "3"
			}
			trigger_teleport //if you get stuck in the desk somehow
			{
				"targetname" "desk_failsafe"
				"mins" "-82.5 -41 -20"
				"maxs" "82.5 41 20"
				"origin" "0 488 212"
				"spawnflags" "1"
				"filtername" "filter_red"
				"target" "desk_failsafe_target"
				"onstarttouch" "!activatorrunscriptcodeif(self.IsPlayer())self.ViewPunch(QAngle(-5,5,-5))0-1"
			}
			info_target
			{
				"targetname" "desk_failsafe_target"
				"origin" "0 488 250"
				"angles" "0 -90 0"
			}
			logic_relay
			{
				"targetname" "desk_relay"
				"ontrigger" "boss_chair,kill,,0,-1"
				"ontrigger" "boss_deskrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(0,1,0))0-1"
				"ontrigger" "boss_deskrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "boss_deskrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(1,0,0))0-1"
				"ontrigger" "boss_deskrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(0,0,1))0-1"
				"ontrigger" "boss_desk,$playsound,ambient_mp3/rottenburg/barrier_smash.mp3,0,-1"
				"ontrigger" "boss_desk,kill,,0.1,-1"
				"ontrigger" "desk_nobuild,kill,,0,-1"
				"ontrigger" "desk_barrier,kill,,0,-1"
				"ontrigger" "desk_failsafe,kill,,0,-1"
				"ontrigger" "desk_ammo,kill,,0,-1"
				"ontrigger" "desk_failsafe_target,kill,,0,-1"
				"ontrigger" "boss_chair_fallen,enable,,0,-1"
				"spawnflags" "2"
			}
			light_dynamic
			{
				"targetname" "upgrade_light"
				"spotlight_radius" "225"
				"distance" "225"
				"brightness" "5"
				"pitch" "90"
				"origin" "856 1443 336"
				"_light" "255 50 50"
				"_inner_cone" "0"
				"_cone" "0"
				//"style" "2"
			}
			env_lightglow
			{
				"targetname" "the_light"
				"origin" "856 1576 412"
				"rendercolor" "255 50 50"
				"angles" "15 -90 0"
				"spawnflags" "1"
				"GlowProxySize" "3.0"
				"HDRColorScale" "1"
				"HorizontalGlowSize" "25"
				"VerticalGlowSize" "25"
				"MaxDist" "2"
				"MinDist" "1"
			}
			prop_dynamic
			{
				"targetname" "upgrade_light_model"
				"disableshadows" "1"
				"model" "models/props_badlands/siloroom_light2.mdl"
				"origin" "856 1596 412"
				"angles" "0 0 -90"
			}
			logic_relay
			{
				"targetname" "upgrade_light_relay"
				"ontrigger" "the_light,Color,0,0,-1"
				"ontrigger" "upgrade_light,TurnOff,,0,-1"
				"ontrigger" "the_light,Color,255 50 50,2,-1"
				"ontrigger" "upgrade_light,TurnOn,,2,-1"
				"ontrigger" "upgrade_light_relay,trigger,,4,-1"
				"spawnflags" "2"
			}
			point_worldtext
			{
				"targetname" "credits_0"
				"origin" "920 924 311"
				"angles" "0 -90 0"
				"color" "255 0 0 50"
				"message" "TRESPASSER"
				"textsize" "20"
			}
			point_worldtext
			{
				"targetname" "credits_1"
				"origin" "920 924 311"
				"angles" "0 -90 0"
				"color" "255 0 0"
				"message" "TRESPASSER"
				"textsize" "20"
				"renderfx" "12"
			}
			point_worldtext
			{
				"targetname" "credits_2"
				"origin" "865 924 284"
				"angles" "0 -90 0"
				"color" "255 255 255"
				"message" "By"
				"textsize" "12"
			}
			point_worldtext
			{
				"targetname" "credits_2_1"
				"origin" "890 924 245"
				"angles" "0 -90 0"
				"color" "255 255 255"
				"message" "Special Thanks"
				"textsize" "8"
			}
			point_worldtext
			{
				"targetname" "credits_2_2"
				"origin" "844 924 268"
				"angles" "0 -90 0"
				"color" "255 255 255"
				"message" "&"
				"textsize" "15"
			}
			point_worldtext
			{
				"targetname" "credits_3"
				"origin" "918 924 268"
				"angles" "0 -90 0"
				"color" "255 111 0"
				"message" "Hell-met"
				"textsize" "15"
			}
			point_worldtext
			{
				"targetname" "credits_3_1"
				"origin" "830 924 268"
				"angles" "0 -90 0"
				"color" "255 63 63"
				"message" "Lite"
				"textsize" "15"
			}
			point_worldtext
			{
				"targetname" "credits_3_2"
				"origin" "918 924 234"
				"angles" "0 -90 0"
				"color" "52 152 219"
				"message" "CTriggerhurt"
				"textsize" "10"
			}
			point_worldtext
			{
				"targetname" "credits_3_3"
				"origin" "838 924 234"
				"angles" "0 -90 0"
				"color" "155 89 182"
				"message" "Charlie"
				"textsize" "10"
			}
			point_worldtext
			{
				"targetname" "credits_3_4"
				"origin" "874 924 224"
				"angles" "0 -90 0"
				"color" "255 173 196"
				"message" "Whurr"
				"textsize" "10"
			}
			point_worldtext
			{
				"targetname" "credits_4"
				"origin" "889 924 206"
				"angles" "0 -90 0"
				"rainbow" 1
				"message" "Potato.TF"
				"textsize" "12"
			}
			point_worldtext
			{
				"targetname" "credits_5"
				"origin" "880 924 381"
				"angles" "0 -90 0"
				"color" "30 30 255"
				"message" "MvM"
				"textsize" "20"
			}
			prop_dynamic
			{
				"targetname" "chandelier_extra_1"
				"disableshadows" "1"
				"model" "models/props_manor/clamshell_light_01.mdl"
				"origin" "0 768 455"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "chandelier_extra_2"
				"disableshadows" "1"
				"model" "models/props_manor/clamshell_light_01.mdl"
				"origin" "0 768 635"
				"angles" "0 90 0"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_1"
				"origin" "0 846 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_2"
				"origin" "-55 822 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_3"
				"origin" "-77 767 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_4"
				"origin" "-54 712 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_5"
				"origin" "0 689 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_6"
				"origin" "55 714 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_7"
				"origin" "78 768 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "chandelier_candle_8"
				"origin" "54 823 519"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "danger_candle"
				"origin" "-310 281 224"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "danger_candle"
				"origin" "-316 289 207"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "danger_candle"
				"origin" "-304 290 200"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			prop_dynamic
			{
				"targetname" "canvas_1"
				"disableshadows" "1"
				"modelscale" "1.5"
				"model" "models/props_manor/painting_05.mdl"
				"origin" "693 858 484"
				"angles" "0 180 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "canvas_2"
				"disableshadows" "1"
				"modelscale" "1"
				"model" "models/props_manor/painting_03.mdl"
				"origin" "-693 710 434"
				"angles" "0 0 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "canvas_3"
				"disableshadows" "1"
				"modelscale" "1"
				"model" "models/props_manor/painting_02.mdl"
				"origin" "0 1280 370"
				"angles" "0 -90 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "big_curtain"
				"modelscale" "1.5"
				"disableshadows" "1"
				//"rendercolor" "0 0 255"
				//"rendermode" "1"
				//"alpha" "245"
				"model" "models/props_manor/curtains_01.mdl"
				"origin" "0 263 163"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"targetname" "engineer_fence"
				"disableshadows" "1"
				"modelscale" "0.75"
				"model" "models/props_mining/barbfence001_reference.mdl"
				"origin" "-642 424 188"
				"angles" "0 90 5"
			}
			prop_dynamic
			{
				"targetname" "engineer_fence"
				"disableshadows" "1"
				"modelscale" "0.75"
				"model" "models/props_mining/barbfence002_reference.mdl"
				"origin" "-688 424 188"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "early_fence_1"
				"modelscale" "1"
				"disableshadows" "1"
				"model" "models/props_gameplay/security_fence512.mdl"
				"origin" "-1188 1037 322"
				"angles" "0 180 0"
				"solid" "6"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "early_fence_2"
				"modelscale" "1"
				"disableshadows" "1"
				"model" "models/props_gameplay/security_fence512.mdl"
				"origin" "-735 1037 322"
				"angles" "0 0 0"
				"solid" "6"
				"lightingorigin" "moon_light"
			}
			trigger_teleport
			{
				"targetname" "early_teleporter"
				"origin" "-1024 1072 288"
				"mins" "-160 -48 -96"
				"maxs" "160 48 96"
				"spawnflags" "1"
				"startdisabled" "0"
				"target" "info_early"
				"onstarttouch" "!activator,$playsoundtoself,ambient/halloween/male_scream_14.wav,0,-1"
				"onstarttouch" "!activatorrunscriptcodeScreenFade(self, 85, 0, 85, 255, 1, 0, 1)0-1"
			}
			prop_dynamic
			{
				"targetname" "early_teleporter_prop"
				"modelscale" "0.65"
				"disableshadows" "1"
				"model" "models/props_lakeside_event/wof_plane2.mdl"
				"origin" "-1020 1083 282"
				"rendercolor" "255 0 255"
				"angles" "0 180 0"
			}
			info_target
			{
				"targetname" "info_early"
				"origin" "-161 3274 289"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "corner_candelabra"
				"modelscale" "1.25"
				"disableshadows" "1"
				"model" "models/props_manor/candelabra_01.mdl"
				"origin" "676 1259 239"
				"angles" "0 45 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "corner_pedestal"
				"modelscale" "1"
				"disableshadows" "1"
				"model" "models/props_mvm/mvm_museum_pedestal.mdl"
				"origin" "676 1259 192"
				"angles" "0 0 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "corner_coffin"
				"modelscale" "1"
				"disableshadows" "1"
				"skin" "1"
				"solid" "6"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "1129 2062 252"
				"angles" "-90 -45 0"
			}
			entity_soldier_statue
			{
				"origin" "-1233 256 122"
				"angles" "-12 45 -12"
				"disableshadows" 1
				"modelscale" 0.9
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"modelscale" "2"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/props_manor/gravestone_07.mdl"
				"origin" "943 -530 -103"
				"angles" "0 -16 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"modelscale" "2"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/props_manor/gravestone_07.mdl"
				"origin" "860 -836 -103"
				"angles" "0 -16 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "bush_flood"
				"modelscale" "1"
				"disableshadows" "1"
				"skin" 3
				"model" "models/props_foliage/bush_L_01.mdl"
				"origin" "127 -86 -98"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "bush_flood"
				"modelscale" "1"
				"disableshadows" "1"
				"skin" 3
				"model" "models/props_foliage/bush_L_01.mdl"
				"origin" "-127 -86 -98"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "zombie_tree"
				"modelscale" "1"
				"disableshadows" "1"
				"skin" 3
				"model" "models/props_island/yeti_tree_small.mdl"
				"origin" "1187 780 264"
				"angles" "0 180 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "zombie_tree_viro_1"
				"disableshadows" "1"
				"modelscale" "1"
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "chew_humanoid"
				"origin" "1150 796 333"
				"angles" "75 160 180"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "zombie_tree_viro_2"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" "0.75"
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "slurp"
				"origin" "1181 643 302"
				"angles" "0 0 0"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "big_viro_1"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" "8"
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "idle01"
				"origin" "-1765 -1276 0"
				"angles" "0 0 180"
				"lightingorigin" "moon_light"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "big_viro_2"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" "8"
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "idle01"
				"origin" "-1808 2069 300"
				"angles" "0 165 180"
				"lightingorigin" "moon_light"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "big_viro_3"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" "8"
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "idle01"
				"origin" "561 3425 470"
				"angles" "0 125 180"
				"lightingorigin" "moon_light"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "giant_viro"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" "20"
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "idle01"
				"origin" "2338 -703 -65"
				"angles" "0 0 180"
				"lightingorigin" "moon_light"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "cement_viro_1"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" 0.5
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "slurp"
				"origin" "-15 2756 422"
				"angles" "120 -100 172"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "cement_viro_2"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"modelscale" 1.35
				"rendercolor" "100 100 100"
				"model" "models/trespasser/burnacle.mdl"
				"defaultanim" "chew_humanoid"
				"origin" "-13 2799 502"
				"angles" "0 0 184"
				"startdisabled" 1
			}
			logic_relay
			{
				"targetname" "barnacles_on"
				"ontrigger" "cement_viro_1,enable,,0,-1"
				"ontrigger" "cement_viro_2,enable,,0,-1"
				"ontrigger" "zombie_tree_viro_1,enable,,0,-1"
				"ontrigger" "zombie_tree_viro_2,enable,,0,-1"
				"ontrigger" "big_viro_1,enable,,0,-1"
				"ontrigger" "big_viro_2,enable,,0,-1"
				"ontrigger" "big_viro_3,enable,,0,-1"
				"ontrigger" "giant_viro,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "carriers_on"
				"ontrigger" "robo_carrier_1,enable,,0,-1"
				"ontrigger" "robo_carrier_2,enable,,0,-1"
				"ontrigger" "robo_carrier_3,enable,,0,-1"
				"ontrigger" "hanged_robot,enable,,0,-1"
				"ontrigger" "hanged_carrier_rope,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "carriers_off"
				"ontrigger" "robo_carrier_1,disable,,0,-1"
				"ontrigger" "robo_carrier_2,disable,,0,-1"
				"ontrigger" "robo_carrier_3,disable,,0,-1"
				"ontrigger" "hanged_robot,disable,,0,-1"
				"ontrigger" "hanged_carrier_rope,disable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "coffins_on"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 5, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,ambient/halloween/male_scream_10.wav,0,-1"
				"ontrigger" "finale_coffins,enable,,0,-1"
				"ontrigger" "finale_ash,enable,,0,-1"
				"spawnflags" "2"
			}
			prop_dynamic
			{
				"disableshadows" "1"
				"model" "models/props_coalmines/window6.mdl"
				"origin" "1008 1449 448"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"disableshadows" "1"
				"model" "models/props_coalmines/window5.mdl"
				"origin" "1008 1249 448"
				"angles" "0 180 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"disableshadows" "1"
				"model" "models/props_coalmines/window5.mdl"
				"origin" "1008 1049 448"
				"angles" "0 180 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"disableshadows" "1"
				"model" "models/props_coalmines/window6.mdl"
				"origin" "1024 1449 448"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"disableshadows" "1"
				"model" "models/props_coalmines/window5.mdl"
				"origin" "1024 1249 448"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"disableshadows" "1"
				"model" "models/props_coalmines/window5.mdl"
				"origin" "1024 1049 448"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "shop_map"
				"disableshadows" "1"
				"modelscale" "0.15"
				"model" "models/props_halloween/carnival_poster_005.mdl"
				"origin" "945 1646 295"
				"angles" "7 180 0"
			}
			prop_dynamic
			{
				"targetname" "mvm_map"
				"disableshadows" "1"
				"model" "models/props_doomsday/dday_map.mdl"
				"origin" "752 1576 234.5"
				"angles" "180 90 180"
			}
			prop_dynamic
			{
				"targetname" "coaltown_model"
				"disableshadows" "1"
				"modelscale" "0.15"
				"model" "models/props_mvm/diorama_deathpit.mdl"
				"origin" "746 1580 233"
				"angles" "0 -55 0"
			}
			prop_dynamic
			{
				"targetname" "spawn_couch"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/props_manor/couch_01.mdl"
				"origin" "728 1246 190"
				"angles" "0 0 0"
				"lightingorigin" "chandelier_light"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "spawn_couch"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/props_manor/couch_01.mdl"
				"origin" "728 1136 190"
				"angles" "0 0 0"
				"lightingorigin" "chandelier_light"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "spawn_couch"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/props_manor/couch_01.mdl"
				"origin" "728 1026 190"
				"angles" "0 0 0"
				"lightingorigin" "chandelier_light"
				"startdisabled" "1"
			}
			trigger_hurt //couch healer
			{
				"targetname" "couch_healer"
				"startdisabled" 1
				"origin" "740 1245 240"
				"mins" "-10 -41 -20"
				"maxs" "10 41 20"
				"damagetype" 1
				"damage" -1
				"spawnflags" 1
				"onhurtplayer" "!activator,RunScriptCode,local iHealth = self.GetHealth(); if((iHealth += 6) > 666) iHealth = 666; self.SetHealth(iHealth),0,-1"
				"onhurtplayer" "!activator,$addcond,23,0,-1"
			}
			trigger_hurt //couch healer
			{
				"targetname" "couch_healer"
				"startdisabled" 1
				"origin" "740 1025 240"
				"mins" "-10 -41 -20"
				"maxs" "10 41 20"
				"damagetype" 1
				"damage" -1
				"spawnflags" 1
				"onhurtplayer" "!activator,RunScriptCode,local iHealth = self.GetHealth(); if((iHealth += 6) > 666) iHealth = 666; self.SetHealth(iHealth),0,-1"
			}
			trigger_hurt //couch healer
			{
				"targetname" "couch_healer"
				"startdisabled" 1
				"origin" "740 1135 240"
				"mins" "-10 -41 -20"
				"maxs" "10 41 20"
				"damagetype" 1
				"damage" -1
				"spawnflags" 1
				"onhurtplayer" "!activator,RunScriptCode,local iHealth = self.GetHealth(); if((iHealth += 6) > 666) iHealth = 666; self.SetHealth(iHealth),0,-1"
			}
			OnSpawnOutput
			{
				Target "spawn_couch"
				Action AddOutput
				Param "solid 0"
			}
			logic_relay
			{
				"targetname" "couch_relay"
				"ontrigger" "spawn_couch,enable,,0,-1"
				"ontrigger" "couch_healer,enable,,0,-1"
				//"ontrigger" "spawn_sadness,enable,,0,-1"
				"ontrigger" "spawn_couch,addoutput,solid 6,0,-1"
			}
			prop_dynamic
			{
				"targetname" "spawn_sadness"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/workshop/player/items/pyro/taunt_cremators_condolences/taunt_cremators_condolences.mdl"
				"origin" "732 1032 188"
				"angles" "0 -22 -8"
				"skin" "1"
				"lightingorigin" "chandelier_light"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "spawn_sadness"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/workshop/player/items/pyro/taunt_cremators_condolences/taunt_cremators_condolences.mdl"
				"origin" "732 1092 188"
				"angles" "0 -2 16"
				"skin" "1"
				"lightingorigin" "chandelier_light"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "spawn_sadness"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/workshop/player/items/pyro/taunt_cremators_condolences/taunt_cremators_condolences.mdl"
				"origin" "732 1251 188"
				"angles" "0 180 8"
				"skin" "0"
				"lightingorigin" "chandelier_light"
				"startdisabled" "1"
			}
			//prop_dynamic
			//{
			//	"targetname" "icky"
			//	"disableshadows" "1"
			//	"modelscale" "0.75"
			//	"rendercolor" "100 100 100"
			//	"model" "models/ichthyosaur.mdl"
			//	"origin" "-229 2329 5"
			//	"angles" "0 0 90"
			//	"defaultanim" "thrash"
			//}
			prop_dynamic
			{
				"model" "models/props_swamp/picnic_table.mdl"
				"disableshadows" "1"
				"origin" "-184 1000 -65"
				"angles" "0 0 0"
				"solid" "0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "manor_piano"
				"model" "models/props_manor/baby_grand_01.mdl"
				"disableshadows" "1"
				"modelscale" "1"
				"origin" "477 850 -65"
				"angles" "0 180 0"
				"solid" "6"
			}
			prop_dynamic
			{
				"classname" "prop_dynamic"
				"model" "models/props_forest/wood_pile.mdl"
				"disableshadows" "1"
				"modelscale" "1"
				"solid" "6"
				"origin" "658 1390 -60"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"model" "models/props_coalmines/scaffolding1.mdl"
				"disableshadows" "1"
				"modelscale" "1"
				"origin" "710 250 105"
				"angles" "0 90 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"model" "models/props_manor/cardboard_box_set_01.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "-630 550 192"
				"angles" "0 -25 0"
			}
			prop_dynamic
			{
				"model" "models/props_manor/bookcase_132_03.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "555 792 -65"
				"angles" "0 -90 0"
			}
			prop_dynamic
			{
				"model" "models/props_manor/bookcase_132_03.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "447 265 -65"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"model" "models/props_manor/bookcase_132_03.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "-696 895 192"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"model" "models/props_manor/bookcase_132_03.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "696 620 192"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"targetname" "monster_cage"
				"model" "models/props_island/small_yeti_container01.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "-655 1225 -65"
				"angles" "0 90 0"
			}
			prop_dynamic //yard stairs
			{
				"model" "models/props_forest/sawmill_deck2.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "230 2320 141"
				"angles" "0 -90 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"model" "models/props_2fort/miningcrate001.mdl"
				"disableshadows" "1"
				"solid" "6"
				"minhealthdmg" 9999 //breakable model problem
				"origin" "-164 1007 -17"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"model" "models/props_2fort/miningcrate001.mdl"
				"disableshadows" "1"
				"solid" "6"
				"minhealthdmg" 9999 //breakable model problem
				"origin" "-197 993 -65"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "downed_helicopter"
				"model" "models/props_island/island_helicopter.mdl"
				"disableshadows" "1"
				"origin" "1224 3200 500"
				"angles" "36 90 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"model" "models/props_2fort/sniper_fence02.mdl"
				"disableshadows" "1"
				"origin" "470 -900 -222"
				"angles" "0 115 0" //15"
				"solid" "6"
				"lightingorigin" "moon_light"
			}
			light_dynamic //fort
			{
				"targetname" "stronghold_light"
				"spotlight_radius" "225"
				"distance" "155"
				"brightness" "5"
				"pitch" "90"
				"origin" "-378 1130 24"
				"_light" "255 100 0"
				"_inner_cone" "0"
				"_cone" "0"
				//"style" "2"
			}
			prop_dynamic //fort
			{
				"targetname" "stronghold_fence_1"
				"model" "models/props_2fort/sniper_fence01.mdl"
				"disableshadows" "1"
				"origin" "-288 1045 -221"
				"angles" "0 -90 0"
				"solid" "6"
				"skin" "1"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic //fort
			{
				"targetname" "stronghold_fence_2"
				"model" "models/props_2fort/sniper_fence01.mdl"
				"disableshadows" "1"
				"origin" "-381 1230 -221"
				"angles" "0 180 0"
				"solid" "6"
				"skin" "1"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "stronghold_crate"
				"model" "models/props_2fort/miningcrate001.mdl"
				"disableshadows" "1"
				"solid" "6"
				"minhealthdmg" 9999 //breakable model problem
				"origin" "-404 1100 -65"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"targetname" "stronghold_lantern"
				"model" "models/props_2fort/lantern001.mdl"
				"disableshadows" "1"
				"solid" "0"
				"origin" "-398 1069 -27.5"
				"angles" "0 35 0"
			}
			prop_dynamic //bonus window
			{
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "390 2044 380"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
			}
			func_forcefield //bonus window
			{
			  	"origin" "388 1984 385"
				"mins" "-4 -64 -127"
				"maxs" "4 64 127"
				"teamnum" "3"
			}
			info_particle_system
			{
				"targetname" "torch_light"
				"origin" "-129 2357 105"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "buildingdamage_fire3"
			}
			info_particle_system
			{
				"targetname" "torch_light"
				"origin" "-257 2357 105"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "buildingdamage_fire3"
			}
			prop_dynamic
			{
				"targetname" "wip_barricade"
				"model" "models/props_farm/wood_pile.mdl"
				"disableshadows" "1"
				"modelscale" "0.85"
				"origin" "-676 336 -59"
				"angles" "0 0 0"
				"solid" "0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "wip_barricade"
				"model" "models/props_medieval/blacksmith_hammer.mdl"
				"disableshadows" "1"
				"origin" "-672 382 -49"
				"angles" "0 45 70"
				"solid" "0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"model" "models/props_mvm/mvm_human_skull.mdl"
				"disableshadows" "1"
				"origin" "424 2307 195"
				"angles" "-35 -35 0"
				"solid" "0"
			}
			prop_dynamic
			{
				"model" "models/props_mvm/mvm_skeleton_leg.mdl"
				"disableshadows" "1"
				"origin" "470 2317 194"
				"angles" "0 -105 90"
				"solid" "0"
			}
			info_particle_system
			{
				"targetname" "danger_candle"
				"origin" "401 2350 224"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "danger_candle"
				"origin" "409 2356 207"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			info_particle_system
			{
				"targetname" "danger_candle"
				"origin" "410 2344 200"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "candle_light1"
			}
			prop_dynamic //rooftop cross
			{
				"model" "models/props_c17/gravestone_cross001a.mdl"
				"disableshadows" "1"
				"modelscale" "1.23"
				"origin" "0 -38 917"
				"angles" "0 90 0"
				"solid" "0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic //rooftop cross
			{
				"model" "models/props_c17/gravestone_cross001a.mdl"
				"disableshadows" "1"
				"modelscale" "1.23"
				"origin" "-678 768 937"
				"angles" "0 0 0"
				"solid" "0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic //rooftop cross
			{
				"model" "models/props_c17/gravestone_cross001a.mdl"
				"disableshadows" "1"
				"modelscale" "1.23"
				"origin" "678 768 937"
				"angles" "0 180 0"
				"solid" "0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"model" "models/props_medical/plague_box.mdl"
				"disableshadows" "1"
				"modelscale" 1.26
				"origin" "797 1641 259"
				"angles" "0 0 0"
			}
			prop_dynamic //window steps
			{
				"model" "models/props_farm/stairs_wood001b.mdl"
				"disableshadows" "1"
				"origin" "-223 1600 220"
				"angles" "0 90 0"
				"solid" "6"
			}
			prop_dynamic //window steps
			{
				"model" "models/props_farm/stairs_wood001b.mdl"
				"disableshadows" "1"
				"origin" "-287 1600 220"
				"angles" "0 90 0"
				"solid" "6"
			}
			prop_dynamic //window steps
			{
				"model" "models/props_farm/stairs_wood001b.mdl"
				"disableshadows" "1"
				"origin" "-223 1596 220"
				"angles" "0 -90 0"
				"solid" "6"
				"lightingorigin" "moon_light"
			}
			prop_dynamic //window steps
			{
				"model" "models/props_farm/stairs_wood001b.mdl"
				"disableshadows" "1"
				"origin" "-287 1596 220"
				"angles" "0 -90 0"
				"solid" "6"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "blutarch_coffin"
				"model" "models/props_manor/coffin_01.mdl"
				"disableshadows" "1"
				"modelscale" "0.75"
				"origin" "0 264 575"
				"angles" "90 90 0"
				"lightingorigin" "chandelier_light"
			}
			prop_dynamic
			{
				"targetname" "blutarch"
				"model" "models/humans/charple01.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"origin" "0 266 535"
				"angles" "5 90 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin"
				"model" "models/props_halloween/jackolantern_01.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"origin" "9 1240 132"
				"angles" "0 -90 15"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_halloween/jackolantern_01.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "0 0 0"
				"origin" "671 2376 190"
				"angles" "0 150 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_halloween/jackolantern_01.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "0 0 0"
				"origin" "671 2376 220"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_halloween/jackolantern_01.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "0 0 0"
				"origin" "671 2376 250"
				"angles" "0 210 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "595 2376 170"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "513 2376 170"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "470 2376 170"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "389 2376 170"
				"angles" "0 45 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "324 2440 170"
				"angles" "0 -45 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "279 2505 170"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "232 2591 170"
				"angles" "0 30 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "181 2670 170"
				"angles" "0 -30 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "201 2633 170"
				"angles" "0 15 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "251 2539 170"
				"angles" "0 -15 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_pumpkin_solo"
				"model" "models/props_island/island_plant03.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"rendercolor" "255 0 255"
				"origin" "351 2419 170"
				"angles" "0 -15 0"
			}
			prop_dynamic
			{
				"targetname" "hhh_axe"
				"model" "models/weapons/c_models/c_headtaker/c_headtaker.mdl"
				"disableshadows" "1"
				"modelscale" 1.5
				"startdisabled" 1
				"origin" "-9 1240 222"
				"angles" "0 90 135"
			}
			prop_dynamic
			{
				"targetname" "hanged_soldier"
				"model" "models/player/soldier.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"skin" "4"
				"holdanimation" "1"
				"origin" "332 2092 264"
				"angles" "68 167.5 -13.5"
			}
			prop_dynamic
			{
				"targetname" "hanged_soldier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"modelscale" "0.15"
				"origin" "326 2094 324"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_soldier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"modelscale" "0.15"
				"origin" "335 2028 324"
				"angles" "0 15 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_soldier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"modelscale" "0.15"
				"origin" "347 1965 324"
				"angles" "0 -15 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_soldier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"modelscale" "0.15"
				"origin" "301 1914 324"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_soldier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"modelscale" "0.17"
				"origin" "325.5 2075 315"
				"angles" "0 60 0"
			}
			prop_dynamic_ornament
			{
				"targetname" "hanged_soldier_cosmetic"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "0"
				"spawnflags" "256"
				"initialowner" "hanged_soldier"
				"lightingorigin" "hanged_soldier"
				"model" "models/player/items/soldier/soldier_zombie.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "hanged_soldier_cosmetic"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "0"
				"spawnflags" "256"
				"initialowner" "hanged_soldier"
				"lightingorigin" "hanged_soldier"
				"model" "models/weapons/c_models/c_rocketboots_soldier.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "hanged_soldier_cosmetic"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "0"
				"spawnflags" "256"
				"initialowner" "hanged_soldier"
				"lightingorigin" "hanged_soldier"
				"model" "models/weapons/c_models/c_buffpack/c_buffpack.mdl"
			}
			OnSpawnOutput
			{
				Target "hanged_soldier"
				Action SetAnimation
				Param "primary_death_headshot"
			}
			info_particle_system
			{
				"targetname" "helicopter_smoke"
				"effect_name" "hightower_smoke"
				"flag_as_weather" "0"
				"start_active" "1"
				"origin" "1200 3500 500"
			}
			//prop_dynamic
			//{
			//	"targetname" "hhh_platform"
			//	"model" "models/props_coalmines/wood_fence_64.mdl"
			//	"disableshadows" "1"
			//	"startdisabled" 1
			//	"solid" "6"
			//	"origin" "596 1139 184"
			//	"angles" "0 15 90"
			//}
			//OnSpawnOutput
			//{
			//    Target "hhh_platform"
			//    Action AddOutput
			//    Param "solid 0"
			//}
			trigger_multiple
			{
				"targetname" "cleanser"
				"spawnflags" 1
				"origin" "-16 2168 -32"
				"mins" "-400 -200 -32"
				"maxs" "400 200 32"
				"onstarttouch" "!activator,$removecond,22,0,-1"
				"onstarttouch" "!activator,$removecond,24,0,-1"
			}
			prop_dynamic
			{
				"targetname" "robo_carrier_1"
				"model" "models/bots/boss_bot/carrier.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"origin" "-1860 2571 146"
				"angles" "-21 -67 15"
			}
			prop_dynamic
			{
				"targetname" "robo_carrier_2"
				"model" "models/bots/boss_bot/carrier.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"origin" "-1990 247 -306"
				"angles" "-21 21 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "robo_carrier_3"
				"model" "models/bots/boss_bot/carrier.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"origin" "1996 2720 306"
				"angles" "0 180 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "hanged_robot"
				"model" "models/bots/soldier/bot_soldier_gibby.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"holdanimation" "1"
				"origin" "1269 2758 625"
				"angles" "160 180 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_robot"
				"model" "models/bots/soldier/bot_soldier_gibby.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"holdanimation" "1"
				"origin" "1256 2866 575"
				"angles" "160 114 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_robot"
				"model" "models/bots/soldier/bot_soldier.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"holdanimation" "1"
				"origin" "1252 2670 585"
				"angles" "160 220 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_robot"
				"model" "models/bots/soldier/bot_soldier_gibby.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"holdanimation" "1"
				"origin" "1279 2576 585"
				"angles" "160 -70 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_robot"
				"model" "models/bots/heavy/bot_heavy_gibby.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"holdanimation" "1"
				"origin" "1279 2959 610"
				"angles" "160 -70 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_robot"
				"model" "models/bots/heavy/bot_heavy.mdl"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"holdanimation" "1"
				"origin" "1278 2487 605"
				"angles" "160 70 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_carrier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "0.35"
				"origin" "1269 2772 564"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_carrier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "0.35"
				"origin" "1269 2672 564"
				"angles" "0 15 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_carrier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "0.35"
				"origin" "1269 2572 564"
				"angles" "0 -15 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_carrier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "0.35"
				"origin" "1269 2872 564"
				"angles" "0 25 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_carrier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "0.35"
				"origin" "1269 2959 594"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "hanged_carrier_rope"
				"model" "models/props_harbor/foundry_chain_harbor.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "0.35"
				"origin" "1269 2477 594"
				"angles" "0 0 0"
			}
			OnSpawnOutput
			{
				Target "hanged_robot"
				Action SetAnimation
				Param "primary_death_backstab"
			}
			prop_dynamic
			{
				"targetname" "roof_exploder"
				"model" "models/thundermountain_fx/towerwoodfloor.mdl"
				"disableshadows" "1"
				//"startdisabled" 1
				"origin" "-858 983 740"
				"angles" "-20 45 0"
				"rendercolor" "130 120 120"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_exploder"
				"model" "models/thundermountain_fx/towerwoodfloor.mdl"
				"disableshadows" "1"
				//"startdisabled" 1
				"origin" "-384 896 758"
				"angles" " 0 0"
				"rendercolor" "130 120 120"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_exploder"
				"model" "models/thundermountain_fx/towerwoodfloor.mdl"
				"disableshadows" "1"
				//"startdisabled" 1
				"origin" "-183 -58 740"
				"angles" "-20 135 0"
				"rendercolor" "130 120 120"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_exploder"
				"model" "models/thundermountain_fx/towerwoodfloor.mdl"
				"disableshadows" "1"
				//"startdisabled" 1
				"origin" "384 -576 758"
				"angles" "0 180 0"
				"rendercolor" "130 120 120"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_decoration"
				"model" "models/buildables/sentry2.mdl"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"holdanimation" "1"
				"origin" "347 35 757"
				"angles" "0 -47 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_decoration"
				"model" "models/props_spytech/terminal_chair.mdl"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"holdanimation" "1"
				"origin" "312 299 757"
				"angles" "0 -122 0"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_decoration"
				"model" "models/props_island/mannco_case_large.mdl"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"holdanimation" "1"
				"origin" "-332 284 775"
				"angles" "0 -90 0"
				"modelscale" "0.75"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_decoration"
				"model" "models/weapons/c_models/c_chains_of_command/c_chains_of_command.mdl"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"holdanimation" "1"
				"origin" "-332 284 795"
				"angles" "180 35 90"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_decoration"
				"model" "models/props_island/mannco_case_small.mdl"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"holdanimation" "1"
				"origin" "-332 38 775"
				"angles" "0 -45 0"
				"modelscale" "0.75"
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "roof_decoration"
				"model" "models/props_mvm/mannhole_hatch_small.mdl"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"holdanimation" "1"
				"origin" "0 707 903"
				"angles" "0 180 -25"
				"lightingorigin" "moon_light"
			}
			info_particle_system
			{
				"targetname" "roof_decoration"
				"origin" "347 35 825"
				//"parentname" "chandelier_extra_1
				"start_active" 1
				"effect_name" "buildingdamage_fire3"
			}
			OnSpawnOutput
			{
				Target "roof_decoration"
				Action SetAnimation
				Param "aim_nat"
			}
			prop_dynamic
			{
				"model" "models/props_spytech/wall_clock.mdl"
				"disableshadows" "1"
				"solid" "0"
				"modelscale" "1.5"
				"origin" "705 1439 409"
				"angles" "0 0 0"
			}
			func_movelinear
			{
				"targetname" "helicopter_parent_1"
				"origin" "-3050 -496 912"
				"movedir" "0 0 0"
				"speed" "1024"
				"movedistance" "8528"
				// "onfullyopen" "helicopter_static_1,disable,,0,-1"
				// "onfullyopen" "helicopter_parent_1,close,,0,-1"
				"onfullyopen" "!self,kill,,0,-1"
			}
			func_movelinear
			{
				"targetname" "helicopter_parent_2"
				"origin" "-3050 -496 912"
				"movedir" "0 0 0"
				"speed" "950"
				"movedistance" "8528"
				// "onfullyopen" "helicopter_static_2,disable,,0,-1"
				// "onfullyopen" "helicopter_parent_2,close,,0,-1"
				"onfullyopen" "!self,kill,,0,-1"
			}
			func_movelinear // napalm
			{
				"targetname" "helicopter_parent_3"
				"origin" "-2096 -496 912"
				"movedir" "0 0 0"
				"speed" "1024"
				"movedistance" "8528"
				// "onfullyopen" "helicopter_static_3,disable,,0,-1"
				// "onfullyopen" "helicopter_parent_3,close,,0,-1"
				"onfullyopen" "!self,kill,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "helicopter_static_1"
				"parentname" "helicopter_parent_1"
				"origin" "-3750 -384 1112"
				"angles" "15 0 0"
				"defaultanim" "flying_static"
				"startdisabled" 1
				"model" "models/trespasser/trespasserhelicopter_krazyzark_madminermonkey.mdl"
			}
			prop_dynamic
			{
				"targetname" "helicopter_static_2"
				"parentname" "helicopter_parent_2"
				"origin" "-4000 -708 812"
				"angles" "15 0 0"
				"defaultanim" "flying_static"
				"startdisabled" 1
				"model" "models/trespasser/trespasserhelicopter_krazyzark_madminermonkey.mdl"
			}
			prop_dynamic // napalm
			{
				"targetname" "helicopter_static_3"
				"parentname" "helicopter_parent_3"
				"origin" "-2296 -384 812"
				"angles" "15 0 0"
				"defaultanim" "flying_static"
				"startdisabled" 1
				"model" "models/trespasser/trespasserhelicopter_krazyzark_madminermonkey.mdl"
			}
			prop_dynamic
			{
				"targetname" "helicopter_dynamic"
				"origin" "668 -768 250"
				"angles" "0 -90 0"
				"startdisabled" 1
				"model" "models/trespasser/trespasserhelicopter_krazyzark_madminermonkey.mdl"
				"onanimationdone" "helicopter_dynamic,setanimation,helecopter_static,0,-1"
			}
			obj_sentrygun
			{
				"targetname" "helicopter_gun"
				"origin" "4072 -2535 -52"
				"angles" "0 180 0"
				"teamnum" "2"
				"spawnflags" "10"
				"solidtoplayer" "0"
				"defaultupgrade" "1"
				"$rapidfire" "1"
				"parentname" "helicopter_dynamic"
				"lightingorigin" "helicopter_dynamic"
				"$sentrymodelprefix" "models/buildables/spawn_room/spawn_turret.mdl"
			}
			OnSpawnOutput
			{
				target "helicopter_gun"
				action sethealth
				param "5000"
			}
			OnSpawnOutput
			{
				target "helicopter_gun"
				action hide
			}
			OnSpawnOutput
			{
				target "helicopter_gun"
				action setteam
				param 3
			}
			env_lightglow
			{
				"targetname" "helicopter_gun_light"
				"origin" "416 2208 -52"
				"angles" "0 180 0"
				"rendercolor" "255 0 0"
				"angles" "0 180 0"
				"spawnflags" "1"
				"GlowProxySize" "1.5"
				"HDRColorScale" "1.5"
				"HorizontalGlowSize" "5"
				"VerticalGlowSize" "5"
				"MaxDist" "2"
				"MinDist" "1"
				"parentname" "helicopter_gun"
			}
			tf_point_weapon_mimic
			{
				"targetname" "helicopter_napalm_mimic"
				"parentname" "helicopter_static_3"
				"origin" "-2296 -384 712"
				"angles" "60 0 0"
				"$preventshootparent" "1"
				"teamnum" "2"
				"$weaponname" "Mortar Launcher"
				"$firetime" "0.5"
			}
			tf_glow
			{
				"targetname" "helicopter_glow_1"
				"glowcolor" "0 255 0 222"
				"target" "helicopter_static_1"
				"startdisabled" "1"
			}
			tf_glow
			{
				"targetname" "helicopter_glow_2"
				"glowcolor" "0 255 0 222"
				"target" "helicopter_static_2"
				"startdisabled" "1"
			}
			tf_glow
			{
				"targetname" "helicopter_glow_3"
				"glowcolor" "255 125 0 222"
				"target" "helicopter_static_3"
				"startdisabled" "1"
			}
			tf_glow
			{
				"targetname" "helicopter_glow_4"
				"glowcolor" "255 0 0 222"
				"target" "helicopter_dynamic"
				"startdisabled" "1"
			}
			//tf_glow //doesn't work??
			//{
			//	"targetname" "shopkeeper_glow"
			//  "glowcolor" "255 0 0 222"
			//  "target" "the_engineer"
			//	"startdisabled" "1"
			//}
			//tf_glow
			//{
			//	"targetname" "barnacle_glow"
			//    "glowcolor" "200 200 0 222"
			//    "target" "cement_viro_1"
			//	"startdisabled" "1"
			//}
			//tf_glow
			//{
			//	"targetname" "barnacle_glow"
			//    "glowcolor" "200 200 0 222"
			//    "target" "cement_viro_2"
			//	"startdisabled" "1"
			//}
			//tf_glow
			//{
			//	"targetname" "barnacle_glow"
			//    "glowcolor" "200 200 0 222"
			//    "target" "zombie_tree_viro_1"
			//	"startdisabled" "1"
			//}
			//tf_glow
			//{
			//	"targetname" "barnacle_glow"
			//    "glowcolor" "200 200 0 222"
			//    "target" "zombie_tree_viro_2"
			//	"startdisabled" "1"
			//}
			tf_glow
			{
				"targetname" "barnacle_glow"
				"glowcolor" "200 200 0 222"
				"target" "big_viro_1"
				"startdisabled" "1"
			}
			tf_glow
			{
				"targetname" "barnacle_glow"
				"glowcolor" "200 200 0 222"
				"target" "big_viro_2"
				"startdisabled" "1"
			}
			tf_glow
			{
				"targetname" "barnacle_glow"
				"glowcolor" "200 200 0 222"
				"target" "big_viro_3"
				"startdisabled" "1"
			}
			tf_glow
			{
				"targetname" "barnacle_glow"
				"glowcolor" "200 200 0 222"
				"target" "giant_viro"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"

				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "1029 2759 184"
				"angles" "71 -123 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "1029 2759 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "912 2829 184"
				"angles" "71 -43 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "912 2829 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "829 2959 184"
				"angles" "91 -123 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "829 2959 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "812 2629 184"
				"angles" "31 -43 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "812 2629 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "829 2359 184"
				"angles" "71 -83 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "829 2359 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "912 2529 184"
				"angles" "51 43 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "912 2529 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "1056 2427 184"
				"angles" "-51 53 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "1056 2427 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "649 2829 184"
				"angles" "41 -73 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "649 2829 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "1072 2923 184"
				"angles" "41 -93 14"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "1072 2923 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "956 2223 184"
				"angles" "21 -115 16"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "956 2223 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "1117 2570 184"
				"angles" "51 -103 15"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "1117 2570 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "520 2943 184"
				"angles" "41 -123 13"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "520 2943 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "504 2758 184"
				"angles" "69 -75 13"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "504 2758 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "362 2916 184"
				"angles" "59 -85 13"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "362 2916 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "289 2766 184"
				"angles" "39 64 43"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "289 2766 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "1"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "204 2938 184"
				"angles" "59 84 32"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "204 2938 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "finale_coffins"
				"startdisabled" 1
				"disableshadows" "1"
				"skin" "0"
				"solid" "0"
				"model" "models/props_manor/coffin_01.mdl"
				"origin" "814 2135 184"
				"angles" "39 54 32"
			}
			prop_dynamic
			{
				"targetname" "finale_ash"
				"startdisabled" 1
				"disableshadows" "1"
				"solid" "0"
				"model" "models/props_moonbase/space_cratermodel001.mdl"
				"origin" "814 2135 192"
				"angles" "0 0 0"
				"rendercolor" "50 50 50"
			}
			prop_dynamic
			{
				"targetname" "outside_sheet"
				"disableshadows" "1"
				"solid" "6"
				"model" "models/props_2fort/roof_metal003.mdl"
				"origin" "-348 -608 -22"
				"angles" "-81.8368 152.398 108.919"
				//"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "viro_platform"
				"model" "models/props_coalmines/wood_fence_64.mdl"
				"disableshadows" "1"
				"startdisabled" 1
				"origin" "-424 -108 -138"
				"angles" "0 90 0"
				"lightingorigin" "gate_door_1"
			}
			prop_dynamic
			{
				"targetname" "lamp_post"
				"model" "models/props_mining/conduit_outdoor384.mdl"
				"disableshadows" "1"
				"origin" "438 2684 190"
				"angles" "0 -90 0"
				"solid" 0
				"lightingorigin" "moon_light"
			}
			prop_dynamic
			{
				"targetname" "lamp_post"
				"model" "models/props_mining/conduit_outdoor384.mdl"
				"disableshadows" "1"
				"origin" "438 2684 190"
				"angles" "0 90 0"
				"solid" 0
				"lightingorigin" "moon_light"
			}
		}

		p_survivor_ai //tells survivor bots where to go
		{
			NoFixup 1
			info_target
			{
				"targetname" "ai_go_table"
				"origin" "0 380 267"
			}
			info_target
			{
				"targetname" "ai_go_fort"
				"origin" "-299 1155 11"
			}
			info_target
			{
				"targetname" "ai_go_boxes"
				"origin" "-644 488 265"
			}
			info_target
			{
				"targetname" "ai_go_lz"
				"origin" "466 -504 -37"
			}
			info_target
			{
				"targetname" "ai_go_point"
				"origin" "626 -942 -90"
			}
			info_target
			{
				"targetname" "ai_shop_1"
				"origin" "800 1514 267"
			}
			info_target
			{
				"targetname" "ai_shop_2"
				"origin" 	"870 1514 267"
			}
			info_target
			{
				"targetname" "ai_shop_3"
				"origin" 	"940 1514 267"
			}
			info_target
			{
				"targetname" "ai_shop_4"
				"origin" 	"620 1430 267"
			}
			logic_relay
			{
				"targetname" "fort_on_relay"
				"ontrigger" "stronghold_fence_1,addoutput,solid 6,0,-1"
				"ontrigger" "stronghold_fence_1,addoutput,solid 6,0,-1"
				"ontrigger" "stronghold_fence_2,addoutput,solid 6,0,-1"
				"ontrigger" "stronghold_fence_2,addoutput,solid 6,0,-1"
				"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),1,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "fort_off_relay"
				"ontrigger" "stronghold_fence_1,addoutput,solid 0,0,-1"
				"ontrigger" "stronghold_fence_1,addoutput,solid 0,0,-1"
				"ontrigger" "stronghold_fence_2,addoutput,solid 0,0,-1"
				"ontrigger" "stronghold_fence_2,addoutput,solid 0,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "survivors_gtfo_fort"
				"ontrigger" "pop_interface,$PauseWavespawn,WAVE3-HEADLESS,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,3,-1"
				"ontrigger" "fort_on_relay,trigger,,0,-1"
				"ontrigger" "hhh_pumpkin_solorunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "hhh_pumpkin_solo,disable,,0.1,-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`solo_airblast_off`, `trigger`)1-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "black_pumpkin"
				"ontrigger" "hhh_pumpkin_solo,enable,,0,-1"
				"ontrigger" "hhh_pumpkin_solorunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) Convars.SetValue(`tf_halloween_bot_chase_range`, 1420)1-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) Convars.SetValue(`tf_halloween_bot_quit_range`, 1421)1-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`solo_airblast_on`, `trigger`)1-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "solo_cap_bonus"
				"ontrigger" "@f@filter_red_alive_bot@player,$addplayerattribute,increase player capture value|30,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "solo_airblast_on"
				"ontrigger" "@f@filter_red_alive@player,$addplayerattribute,melee airblast|1,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "solo_airblast_off"
				"ontrigger" "@f@filter_red_alive@player,$removeplayerattribute,melee airblast,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "no_guns_check"
				"ontrigger" "bignetrunscriptcodeif(!Trespasser.bSoloMode) EntFire(`no_guns_zone_on`, `Trigger`)0-1"
				"ontrigger" "music_challenge_relay,trigger,,3,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "no_guns_zone_viro"
				//"ontrigger" "playerRunScriptCodelocal hWeapon = self.GetActiveWeapon(); if(hWeapon && self.GetTeam() == 2) NetProps.SetPropBool(hWeapon, `m_bLowered`, true)0-1"
				//"ontrigger" "playerRunScriptCodeSetPropBool(self, `localdata.m_Local.m_bDrawViewmodel`, false)0-1"
				"ontrigger" "@f@filter_red_alive@player,$addplayerattribute,no_attack|1,0,-1"
				"ontrigger" "obj_sentrygun,disable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "no_guns_zone_on"
				//"ontrigger" "playerRunScriptCodelocal hWeapon = self.GetActiveWeapon(); if(hWeapon && self.GetTeam() == 2) NetProps.SetPropBool(hWeapon, `m_bLowered`, true)0-1"
				"ontrigger" "playerRunScriptCodeSetPropBool(self, `localdata.m_Local.m_bDrawViewmodel`, false)0-1"
				"ontrigger" "@f@filter_red_alive@player,$addplayerattribute,no_attack|1,0,-1"
				"ontrigger" "player,$displaytexthint,An envoy approaches as you cautiously lower your weapon.,3,-1"
				"ontrigger" "obj_sentrygun,disable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "no_guns_zone_off"
				//"ontrigger" "playerRunScriptCodelocal hWeapon = self.GetActiveWeapon(); if(hWeapon && self.GetTeam() == 2) NetProps.SetPropBool(hWeapon, `m_bLowered`, false)0-1"
				"ontrigger" "playerRunScriptCodeSetPropBool(self, `localdata.m_Local.m_bDrawViewmodel`, true)0-1"
				"ontrigger" "@f@filter_blu_alive@player,$changeattributes,angry,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$addplayerattribute,no_attack|0,0,-1"
				"ontrigger" "obj_sentrygun,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "shopkeeper_death"
				"ontrigger" "bignet,runscriptcode,Trespasser.bAllSurvivorsAlive = false,0,-1"
				"ontrigger" "mvm_map,disable,,0,-1"
				"ontrigger" "func_upgradestation,disable,,0,-1"
				"ontrigger" "shop_blast_door,enable,,0,-1"
				"ontrigger" "player,$playsoundtoself,doors/heavy_metal_stop1.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 2, -1, 0, true)0-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "shop_closed"
				"ontrigger" "mvm_map,disable,,0,-1"
				"ontrigger" "func_upgradestation,disable,,0,-1"
				"ontrigger" "shop_blast_door,enable,,0,-1"
				//"ontrigger" "player,$playsoundtoself,doors/heavy_metal_stop1.wav,0,-1"
				//"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 2, -1, 0, true)0-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "shopkeeper_getout"
				"ontrigger" "the_engineerrunscriptcodeDispatchParticleEffect(`teleportedin_red`,self.GetOrigin(),Vector(0,1,0))23.25-1"
				"ontrigger" "the_engineerrunscriptcodeDispatchParticleEffect(`teleported_red`,self.GetOrigin(),Vector(0,1,0))23.25-1"
				"ontrigger" "the_engineer,$playsound,weapons/teleporter_send.wav,23.25,-1"
				"ontrigger" "the_engineer,disable,,23.25,-1"
				"ontrigger" "the_engineer_gear,disable,,23.25,-1"
				"ontrigger" "the_engineer_gun,disable,,23.25,-1"
				"ontrigger" "the_engineer,kill,,24.25,-1"
				"ontrigger" "the_engineer_gear,kill,,24.25,-1"
				"ontrigger" "the_engineer_gun,kill,,24.25,-1"
				"ontrigger" "upgrade_light_relay,cancelpending,23.25,-1"
				"ontrigger" "upgrade_light_relay,cancelpending,23.25.1,-1"
				"ontrigger" "the_light,Color,0,23.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,23.25,-1"
				"ontrigger" "the_light,kill,0,24.25,-1"
				"ontrigger" "upgrade_light,kill,,24.25,-1"
				"spawnflags" "2"
			}
			trigger_apply_impulse
			{
				"targetname" "leaper_booster"
				"filtername" "filter_leaper"
				"origin" "-178 974 -28"
				"mins" "-50 -50 -100"
				"maxs" "50 50 100"
				"impulse_dir" "-90 0 0"
				"force" 750
				"spawnflags" 1
				"onstarttouch" "!self,applyimpulse,,0,-1"
			}
			trigger_apply_impulse
			{
				"targetname" "leaper_booster"
				"filtername" "filter_leaper"
				"origin" "400 1040 -19"
				"mins" "-64 -64 -45"
				"maxs" "64 64 45"
				"impulse_dir" "-90 0 0"
				"force" 750
				"spawnflags" 1
				"onstarttouch" "!self,applyimpulse,,0,-1"
			}
			filter_tf_bot_has_tag
			{
				"negated" "Allow entities that match criteria"
				"require_all_tags" "1"
				"tags" "bot_leaper"
				"targetname" "filter_leaper"
			}
		}

		p_viro_signs
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "viro_sign"
				"model" "models/props_mvm/mvm_sign_arrow.mdl"
				"origin" "-702 -790 25"
				"angles" "27 284 5"
				"disableshadows" "1"
			}
			prop_dynamic
			{
				"targetname" "viro_sign"
				"model" "models/props_mvm/mvm_sign_arrow02.mdl"
				"origin" "-1100 -408 -36"
				"angles" "-26 355 2"
				"disableshadows" "1"
			}
			prop_dynamic
			{
				"targetname" "viro_sign"
				"model" "models/props_mvm/mvm_sign_arrow02.mdl"
				"origin" "-438 -400 -60"
				"angles" "0 0 -10.5"
				"disableshadows" "1"
			}
			prop_dynamic
			{
				"targetname" "viro_sign"
				"model" "models/props_medical/street_sign003.mdl"
				"modelscale" "0.7"
				"origin" "-253 -556 30"
				"angles" "-3.5 180 5"
				"disableshadows" "1"
			}
		}

		p_emissary_ai
		{
			NoFixup 1
			KeepAlive 1
			OnSpawnOutput
			{
				target !self
				action RunScriptCode
				param "Trespasser.Emissary.call(this)"
			}
			OnSpawnOutput
			{
				target scene_emissary
				action trigger
			}
			OnParentKilledOutput
			{
				target no_guns_zone_off
				action trigger
			}
			OnParentKilledOutput
			{
				target scene_emissary
				action cancelpending
				delay 2
			}
			logic_relay
			{
				"targetname" "scene_emissary"
				"ontrigger" "custom_money_maker,kill,,80,-1"
				"ontrigger" "!activatorrunscriptcodeDispatchParticleEffect(`teleportedin_blue`,self.GetOrigin(),Vector(0,1,0))80-1"
				"ontrigger" "!activatorrunscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,1,0))80-1"
				"ontrigger" "!activator,$playsound,weapons/teleporter_send.wav,80,-1"
				"ontrigger" "!activatorrunscriptcodeself.ForceChangeTeam(1, false)80.25-1"
				"ontrigger" "player,$displaytextcenter,SO BE IT.,82,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_emissary_early"
				"ontrigger" "custom_money_maker,kill,,0,-1"
				"ontrigger" "@f@filter_blu_alive@player,$changeattributes,angry,0,-1"
				"ontrigger" "!activatorrunscriptcodeDispatchParticleEffect(`teleportedin_blue`,self.GetOrigin(),Vector(0,1,0))0-1"
				"ontrigger" "!activatorrunscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,1,0))0-1"
				"ontrigger" "!activator,$playsound,weapons/teleporter_send.wav,0,-1"
				"ontrigger" "player,$playsoundtoself,Emissary.Horn,0,-1"
				"ontrigger" "player,$playsoundtoself,Emissary.Horn,0,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "!activatorrunscriptcodeself.ForceChangeTeam(1, false)0.25-1"
				"ontrigger" "player,$displaytextcenter,SO BE IT.,2,-1"
				"spawnflags" "2"
			}
		}

		p_lastman_mode //last man
		{
			NoFixup 1
			logic_relay
			{
				"targetname" "lastman_relay"
				"ontrigger" "bignet,RunScriptCode,Trespasser.SetMusicState(false),2.75,-1"
				"ontrigger" "music_stop_relay,trigger,,2.75,-1"
				"ontrigger" "music_lastman_1,playsound,,0,-1"
				"ontrigger" "music_lastman_2,playsound,,0,-1"
				"ontrigger" "dark_correction,enable,,2.75,-1"
				"ontrigger" "deadly_stairs_on,trigger,,2.75,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)2.75-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bLastMan = true,2.75,-1"
				"ontrigger" "hole_blockers_on,trigger,,2.75,-1"
				"ontrigger" "p_cheese_holes,ForceSpawn,,2.75,-1"
				"ontrigger" "beat_sewers_relay,trigger,,20,-1"
				"ontrigger" "obj_sentrygun,RemoveHealth,99999,2.75,-1"
				"ontrigger" "obj_teleporter,removehealth,99999,2.75,-1"
				"ontrigger" "stronghold_lantern,disable,,2.75,-1"
				"ontrigger" "stronghold_light,turnoff,,2.75,-1"
				"ontrigger" "stronghold_crate,disable,,2.75,-1"
				"ontrigger" "stronghold_crate,disablecollision,,2.75,-1"
				"ontrigger" "!activator,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),3.75,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "lastman_relay_disable"
				"ontrigger" "hole_blockers_off,trigger,,0,-1"
				"ontrigger" "hole_collide,kill,,0,-1"
				"ontrigger" "music_lastman_1,stopsound,,0,-1"
				"ontrigger" "music_lastman_2,stopsound,,0,-1"
				"ontrigger" "dark_correction,disable,,0,-1"
				"ontrigger" "deadly_stairs_off,trigger,,0,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bLastMan = false,0,-1"
				"ontrigger" "beat_sewers_1,stopsound,,0,-1"
				"ontrigger" "beat_sewers_2,stopsound,,0,-1"
				"ontrigger" "beat_sewers_1,stopsound,,10,-1"
				"ontrigger" "beat_sewers_2,stopsound,,10,-1"
				"ontrigger" "beat_sewers_1,stopsound,,20,-1"
				"ontrigger" "beat_sewers_2,stopsound,,20,-1"
				"ontrigger" "stronghold_lantern,enable,,0,-1"
				"ontrigger" "stronghold_light,turnon,,0,-1"
				"ontrigger" "stronghold_crate,enable,,0,-1"
				"ontrigger" "stronghold_crate,enablecollision,,0,-1"
				"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),1,-1"
				"spawnflags" "2"
			}
		}

		p_solo_mode //singleplayer
		{
			NoFixup 1
			logic_relay
			{
				"targetname" "solomode_relay"
				"ontrigger" "stronghold_lantern,kill,,0,-1"
				"ontrigger" "stronghold_light,kill,,0,-1"
				"ontrigger" "bignet,runscriptcode,(Trespasser.bAllSurvivorsAlive = false),0,-1"
				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`sky_harvest_night_01`),0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,VIRO_STALKERS,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,survivor_1,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,survivor_2,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,survivor_3,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,survivors_undead,0,-1"
				"ontrigger" "team_convert_sound,cancelpending,,3,-1"
				"ontrigger" "fake_viro_base,kill,,0,-1"
				"ontrigger" "fake_viro_head,kill,,0,-1"
				"ontrigger" "jump_scare,kill,,0,-1"
				"ontrigger" "sign_slow,kill,,0,-1"
				"ontrigger" "sign_infection,kill,,0,-1"
				"ontrigger" "!activator,$addplayerattribute,voice pitch scale|0,0,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.SetMusicState(false),0,-1"
				"ontrigger" "hud_off_relay,trigger,,3,-1"
				//"ontrigger" "!activator,$tauntfromitem,Taunt: The Scaredy-cat!,4,-1"
				"ontrigger" "!activator,$playsoundtoself,Solo.OhShit,4,-1"
				"ontrigger" "player,$playsoundtoself,evil.laugh,6,-1"
				"ontrigger" "!activatorrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 5, -1, 0, true)6.25-1"
				"ontrigger" "!activatorrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)12-1"
				"ontrigger" "hud_on_relay,trigger,,12,-1"
				"ontrigger" "beat_solo,playsound,,12,-1"
				"ontrigger" "blood_fog_on,trigger,,12,-1"
				"ontrigger" "!activator,$addplayerattribute,voice pitch scale|1,12,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bSoloMode = true,12,-1"
				"ontrigger" "tf_gamerules,$addcurrencyglobal,600,12,-1"	//money left by ai survs
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "hud_off_relay"
				"ontrigger" "@f@filter_red_alive@player,RunScriptCode,self.SetHudHideFlags(0xffffffff & ~(HIDEHUD_CHAT|HIDEHUD_ALL)),0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "hud_on_relay"
				"ontrigger" "@f@filter_red_alive@player,RunScriptCode,self.SetHudHideFlags(0),0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "deadly_stairs_on"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bBlockerStairs = false,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "deadly_stairs_off"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bBlockerStairs = true,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "deadly_cade_on"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bBlockerCade = true,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "deadly_cade_off"
				"ontrigger" "bignet,RunScriptCode,Trespasser.bBlockerCade = false,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "hole_blockers_on"
				"ontrigger" "hard_board_1,enable,,0,-1"
				"ontrigger" "hard_board_2,enable,,0,-1"
				"ontrigger" "hard_board_3,enable,,0,-1"
				"ontrigger" "hard_board_4,enable,,0,-1"
				"ontrigger" "boarded_cheese,enable,,0,-1"
				"ontrigger" "backhole_collide,enable,,0,-1"
				"ontrigger" "middlehole_collide,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "hole_blockers_off"
				"ontrigger" "hard_board_1,disable,,0,-1"
				"ontrigger" "hard_board_2,disable,,0,-1"
				"ontrigger" "hard_board_3,disable,,0,-1"
				"ontrigger" "hard_board_4,disable,,0,-1"
				"ontrigger" "boarded_cheese,disable,,0,-1"
				"ontrigger" "hole_collide,kill,,0,-1"
				"ontrigger" "hole_collide,kill,,0,-1"
				"spawnflags" "2"
			}
			prop_dynamic
			{
				"targetname" "hard_board_1"
				"disableshadows" "1"
				"modelscale" "1.5"
				"model" "models/props_forest/wood_patch3.mdl"
				"origin" "289 1283 294"
				"angles" "0 -90 90"
				"startdisabled" "1"
				"lightingorigin" "hard_board_2"
			}
			prop_dynamic
			{
				"targetname" "hard_board_2"
				"disableshadows" "1"
				"modelscale" "1.5"
				"model" "models/props_forest/wood_patch3.mdl"
				"origin" "189 1283 294"
				"angles" "0 -90 90"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "hard_board_3"
				"disableshadows" "1"
				"modelscale" "1.5"
				"model" "models/props_forest/wood_patch3.mdl"
				"origin" "699 2466 294"
				"angles" "0 180 90"
				"startdisabled" "1"
			}
			prop_dynamic
			{
				"targetname" "hard_board_4"
				"disableshadows" "1"
				"modelscale" "1.5"
				"model" "models/props_forest/wood_patch3.mdl"
				"origin" "699 2566 294"
				"angles" "0 180 90"
				"startdisabled" "1"
			}
			func_brush
			{
				"targetname" "boarded_cheese"
				"origin" "234 1284 296"
				"mins" "-130 -4 -56"
				"maxs" "130 4 56"
				"solidity" "0"
				"startdisabled" 1
				"rendermode" "10"
			}
			func_brush
			{
				"targetname" "helicopter_solid"
				"origin" "632 -756 272"
				"mins" "-224 -100 -80"
				"maxs" "224 100 80"
				"solidity" "0"
				"startdisabled" 1
				"rendermode" "10"
			}
			trigger_hurt
			{
				"targetname" "helicopter_blade"
				"startdisabled" 1
				"origin" "668 -764 384"
				"mins" "-388 -388 -8"
				"maxs" "388 388 8"
				"spawnflags" "1"
				"damage" "0"
				"damagetype" 0
				"onstarttouch" "!activatorrunscriptcodeself.TakeDamageEx(Entities.FindByName(null, `helicopter_icon`), self, null, Vector(), Vector(), 1000, 1048640)0-1"
				"onstarttouch" "!activator,$playsound,ambient/machines/slicer1.wav,0,-1"
				"onstarttouch" "!activator,$playsound,ambient/machines/slicer4.wav,0,-1"
			}
			OnSpawnOutput
			{
				Target helicopter_blade
				Action RunScriptCode
				Param "NetProps.SetPropString(self, `m_iClassname`, `helicopter`)"
			}
			func_brush
			{
				"targetname" "boarded_cheese"
				"origin" "700 2518 288"
				"mins" "-4 -130 -48"
				"maxs" "4 130 48"
				"solidity" "0"
				"startdisabled" 1
				"rendermode" "10"
			}
		}

		p_cheese_holes //needs to be separated from the props
		{
			NoFixup 1
			prop_dynamic //to block stickies
			{
				"targetname" "hole_collide"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "697 2520 224"
				"angles" "-90 0 0"
				"solid" "6"
				"rendermode" "1"
				"renderamt" "1"
				"startdisabled" "1"
			}
			prop_dynamic //to block stickies
			{
				"targetname" "hole_collide"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "238 1282 240"
				"angles" "-90 90 0"
				"solid" "6"
				"rendermode" "1"
				"renderamt" "1"
				"startdisabled" "1"
			}
		}

		p_gameover //losing sequence
		{
			NoFixup 1
			color_correction
			{
				"targetname" "dark_correction"
				"filename" "download/materials/colorcorrection/oxidize.raw"
				"maxfalloff" "-1"
				"maxweight" "1"
				"minfalloff" "-1"
				"startdisabled" "1"
			}
			color_correction
			{
				"targetname" "red_correction"
				"filename" "scripts/2fort_flag_red.raw"
				"maxfalloff" "-1"
				"maxweight" "1"
				"minfalloff" "-1"
				"startdisabled" "1"
				"fadeInDuration" "1"
				"fadeOutDuration" "1"
			}
			logic_relay
			{
				"targetname" "gameover_relay"
				// "ontrigger" "player_corrupted_relay,cancelpending,,0,-1"
				"ontrigger" "music_stop_relay_all,trigger,,0,-1"
				"ontrigger" "lastman_relay,cancelpending,,0,-1"
				"ontrigger"	"red_correction,enable,,0,-1"
				"ontrigger" "desk_failsafe,kill,,0,-1"
				"ontrigger" "worldspawnRunScriptCodeSendGlobalGameEvent(`tf_game_over`,{})0-1"
				"ontrigger" "@f@filter_red@playerRunScriptCodeself.SnapEyeAngles(self.EyeAngles() + QAngle(0, 0, 35))0-1"
				//"ontrigger" "playerRunScriptCodeif(self.GetTeam()==3)self.AcceptInput(`$GiveItem`,`Unarmed Combat`,null,null)0-1"
				"ontrigger" "@f@filter_blu_alive@player,$addplayerattribute,voice pitch scale|0,0,-1"
				"ontrigger" "playerRunScriptCodeif(self.GetTeam()!=2)self.AcceptInput(`$TauntFromItem`,`Taunt: Cheers!`,null,null)0.1-1"
				"ontrigger" "music_gameover_1,playsound,,0,-1"
				"ontrigger" "music_gameover_2,playsound,,0,-1"
				"ontrigger" "obj_sentrygun,RemoveHealth,99999,0,-1"
				"ontrigger" "obj_teleporter,removehealth,99999,0,-1"
				"ontrigger" "playerrunscriptcodeif(self.GetTeam()==2)ScreenFade(self, 0, 0, 0, 255, 10, 0, 2)2-1"
				"ontrigger"	"red_correction,disable,,9,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "gameover_nuke_relay"
				"ontrigger" "music_stop_relay_all,trigger,,0,-1"
				"ontrigger" "lastman_relay,cancelpending,,0,-1"
				"ontrigger" "worldspawnRunScriptCodeSendGlobalGameEvent(`tf_game_over`,{})0-1"
				"ontrigger" "music_gameover_1,playsound,,0,-1"
				"ontrigger" "music_gameover_2,playsound,,0,-1"
				"ontrigger" "playerrunscriptcodeif(self.GetTeam()==2)ScreenFade(null, 0, 0, 0, 255, 10, 0, 10)2-1"
				"spawnflags" "2"
			}
		}

		p_scenes //scripted sequences
		{
			NoFixup 1
			color_correction
			{
				"targetname" "burned_correction"
				"filename" "scripts/lakeside_event_global.raw"
				"maxfalloff" "-1"
				"maxweight" "1"
				"minfalloff" "-1"
				"startdisabled" "1"
			}
			logic_relay
			{
				"targetname" "leaper_yells"
				"ontrigger" "player,$playsoundtoself,Leaper.Far,0,-1"
				"ontrigger" "player,$playsoundtoself,Leaper.Far,0.3,-1"
				"ontrigger" "player,$playsoundtoself,Leaper.Far,1.2,-1"
				"ontrigger" "player,$playsoundtoself,Leaper.Far,2,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "zombie_yells"
				"ontrigger" "player,$playsoundtoself,Hunger.Far,0,-1"
				"ontrigger" "player,$playsoundtoself,Hunger.Far,0.3,-1"
				"ontrigger" "player,$playsoundtoself,Hunger.Far,1.2,-1"
				"ontrigger" "player,$playsoundtoself,Hunger.Far,2,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "skeleton_yells"
				"ontrigger" "player,$playsoundtoself,Skeleton.Laugh,0,-1"
				"ontrigger" "player,$playsoundtoself,Skeleton.Laugh,0.3,-1"
				"ontrigger" "player,$playsoundtoself,Skeleton.Laugh,1.2,-1"
				"ontrigger" "player,$playsoundtoself,Skeleton.Laugh,2,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "debug_relay"
				"ontrigger" "bignet,RunScriptCode,Trespasser.SetMusicState(false),0,-1"
				"ontrigger" "blood_fog_off,trigger,,0,-1"
				"ontrigger" "spawn_door,kill,,0,-1"
				"ontrigger" "spawn_door_fake,kill,,0,-1"
				"ontrigger" "spawn_sign,kill,,0,-1"
				"ontrigger" "main_cade_1,kill,0,-1"
				"ontrigger" "main_cade_2,kill,0,-1"
				"ontrigger" "main_cade_hitme_1,kill,,0,-1"
				"ontrigger" "main_cade_hitme_2,kill,,0,-1"
				"ontrigger" "main_cade_brush,kill,,0,-1"
				"ontrigger" "shit_cade,disablecollision,,0,-1`"
				"ontrigger" "shit_cade,disable,,0,-1"
				"ontrigger" "shit_crate,kill,,0,-1"
				"ontrigger" "shit_cade,kill,,0,-1"
				"ontrigger" "main_cade_1,kill,,0,-1"
				"ontrigger" "main_cade_2,kill,,0,-1"
				"ontrigger" "lvl2_cade_hitme_1,kill,,0,-1"
				"ontrigger" "lvl2_cade_hitme_2,kill,,0,-1"
				"ontrigger" "lvl2_cade_1_brush,kill,,0,-1"
				"ontrigger" "lvl2_cade_2_brush,kill,,0,-1"
				"ontrigger" "lvl2_cade_2_brush,kill,,0,-1"
				"ontrigger" "lvl2_cade_1A,kill,,0,-1"
				"ontrigger" "lvl2_cade_2B,kill,,0,-1"
				"ontrigger" "lvl2_cade_2A,kill,,0,-1"
				"ontrigger" "lvl2_cade_1B,kill,,0,-1"
				"ontrigger" "lvl3_cade_hitme_1,kill,,0,-1"
				"ontrigger" "lvl3_cade_1A,kill,,0,-1"
				"ontrigger" "lvl3_cade_1B,kill,,0,-1"
				"ontrigger" "lvl3_cade_1_brush,kill,,0,-1"
				"ontrigger" "lvl3_cade_2_brush,kill,,0,-1"
				"ontrigger" "lvl3_cade_3_brush,kill,,0,-1"
				"ontrigger" "nav_refresh,recomputeblockers,,1,-1"
				"ontrigger" "lvl3_cade_hitme_2,kill,,0,-1"
				"ontrigger" "lvl3_cade_2A,kill,,0,-1"
				"ontrigger" "lvl3_cade_2B,kill,,0,-1"
				"ontrigger" "lvl3_cade_hitme_3,kill,,0,-1"
				"ontrigger" "lvl3_cade_3A,kill,,0,-1"
				"ontrigger" "lvl3_cade_3B,kill,,0,-1"
				"ontrigger" "cade_windows_front,kill,,0,-1"
				"ontrigger" "cade_windows_back,kill,,0,-1"
			}
			logic_relay
			{
				"targetname" "scene_1_relay"
				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 1{reset} - {yellow}FERVID ENTRYWAY,0,-1"
				"ontrigger" "blood_fog_off,trigger,,2,-1"
				"ontrigger" "shop_blast_door,enable,,0,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard2.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)0-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_mvm_wave_start01.mp3,0.5,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard3.wav,2,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)2-1"
				"ontrigger" "spawn_door,kill,,2,-1"
				"ontrigger" "spawn_door_fake,kill,,2,-1"
				"ontrigger" "spawn_sign,kill,,2,-1"
				"ontrigger" "sign_slow,show,,13,-1"
				"ontrigger" "bignet,RunScriptCode,if(!Trespasser.bSoloMode) Trespasser.StartCamera(),20,-1"
				"ontrigger" "zombie_yells,trigger,,38.5,-1"
				"ontrigger" "zombie_yells,trigger,,48.5,-1"

				"ontrigger" "spawn_red,kill,,0,-1"

				"ontrigger" "@f@filter_red_alive@player,$changeattributes,wake,62.5,-1"
				"ontrigger" "@f@filter_blu_alive@player,$changeattributes,wake,63,-1"
				"ontrigger" "@f@filter_blu_alive@player,$changeattributes,wake_brute,63,-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`@f@filter_blu_alive@player`, `$changeattributes`, `Solo`)64-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, -1, 0, true)63-1"
				"ontrigger" "player,$playsoundtoself,ambient/rottenburg/barrier_smash.wav,63,-1"
				"ontrigger" "music_lastman_1,stopsound,,63,-1" //no ravenhlom during the first 2 min
				"ontrigger" "music_lastman_2,stopsound,,63,-1"
				"ontrigger" "music_lastman_1,stopsound,,68,-1"
				"ontrigger" "music_lastman_2,stopsound,,68,-1"
				"ontrigger" "music_lastman_1,stopsound,,73,-1"
				"ontrigger" "music_lastman_2,stopsound,,73,-1"
				"ontrigger" "music_lastman_1,stopsound,,78,-1"
				"ontrigger" "music_lastman_2,stopsound,,78,-1"
				"ontrigger" "music_lastman_1,stopsound,,83,-1"
				"ontrigger" "music_lastman_2,stopsound,,83,-1"
				"ontrigger" "music_lastman_1,stopsound,,88,-1"
				"ontrigger" "music_lastman_2,stopsound,,88,-1"
				"ontrigger" "music_lastman_1,stopsound,,93,-1"
				"ontrigger" "music_lastman_2,stopsound,,93,-1"
				"ontrigger" "music_lastman_1,stopsound,,98,-1"
				"ontrigger" "music_lastman_2,stopsound,,98,-1"
				"ontrigger" "music_lastman_1,stopsound,,103,-1"
				"ontrigger" "music_lastman_2,stopsound,,103,-1"
				"ontrigger" "music_lastman_1,stopsound,,108,-1"
				"ontrigger" "music_lastman_2,stopsound,,108,-1"
				"ontrigger" "music_lastman_1,stopsound,,113,-1"
				"ontrigger" "music_lastman_2,stopsound,,113,-1"
				"ontrigger" "music_lastman_1,stopsound,,118,-1"
				"ontrigger" "music_lastman_2,stopsound,,118,-1"
				"ontrigger" "music_lastman_1,stopsound,,123,-1"
				"ontrigger" "music_lastman_2,stopsound,,123,-1"
				"ontrigger" "music_lastman_1,stopsound,,128,-1"
				"ontrigger" "music_lastman_2,stopsound,,128,-1"
				"ontrigger" "player,$playsoundtoself,Music.Intro,63,-1"
				"ontrigger" "player,$playsoundtoself,Music.Intro,63,-1"
				"ontrigger" "main_cade_1,setanimation,break2,63,-1"
				"ontrigger" "main_cade_2,setanimation,break2,63,-1"
				"ontrigger" "main_cade_hitme_1,kill,,63,-1"
				"ontrigger" "main_cade_hitme_2,kill,,63,-1"
				"ontrigger" "main_cade_brush,kill,,63,-1"
				"ontrigger" "sexplosion,explode,,63,-1"
				"ontrigger" "sexplosion,kill,,64,-1"
				//"ontrigger" "shit_crate,removehealth,9999,63.25,-1"
				"ontrigger" "shit_caderunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(0,1,-1))63-1"
				"ontrigger" "shit_cade,disablecollision,,63.25,-1`"
				"ontrigger" "shit_cade,disable,,63.25,-1"
				"ontrigger" "shit_crate,kill,,63.25,-1"
				"ontrigger" "shit_cade,kill,,65.25,-1"
				"ontrigger" "main_cade_1,kill,,65.5,-1"
				"ontrigger" "main_cade_2,kill,,65.5,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,70.5,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_2_relay"
				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 2{reset} - {yellow}PERMISSION TO LIVE,0,-1"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh.Far,0,-1"
				"ontrigger" "music_cades_relay,trigger,,6,-1"

				"ontrigger" "@f@filter_blu_alive@player,$changeattributes,wake_brute,16,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 8, 32, 1.5, -1, 0, true)16-1"
				"ontrigger" "player,$playsoundtoself,ambient/rottenburg/barrier_smash.wav,16,-1"
				"ontrigger" "lvl2_cade_1A,setanimation,break2,16,-1"
				"ontrigger" "lvl2_cade_1B,setanimation,break2,16,-1"
				"ontrigger" "lvl2_cade_2A,setanimation,break2,16,-1"
				"ontrigger" "lvl2_cade_2B,setanimation,break2,16,-1"
				"ontrigger" "lvl2_cade_hitme_1,kill,,16,-1"
				"ontrigger" "lvl2_cade_hitme_2,kill,,16,-1"
				"ontrigger" "lvl2_cade_1_brush,kill,,16,-1"
				"ontrigger" "lvl2_cade_2_brush,kill,,16,-1"
				"ontrigger" "lvl2_cade_2_brush,kill,,16,-1"
				"ontrigger" "lvl2_cade_1A,kill,,18.5,-1"
				"ontrigger" "lvl2_cade_2B,kill,,18.5,-1"
				"ontrigger" "lvl2_cade_2A,kill,,18.5,-1"
				"ontrigger" "lvl2_cade_1B,kill,,18.5,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_3_relay"
				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 3{reset} - {yellow}WITCHING HOUR,0,-1"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh.Far,0,-1"

				"ontrigger" "scene_leaper_relay,trigger,,15,-1"
				"ontrigger" "@f@filter_blu_alive@player,$changeattributes,wake_boss,17.25,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 8, 32, 1.5, -1, 0, true)17.25-1"
				"ontrigger" "player,$playsoundtoself,ambient/rottenburg/barrier_smash.wav,17.25,-1"
				"ontrigger" "lvl3_cade_1A,setanimation,break2,17.25,-1"
				"ontrigger" "lvl3_cade_1B,setanimation,break2,17.25,-1"
				"ontrigger" "lvl3_cade_hitme_1,kill,,17.25,-1"
				"ontrigger" "lvl3_cade_1A,kill,,18.75,-1"
				"ontrigger" "lvl3_cade_1B,kill,,18.75,-1"
				"ontrigger" "lvl3_cade_1_brush,kill,,17.25,-1"
				"ontrigger" "lvl3_cade_2_brush,kill,,17.25,-1"
				"ontrigger" "lvl3_cade_3_brush,kill,,17.25,-1"
				"ontrigger" "nav_refresh,recomputeblockers,,17.25,-1"

				"ontrigger" "lvl3_cade_2A,setanimation,break2,17.25,-1"
				"ontrigger" "lvl3_cade_2B,setanimation,break2,17.25,-1"
				"ontrigger" "lvl3_cade_hitme_2,kill,,17.25,-1"
				"ontrigger" "lvl3_cade_2A,kill,,18.75,-1"
				"ontrigger" "lvl3_cade_2B,kill,,18.75,-1"
				"ontrigger" "lvl3_cade_3A,setanimation,break2,17.25,-1"
				"ontrigger" "lvl3_cade_3B,setanimation,break2,17.25,-1"
				"ontrigger" "lvl3_cade_hitme_3,kill,,17.25,-1"
				"ontrigger" "lvl3_cade_3A,kill,,18.75,-1"
				"ontrigger" "lvl3_cade_3B,kill,,18.75,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "wave_break_1_relay"

				"ontrigger" "fake_viro_head,disable,,0,-1"
				"ontrigger" "fake_viro_base,disable,,0,-1"

				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRed(),0,-1"
				"ontrigger" "bignet,runscriptcode,Trespasser.SetWavebar(2),0,-1"
				"ontrigger" "lastman_relay_disable,trigger,,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,shop,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,45,-1"
				"ontrigger" "player,$playsoundtoself,#trespasser_v2/music_wait.mp3,0,-1"
				"ontrigger" "sign_break,show,,2,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard2.wav,2,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)2-1"
				"ontrigger" "shop_blast_door,disable,,2,-1"
				"ontrigger" "mvm_map,enable,,2,-1"
				"ontrigger" "cabinet_regenerate,enable,,2,-1"
				"ontrigger" "p_spawn_red,forcespawn,,2,-1"
				"ontrigger" "func_upgradestation,enable,,2,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.flTimeCountdown = Time() + 60,3.25,-1"
				"ontrigger" "the_light,Color,255 50 50,0,-1"
				"ontrigger" "upgrade_light,TurnOn,,0,-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_mvm_collect_credits03.mp3,4,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}Shopkeeper{reset} :  Them skeletons break easy to melee attacks.,4,-1"

				"ontrigger" "gate_nav_blocker_3,disable,,0,-1"
				"ontrigger" "deadly_cade_off,trigger,,0,-1"
				"ontrigger" "skeleton_crew_1_on,trigger,,23.25,-1"
				"ontrigger" "skeleton_cackle_on,trigger,,26.25,-1"

				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,58.25,-1"
				"ontrigger" "sign_countdown_FIVE,show,,58.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}5{reset}...,58.25,-1"
				"ontrigger" "the_light,Color,0,59.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,59.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,59.25,-1"
				"ontrigger" "sign_countdown_FOUR,show,,59.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}4{reset}...,59.25,-1"
				"ontrigger" "the_light,Color,255 50 50,60.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,60.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,60.25,-1"
				"ontrigger" "sign_countdown_THREE,show,,60.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}3{reset}...,60.25,-1"
				"ontrigger" "the_light,Color,0,61.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,61.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,61.25,-1"
				"ontrigger" "sign_countdown_TWO,show,,61.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}2{reset}...,61.25,-1"
				"ontrigger" "the_light,Color,255 50 50,62.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,62.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,62.25,-1"
				"ontrigger" "sign_countdown_ONE,show,,62.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}1{reset}...,62.25,-1"

				"ontrigger" "the_light,Color,0,63.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,63.25,-1"
				"ontrigger" "mvm_map,disable,,63.25,-1"
				"ontrigger" "cabinet_regenerate,disable,,63.25,-1"
				"ontrigger" "spawn_red,kill,,63.25,-1"
				"ontrigger" "func_upgradestation,disable,,63.25,-1"
				"ontrigger" "shop_blast_door,enable,,63.25,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard3.wav,63.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)63.25-1"
				"ontrigger" "the_engineer,$playsound,vo/compmode/cm_engie_matchwon_03.mp3,64.25,-1"

				"ontrigger" "scene_2_relay,trigger,,66.25,-1"

				"ontrigger" "skeleton_crew_1_off,trigger,,63.25,-1"
				"ontrigger" "skeleton_cackle_off,trigger,,63.25,-1"
				"spawnflags" "2"

			}
			logic_relay
			{
				"targetname" "wave_break_2_relay"

				"ontrigger" "fake_viro_head,disable,,0,-1"
				"ontrigger" "fake_viro_base,disable,,0,-1"

				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRed(),0,-1"
				"ontrigger" "bignet,runscriptcode,Trespasser.SetWavebar(3),0,-1"
				"ontrigger" "lastman_relay_disable,trigger,,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,shop,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,45,-1"
				"ontrigger" "player,$playsoundtoself,#trespasser_v2/music_wait.mp3,0,-1"
				"ontrigger" "sign_break,show,,2,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard2.wav,2,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)2-1"
				"ontrigger" "shop_blast_door,disable,,2,-1"
				"ontrigger" "mvm_map,enable,,2,-1"
				"ontrigger" "cabinet_regenerate,enable,,2,-1"
				"ontrigger" "p_spawn_red,forcespawn,,2,-1"
				"ontrigger" "func_upgradestation,enable,,2,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.flTimeCountdown = Time() + 60,3.25,-1"
				"ontrigger" "the_light,Color,255 50 50,0,-1"
				"ontrigger" "upgrade_light,TurnOn,,0,-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_sf13_midnight02.mp3,4,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}Shopkeeper{reset} :  The inferno is comin'... prepare for a burnin'!,4,-1"

				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`sky_harvest_night_01`),23.25,-1"
				"ontrigger" "beat_sewers_relay,trigger,,23.25,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)23.25-1"
				"ontrigger" "halloween_fog_on,trigger,,23.25,-1"
				"ontrigger" "hhh_pumpkin,enable,,23.25,-1"
				"ontrigger" "hhh_axe,enable,,23.25,-1"
				"ontrigger" "early_fence_1,kill,,23.25,-1"
				"ontrigger" "early_fence_2,kill,,23.25,-1"
				"ontrigger" "early_teleporter,kill,,23.25,-1"
				"ontrigger" "early_teleporter_prop,kill,,23.25,-1"
				"ontrigger" "early_courtyard,kill,,23.25,-1"
				"ontrigger" "hhh_pumpkin,$playsound,vo/halloween_boss/knight_spawn.mp3,23.25,-1"
				//"ontrigger" "hhh_platform,enable,,23.25,-1"
				//"ontrigger" "hhh_platform,addoutput,solid 6,23.25,-1"
				//"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),24.25,-1"

				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,58.25,-1"
				"ontrigger" "sign_countdown_FIVE,show,,58.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}5{reset}...,58.25,-1"
				"ontrigger" "the_light,Color,0,59.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,59.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,59.25,-1"
				"ontrigger" "sign_countdown_FOUR,show,,59.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}4{reset}...,59.25,-1"
				"ontrigger" "the_light,Color,255 50 50,60.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,60.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,60.25,-1"
				"ontrigger" "sign_countdown_THREE,show,,60.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}3{reset}...,60.25,-1"
				"ontrigger" "the_light,Color,0,61.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,61.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,61.25,-1"
				"ontrigger" "sign_countdown_TWO,show,,61.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}2{reset}...,61.25,-1"
				"ontrigger" "the_light,Color,255 50 50,62.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,62.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,62.25,-1"
				"ontrigger" "sign_countdown_ONE,show,,62.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}1{reset}...,62.25,-1"

				"ontrigger" "the_light,Color,0,63.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,63.25,-1"
				"ontrigger" "mvm_map,disable,,63.25,-1"
				"ontrigger" "cabinet_regenerate,disable,,63.25,-1"
				"ontrigger" "spawn_red,kill,,63.25,-1"
				"ontrigger" "func_upgradestation,disable,,63.25,-1"
				"ontrigger" "shop_blast_door,enable,,63.25,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard3.wav,63.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)63.25-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_mvm_wave_end02.mp3,64.25,-1"

				"ontrigger" "scene_3_relay,trigger,,66.25,-1"
				"ontrigger" "beat_sewers_1,stopsound,,63.25,-1"
				"ontrigger" "beat_sewers_2,stopsound,,63.25,-1"
				"ontrigger" "bignet,runscriptcode,if(!Trespasser.bSoloMode) SetSkyboxTexture(`sky_night_01`),63.25,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)63.25-1"
				"ontrigger" "halloween_fog_off,trigger,,63.25,-1"
				"ontrigger" "hhh_pumpkin,disable,,63.25,-1"
				"ontrigger" "hhh_axe,disable,,63.25,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "wave_break_3_relay"

				"ontrigger" "fake_viro_head,disable,,0,-1"
				"ontrigger" "fake_viro_base,disable,,0,-1"

				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRed(),0,-1"
				"ontrigger" "bignet,runscriptcode,Trespasser.SetWavebar(4),0,-1"
				"ontrigger" "lastman_relay_disable,trigger,,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,shop,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,45,-1"
				"ontrigger" "player,$playsoundtoself,#trespasser_v2/music_wait.mp3,0,-1"
				"ontrigger" "sign_break,show,,2,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard2.wav,2,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)2-1"
				"ontrigger" "shop_blast_door,disable,,2,-1"
				"ontrigger" "mvm_map,enable,,2,-1"
				"ontrigger" "cabinet_regenerate,enable,,2,-1"
				"ontrigger" "p_spawn_red,forcespawn,,2,-1"
				"ontrigger" "func_upgradestation,enable,,2,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.flTimeCountdown = Time() + 60,3.25,-1"
				"ontrigger" "the_light,Color,255 50 50,0,-1"
				"ontrigger" "upgrade_light,TurnOn,,0,-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_sf13_magic_reac01.mp3,4,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}Shopkeeper{reset} :  Take these jabs - you'll know when you need 'em.,4,-1"

				"ontrigger" "beat_sewers_relay,trigger,,23.25,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)23.25-1"
				"ontrigger" "barnacles_on,trigger,,23.25,-1"
				"ontrigger" "barnacle_glow,enable,,23.25,-1"
				"ontrigger" "player,$addcond,24,23.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/canals/toxic_slime_sizzle1.wav,23.25,-1"
				"ontrigger" "fake_viro_head,enable,,23.25,-1"
				"ontrigger" "fake_viro_base,enable,,23.25,-1"
				"ontrigger" "player,$playsoundtoself,npc/barnacle/barnacle_digesting1.wav,33.25,-1"
				"ontrigger" "player,$playsoundtoself,npc/barnacle/barnacle_digesting1.wav,43.25,-1"
				"ontrigger" "player,$playsoundtoself,npc/barnacle/barnacle_digesting1.wav,53.25,-1"

				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,58.25,-1"
				"ontrigger" "sign_countdown_FIVE,show,,58.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}5{reset}...,58.25,-1"
				"ontrigger" "the_light,Color,0,59.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,59.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,59.25,-1"
				"ontrigger" "sign_countdown_FOUR,show,,59.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}4{reset}...,59.25,-1"
				"ontrigger" "the_light,Color,255 50 50,60.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,60.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,60.25,-1"
				"ontrigger" "sign_countdown_THREE,show,,60.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}3{reset}...,60.25,-1"
				"ontrigger" "the_light,Color,0,61.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,61.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,61.25,-1"
				"ontrigger" "sign_countdown_TWO,show,,61.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}2{reset}...,61.25,-1"
				"ontrigger" "the_light,Color,255 50 50,62.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,62.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,62.25,-1"
				"ontrigger" "sign_countdown_ONE,show,,62.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}1{reset}...,62.25,-1"

				"ontrigger" "beat_sewers_1,stopsound,,63.25,-1"
				"ontrigger" "beat_sewers_2,stopsound,,63.25,-1"
				"ontrigger" "fake_viro_head,disable,,63.25,-1"
				"ontrigger" "fake_viro_base,disable,,63.25,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)63.25-1"
				"ontrigger" "player,$removecond,24,63.25,-1"
				"ontrigger" "barnacle_glow,disable,,63.25,-1"
				"ontrigger" "the_light,Color,0,63.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,63.25,-1"
				"ontrigger" "mvm_map,disable,,63.25,-1"
				"ontrigger" "cabinet_regenerate,disable,,63.25,-1"
				"ontrigger" "spawn_red,kill,,63.25,-1"
				"ontrigger" "func_upgradestation,disable,,63.25,-1"
				"ontrigger" "shop_blast_door,enable,,63.25,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard3.wav,63.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)63.25-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_wranglekills02.mp3,64.25,-1"

				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 4{reset} - {yellow}SLIPPING HAZARD,66.25,-1"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh.Far,66.25,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "wave_break_4_relay"

				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRed(),0,-1"
				"ontrigger" "bignet,runscriptcode,Trespasser.SetWavebar(5),0,-1"
				"ontrigger" "lastman_relay_disable,trigger,,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,shop,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,45,-1"
				"ontrigger" "player,$playsoundtoself,#trespasser_v2/music_wait.mp3,0,-1"
				"ontrigger" "sign_break,show,,2,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard2.wav,2,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)2-1"
				"ontrigger" "shop_blast_door,disable,,2,-1"
				"ontrigger" "mvm_map,enable,,2,-1"
				"ontrigger" "cabinet_regenerate,enable,,2,-1"
				"ontrigger" "p_spawn_red,forcespawn,,2,-1"
				"ontrigger" "func_upgradestation,enable,,2,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.flTimeCountdown = Time() + 60,3.25,-1"
				"ontrigger" "the_light,Color,255 50 50,0,-1"
				"ontrigger" "upgrade_light,TurnOn,,0,-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_revenge01.mp3,4,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}Shopkeeper{FFFFFF} :  Incoming robots! Guns 'n bombs headin' your way!,4,-1"

				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,58.25,-1"
				"ontrigger" "sign_countdown_FIVE,show,,58.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}5{reset}...,58.25,-1"
				"ontrigger" "the_light,Color,0,59.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,59.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,59.25,-1"
				"ontrigger" "sign_countdown_FOUR,show,,59.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}4{reset}...,59.25,-1"
				"ontrigger" "the_light,Color,255 50 50,60.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,60.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,60.25,-1"
				"ontrigger" "sign_countdown_THREE,show,,60.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}3{reset}...,60.25,-1"
				"ontrigger" "the_light,Color,0,61.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,61.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,61.25,-1"
				"ontrigger" "sign_countdown_TWO,show,,61.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}2{reset}...,61.25,-1"
				"ontrigger" "the_light,Color,255 50 50,62.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,62.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,62.25,-1"
				"ontrigger" "sign_countdown_ONE,show,,62.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}1{reset}...,62.25,-1"

				"ontrigger" "player,$playsoundtoself,Robots.Entry,23.25,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, -1, 0, true)23.25-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)23.25-1"
				"ontrigger" "item_teamflag,enable,,23.25,-1"
				"ontrigger" "carriers_on,trigger,,23.25,-1"

				"ontrigger" "the_light,Color,0,63.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,63.25,-1"
				"ontrigger" "mvm_map,disable,,63.25,-1"
				"ontrigger" "cabinet_regenerate,disable,,63.25,-1"
				"ontrigger" "spawn_red,kill,,63.25,-1"
				"ontrigger" "func_upgradestation,disable,,63.25,-1"
				"ontrigger" "shop_blast_door,enable,,63.25,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard3.wav,63.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)63.25-1"
				"ontrigger" "the_engineer,$playsound,vo/engineer_mvm_taunt01.mp3,64.25,-1"

				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 5{reset} - {yellow}MORSELS VS MACHINE,69.25,-1"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh.Far,69.25,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "wave_break_5_relay"

				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRed(),0,-1"
				"ontrigger" "bignet,runscriptcode,Trespasser.SetWavebar(6),0,-1"
				"ontrigger" "lastman_relay_disable,trigger,,0,-1"
				// "ontrigger" "player,$removecond,34,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,shop,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,45,-1"
				"ontrigger" "player,$playsoundtoself,#trespasser_v2/music_wait.mp3,0,-1"
				"ontrigger" "sign_break,show,,2,-1"
				"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard2.wav,2,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)2-1"
				"ontrigger" "shop_blast_door,disable,,2,-1"
				"ontrigger" "mvm_map,enable,,2,-1"
				"ontrigger" "cabinet_regenerate,enable,,2,-1"
				"ontrigger" "p_spawn_red,forcespawn,,2,-1"
				"ontrigger" "func_upgradestation,enable,,2,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.flTimeCountdown = Time() + 60,3.25,-1"
				"ontrigger" "the_light,Color,255 50 50,0,-1"
				"ontrigger" "upgrade_light,TurnOn,,0,-1"
				"ontrigger" "the_engineer,$playsound,vo/compmode/cm_engie_pregamefirst_rare_03.mp3,4,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}Shopkeeper{FFFFFF} :  I've made contact with the Military. This here is our last chance for rescue!,4,-1"

				"ontrigger" "item_teamflag,ForceResetSilent,,23.25,-1"
				"ontrigger" "the_engineer_gun,disable,,23.25,-1"
				"ontrigger" "the_engineer_gun,kill,,24.25,-1"
				"ontrigger" "the_engineer,setanimation,competitive_loserstate_idle,23.25,-1)"
				"ontrigger" "the_engineer,setdefaultanimation,competitive_loserstate_idle,23.25,-1)"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`pop_interface`, `$PauseWaveSpawn`, `survivor_4`)0-1"
				"ontrigger" "bignetrunscriptcodeif(!Trespasser.bSoloMode) EntFire(`shopkeeper_getout`, `Trigger`)0-1"

				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,58.25,-1"
				"ontrigger" "sign_countdown_FIVE,show,,58.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}5{reset}...,58.25,-1"
				"ontrigger" "the_light,Color,0,59.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,59.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,59.25,-1"
				"ontrigger" "sign_countdown_FOUR,show,,59.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}4{reset}...,59.25,-1"
				"ontrigger" "the_light,Color,255 50 50,60.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,60.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,60.25,-1"
				"ontrigger" "sign_countdown_THREE,show,,60.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}3{reset}...,60.25,-1"
				"ontrigger" "the_light,Color,0,61.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,61.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,61.25,-1"
				"ontrigger" "sign_countdown_TWO,show,,61.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}2{reset}...,61.25,-1"
				"ontrigger" "the_light,Color,255 50 50,62.25,-1"
				"ontrigger" "upgrade_light,TurnOn,,62.25,-1"
				"ontrigger" "player,$playsoundtoself,ambient/alarms/klaxon1.wav,62.25,-1"
				"ontrigger" "sign_countdown_ONE,show,,62.25,-1"
				// "ontrigger" "player,$displaytextchat,{red}1{reset}...,62.25,-1"

				"ontrigger" "the_light,Color,0,63.25,-1"
				"ontrigger" "upgrade_light,TurnOff,,63.25,-1"
				"ontrigger" "mvm_map,disable,,63.25,-1"
				"ontrigger" "cabinet_regenerate,disable,,63.25,-1"
				"ontrigger" "spawn_red,kill,,63.25,-1"
				//"ontrigger" "func_upgradestation,disable,,63.25,-1"
				//"ontrigger" "shop_blast_door,enable,,63.25,-1"
				//"ontrigger" "player,$playsoundtoself,physics/metal/metal_grate_impact_hard3.wav,63.25,-1"
				//"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)63.25-1"
				"ontrigger" "player,$playsoundtoself,vo/engineer_helpme02.mp3,64.25,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}Shopkeeper{FFFFFF} : Shop's staying open as long as I'm alive!,64.25,-1"

				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 6{reset} - {yellow}DREAD EXPEDITION,67.25,-1"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh.Far,67.25,-1"
				"ontrigger" "scene_nearby_fight,trigger,,67.25,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "wave_break_6_relay"

				"ontrigger" "playerrunscriptcodeTrespasser.DispatchParticleEffectOn(self, null)0-1"
				"ontrigger" "item_teamflag,ForceResetSilent,,0,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRed(),0,-1"
				"ontrigger" "bignet,runscriptcode,Trespasser.SetWavebar(7),0,-1"
				"ontrigger" "lastman_relay_disable,trigger,,0,-1"
				"ontrigger" "lastman_relay,kill,,1,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,defense,0,-1"
				"ontrigger" "music_lastcp,playsound,,0,-1"
				"ontrigger" "p_spawn_red,forcespawn,,0,-1"
				"ontrigger" "sign_break_last,show,,2,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.flTimeCountdown = Time() + 60,3.25,-1"

				"ontrigger" "scene_break_helicopters,trigger,,28.25,-1"
				"ontrigger" "zombie_yells,trigger,,38.25,-1"

				"ontrigger" "player,$playsoundtoself,trespasser_v2/guitar.wav,58.25,-1"
				"ontrigger" "sign_countdown_FIVE,show,,58.25,-1"
				// "ontrigger" "player,$displaytextchat,{2EFF00}5{reset}...,58.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)58.25-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/guitar.wav,59.25,-1"
				"ontrigger" "sign_countdown_FOUR,show,,59.25,-1"
				// "ontrigger" "player,$displaytextchat,{2EFF00}4{reset}...,59.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)59.25-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/guitar.wav,60.25,-1"
				"ontrigger" "sign_countdown_THREE,show,,60.25,-1"
				"ontrigger" "music_lastcp,stopsound,,60.25,-1"
				// "ontrigger" "player,$displaytextchat,{2EFF00}3{reset}...,60.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)60.25-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/guitar.wav,61.25,-1"
				"ontrigger" "sign_countdown_TWO,show,,61.25,-1"
				// "ontrigger" "player,$displaytextchat,{2EFF00}2{reset}...,61.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)61.25-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/guitar.wav,62.25,-1"
				"ontrigger" "sign_countdown_ONE,show,,62.25,-1"
				// "ontrigger" "player,$displaytextchat,{2EFF00}1{reset}...,62.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)62.25-1"
				"ontrigger" "player,$playsoundtoself,items/pyro_guitar_solo_no_verb.wav,63.25,-1"
				//"ontrigger" "@f@filter_red_alive@player,$tauntfromitem,The Shred Alert,63.25,-1"
				"ontrigger" "player,$displaytextchat,{2EFF00}GO{reset}!,63.25,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)63.25-1"

				"ontrigger" "cabinet_regenerate,disable,,63.25,-1"
				"ontrigger" "spawn_red,kill,,63.25,-1"
				"ontrigger" "spawn_blu,kill,,63.25,-1"

				"ontrigger" "zombie_yells,trigger,,63.25,-1"
				"ontrigger" "zombie_yells,trigger,,64.25,-1"
				"ontrigger" "zombie_yells,trigger,,65.25,-1"

				"ontrigger" "player,$displaytextchat,{e5a4ff}CHAPTER 7{reset} - {yellow}ABRUPT RELIEF,65.25,-1"
				"ontrigger" "music_finale_2,playsound,,65.25,-1"
				"ontrigger" "deadly_stairs_on,trigger,,65.25,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_skeleton_relay"
				"ontrigger" "music_skeleton_relay,trigger,,0,-1"
				"ontrigger" "skeleton_crew_2_on,trigger,,28,-1"
				"ontrigger" "skeleton_cackle_off,trigger,,28,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)30-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,30,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)30.25-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,30.25,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)30.5-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,30.5,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)30.75-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,30.75,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)31-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,31,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)31.25-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,31.25,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)31.5-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,31.5,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)31.75-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,31.75,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)32-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,32,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)32.25-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,32.25,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)32.5-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,32.5,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)32.75-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,32.75,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)33-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,33,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)33.25-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,33.25,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)33.5-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,33.5,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)33.75-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,33.75,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)34-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Small.Hurt,34,-1"

				"ontrigger" "cade_windows_frontrunscriptcodeTrespasser.ShakeIt()34.5-1"
				"ontrigger" "cade_windows_front,$playsound,Barricade.Hurt,34.5,-1"
				"ontrigger" "cade_windows_frontrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(0,1,-1))34.5-1"
				"ontrigger" "cade_windows_frontrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,0,-50),Vector(0,1,-1))34.5-1"
				"ontrigger" "cade_windows_frontrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,50,-100),Vector(0,1,-1))34.5-1"
				"ontrigger" "cade_windows_frontrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,-50,-150),Vector(0,1,-1))34.5-1"
				"ontrigger" "cade_windows_frontrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,0,-200),Vector(0,1,-1))34.5-1"
				"ontrigger" "cade_windows_front,kill,,34.6,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_skeleton_end"
				"ontrigger" "skeleton_crew_1_off,trigger,,0,-1"
				"ontrigger" "skeleton_crew_2_off,trigger,,0,-1"
				"ontrigger" "skeleton_cackle_off,trigger,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_dopple"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh.Close,0,-1"
				"ontrigger" "@f@filter_red_alive_demo@player,RunScriptCode,Trespasser.GiveTempWeapon.call(this),0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_dopples"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 5, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,Evil.Laugh,0,-1"
				"ontrigger" "bignetrunscriptcodeTrespasser.SelectedFromShuffle.clear()0-1"
				"ontrigger" "@f@filter_red_alive_demo@player,RunScriptCode,Trespasser.GiveTempWeapon.call(this),0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_robrute"
				"ontrigger" "player,$playsoundtoself,Zombie.Boss.yell,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, -1, 0, true)0-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_money"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 8, 32, 1, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,Steel.Strain,0,-1"
				"ontrigger" "player,$playsoundtoself,Steel.Strain,1,-1"
				"ontrigger" "player,$playsoundtoself,Steel.Strain,1.5,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 8, 32, 1, -1, 0, true)3-1"
				"ontrigger" "player,$playsoundtoself,Steel.Strain,3,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 8, 32, 1, -1, 0, true)3.5-1"
				"ontrigger" "player,$playsoundtoself,Steel.Strain,3.5,-1"
				"ontrigger" "player,$playsoundtoself,MVM.DeployBombGiant,4,-1"
				"ontrigger" "music_money_relay,trigger,,5,-1"
				//"ontrigger" "player,$playsoundtoself,Music.Bonus,6,-1"
				//"ontrigger" "player,$displaytexthint,BONUS TIME !!!,6,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_burning_relay"
				//"ontrigger" "hhh_platform,disable,,0,-1"
				//"ontrigger" "hhh_platform,addoutput,solid 0,0,-1"
				"ontrigger" "playerrunscriptcodeif(self.IsPlayer())self.ViewPunch(QAngle(-5,5,-5))0-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 5, -1, 0, true)0-1"
				"ontrigger" "bignetrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"
				"ontrigger"	"burned_correction,enable,,0,-1"
				"ontrigger" "player,SpeakResponseConcept,TLK_ONFIRE,0,-1"
				"ontrigger" "player,SetScriptOverlayMaterial,effects/imcookin,0,-1"
				"ontrigger" "player,$playsoundtoself,player/flame_out.wav,0,-1"
				"ontrigger" "player,$playsoundtoself,ambient/fireball.wav,0.5,-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/fire_zombie.wav,0.5,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_tank_relay"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 5, -1, 0, true)8.4-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)8.4-1"
				"ontrigger" "playerrunscriptcodeif(self.IsPlayer())self.ViewPunch(QAngle(-5,5,-5))8.4-1"
				"ontrigger" "tank_bossrunscriptcodeDispatchParticleEffect(`hammer_impact_button`,self.GetOrigin() + Vector(0,0,0),Vector(0,1,0))8.4-1"
				"ontrigger" "player,$playsoundtoself,ambient/materials/cartrap_explode_impact1.wav,8.4,-1"
				"ontrigger" "player,$playsoundtoself,ambient/materials/cartrap_explode_impact2.wav,8.4,-1"
				"ontrigger" "tank_crush,enable,,8.3,-1"
				"ontrigger" "tank_crush,disable,,9.3,-1"
				"ontrigger" "desk_relay,trigger,,100,-1"
				"ontrigger" "painttank,$playsound,@mvm/mvm_tank_deploy.wav,102,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_combat_tank_detonation"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `DETONATION IN 120 SECONDS`, 8, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=100,filter_type=RECIPIENT_FILTER_GLOBAL})0-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `90`, 3, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=95,filter_type=RECIPIENT_FILTER_GLOBAL})30-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `60`, 3, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=90,filter_type=RECIPIENT_FILTER_GLOBAL})60-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `30`, 3, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=85,filter_type=RECIPIENT_FILTER_GLOBAL})90-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `20`, 3, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=80,filter_type=RECIPIENT_FILTER_GLOBAL})100-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `10`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=75,filter_type=RECIPIENT_FILTER_GLOBAL})110-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `9`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=75,filter_type=RECIPIENT_FILTER_GLOBAL})111-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `8`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=75,filter_type=RECIPIENT_FILTER_GLOBAL})112-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `7`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=75,filter_type=RECIPIENT_FILTER_GLOBAL})113-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `6`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=75,filter_type=RECIPIENT_FILTER_GLOBAL})114-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `5`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=73,filter_type=RECIPIENT_FILTER_GLOBAL})115-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `4`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=71,filter_type=RECIPIENT_FILTER_GLOBAL})116-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `3`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=69,filter_type=RECIPIENT_FILTER_GLOBAL})117-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `2`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=67,filter_type=RECIPIENT_FILTER_GLOBAL})118-1"
				"ontrigger" "combattankannorunscriptcodeTrespasser.SendAnnotationOn(self, `1`, 1, true); EmitSoundEx({sound_name=`ambient/alarms/klaxon1.wav`,pitch=65,filter_type=RECIPIENT_FILTER_GLOBAL})119-1"
				"ontrigger" "nuke_relay,trigger,,120,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_burning_end"
				"ontrigger" "bignetrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"
				"ontrigger"	"burned_correction,disable,,0,-1"
				"ontrigger" "player,SetScriptOverlayMaterial,,0,-1"
				"ontrigger" "player,extinguishplayer,,0,-1"
				"ontrigger" "player,extinguishplayer,,0.25,-1"
				"ontrigger" "player,extinguishplayer,,0.50,-1"
				"ontrigger" "player,extinguishplayer,,0.75,-1"
				"ontrigger" "player,extinguishplayer,,1,-1"
				"ontrigger" "music_burnings_relay,trigger,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_nearby_fight"
				"ontrigger" "hud_off_relay,trigger,,6,-1"
				"ontrigger" "item_teamflag,disable,,6,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle1.wav,6,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle9.wav,6.5,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle8.wav,7,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)7-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle7.wav,7.5,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/streetwar/city_riot1.wav,7.5,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle6.wav,9,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle5.wav,10,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)10-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle4.wav,10.5,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle3.wav,11.5,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/prison/inside_battle2.wav,12,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/streetwar/city_riot2.wav,12,-1"
				"ontrigger" "player,$playsoundtoself,ambient/levels/streetwar/city_riot2.wav,12,-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/jet_flyby.wav,10,-1"
				"ontrigger" "zombie_yells,trigger,,13,-1"
				"ontrigger" "giant_viro,disable,,15,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)15-1"
				"ontrigger" "field_camera,$enableall,,15,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)20-1"
				"ontrigger" "field_camera,$disableall,,20,-1"
				"ontrigger" "giant_viro,enable,,20,-1"
				"ontrigger" "item_teamflag,enable,,20,-1"
				"ontrigger" "hud_on_relay,trigger,,20,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 5, -1, 0, true)12.75-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 5, -1, 0, true)12.75-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)26-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_break_helicopters"
				"ontrigger" "bignetrunscriptcodelocal ent=SpawnEntityFromTable(`info_target`,{});ent.AddEFlags(EFL_IN_SKYBOX | EFL_FORCE_CHECK_TRANSMIT);ent.AcceptInput(`SetParent`,`helicopter_static_1`,null,null)0-1"
				"ontrigger" "bignetrunscriptcodelocal ent=SpawnEntityFromTable(`info_target`,{});ent.AddEFlags(EFL_IN_SKYBOX | EFL_FORCE_CHECK_TRANSMIT);ent.AcceptInput(`SetParent`,`helicopter_static_2`,null,null)0-1"
				//"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0.5-1"
				"ontrigger" "item_teamflag,disable,,0,-1"
				"ontrigger" "helicopter_static_1,enable,0,0.5,-1"
				"ontrigger" "helicopter_static_2,enable,0,0.5,-1"
				"ontrigger" "helicopter_glow_1,enable,0,0.5,-1"
				"ontrigger" "helicopter_glow_2,enable,0,0.5,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,happy,1,-1"
				// "ontrigger" "hud_off_relay,trigger,,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 15, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/helicopter_rotor_2.wav,0,-1"
				"ontrigger" "helicopter_parent_1,open,,0,-1"
				"ontrigger" "helicopter_parent_2,open,,0,-1"
				// "ontrigger" "helicopter_parent_1,setspeed,1024,3,-1"
				// "ontrigger" "helicopter_parent_2,setspeed,1024,4.5,-1"
				// "ontrigger" "hud_on_relay,trigger,,8,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_napalm_helicopter"
				"ontrigger" "coffins_on,trigger,,0,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"

				"ontrigger" "player,$playsoundtoself,npc/combine_soldier/vo/prison_soldier_visceratorsa5.wav,3,-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/helicopter_rotor_2.wav,4,-1"
				"ontrigger" "helicopter_parent_3,open,,4.5,-1"
				"ontrigger" "helicopter_static_3,enable,0,4.5,-1"
				"ontrigger" "helicopter_glow_3,enable,0,4.5,-1"
				"ontrigger" "helicopter_napalm_mimic,$startfiring,0,5.5,-1"
				"ontrigger" "helicopter_napalm_mimic,$stopfiring,0,7,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 8, -1, 0, true)5-1"

				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 0.5, -1, 0, true)5.5-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 0.5, -1, 0, true)6-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 0.5, -1, 0, true)6.5-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 0.5, -1, 0, true)5.5-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 0.5, -1, 0, true)6-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 0.5, -1, 0, true)6.5-1"
				"ontrigger" "scene_personel_helicopter,trigger,,8,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_escape"
				"ontrigger" "shop_closed,trigger,,0,-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`solo_cap_bonus`, `Trigger`)0-1"
				"ontrigger" "point_maker,ForceSpawn,,0,-1"
				"ontrigger" "blood_fog_off,trigger,,0,-1"
				"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),1,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"
				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`sky_gravel_01`),0,-1"
				"ontrigger" "helicopter_dynamic,enable,0,0,-1"
				"ontrigger" "helicopter_dynamic,setanimation,helecopter_arival,0,-1"
				"ontrigger" "helicopter_glow_4,enable,0,0,-1"
				"ontrigger" "beat_helicopter,playsound,,0,-1"
				"ontrigger" "helicopter_gun,show,,1,-1"
				"ontrigger" "helicopter_gun,setteam,2,,1,-1"
				"ontrigger" "sign_lz,show,,15,-1"
				"ontrigger" "helicopter_solid,enable,,13.5,-1"
				"ontrigger" "helicopter_blade,enable,,13.5,-1"
				"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),14.5,-1"
				"ontrigger" "stronghold_light,turnoff,,0,-1"
				"ontrigger" "stronghold_lantern,kill,,0,-1"
				"ontrigger" "helicopter_gun,SetParentAttachment,turret,1,-1"
				"ontrigger" "helicopter_gun,SetParentAttachment,turret,2,-1"
				"ontrigger" "helicopter_gun_light,SetParentAttachment,laser_origin,1,-1"
				"ontrigger" "helicopter_gun_light,SetParentAttachment,laser_origin,2,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,exit,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_personel_helicopter"
				//"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0.5-1"
				"ontrigger" "helicopter_parent_2,setspeed,1024,0,-1"
				"ontrigger" "helicopter_static_2,enable,0,0.5,-1"
				"ontrigger" "helicopter_glow_2,enable,0,0.5,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 15, -1, 0, true)1-1"
				//"ontrigger" "player,$playsoundtoself,trespasser_v2/helicopter_rotor_2.wav,0,-1"
				"ontrigger" "helicopter_parent_2,open,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "scene_leaper_relay"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)0-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,0,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)0.25-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,0.25,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)0.5-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,0.5,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)0.75-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,0.75,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)1-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,1,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)1.25-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,1.25,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)1.5-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,1.5,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)1.75-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,1.75,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)2-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,2,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)2.25-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,2.25,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)2.5-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,2.5,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)2.75-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,2.75,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)3-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,3,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)3.25-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,3.25,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)3.5-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,3.5,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)3.75-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,3.75,-1"
				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 8, 32, 0.5, 750, 0, true)4-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Small.Hurt,4,-1"

				"ontrigger" "cade_windows_backrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1.5, -1, 0, true)4.5-1"
				"ontrigger" "cade_windows_back,$playsound,Barricade.Hurt,4.5,-1"
				"ontrigger" "cade_windows_backrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin(),Vector(0,-1,0))4.5-1"
				"ontrigger" "cade_windows_backrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,0,-50),Vector(0,-1,0))4.5-1"
				"ontrigger" "cade_windows_backrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,50,-100),Vector(0,-1,0))4.5-1"
				"ontrigger" "cade_windows_backrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,-50,-150),Vector(0,-1,0))4.5-1"
				"ontrigger" "cade_windows_backrunscriptcodeif(self && self.IsValid()) DispatchParticleEffect(`target_break`,self.GetOrigin() + Vector(0,0,-200),Vector(0,-1,0))4.5-1"
				"ontrigger" "cade_windows_back,kill,,4.6,-1"
				"spawnflags" "2"
			}
		}

		p_begin_setup //map spawn
		{
			NoFixup 1
			tf_point_nav_interface //fix issue where blue bots refuse to go in red spawn room
			{
				"targetname" "nav_refresh"
			}
			OnSpawnOutput //delete red visualizer, make blue visualizers invisible
			{
				Target bignet
				Action RunScriptCode
				Param "local hEnt = FindByClassnameNearest(`func_respawnroomvisualizer`, Vector(700, 1440, 265), 16); if(hEnt && hEnt.IsValid()) hEnt.Kill(); EntFire(`func_respawnroomvisualizer`, `RunScriptCode`, `self.DisableDraw()`)"
			}
			logic_relay
			{
				"targetname" "bigpharma"
				//"onspawn" "item_teamflag,setmodel,models/props_td/models/props_td/atom_bomb_blue2.mdl,0,-1" //physics problem...
				"onspawn" "@f@filter_red@player,$forcerespawn,0,-1"
				"onspawn" "tf_gamerules,$SetProp$m_bShowMatchSummary,0,0,-1"
				"onspawn" "@f@filter_red_alive@player,RunScriptCode,self.SetForceLocalDraw(false),0,-1"
				"onspawn" "bignet,runscriptcode,SetSkyboxTexture(`sky_night_01`),0,-1"
				"onspawn" "func_upgradestation,AddOutput,targetname upgrade_station,0,-1"
				"onspawn" "team_control_point_master,AddOutput,custom_position_x 2,0,-1"
				"onspawn" "team_control_point_master,RoundSpawn,,0.1,-1"
				"onspawn" "upgrade_light_relay,trigger,,0.1,-1"
				"onspawn" "sign_toll,Show,,5,-1"
				"onspawn" "func_upgradestation,enable,,0,-1"
				"onspawn" "player,$displaytexthint,Some special weapons can be used for free but may not be upgraded,20,-1"
				"onspawn" "music_hint,ShowHudHint,,10,-1"
				"onspawn" "music_hint,HideHudHint,,20,-1"
				"onspawn" "bignet,runscriptcode,Trespasser.SetWavebar(0),0,-1"
				"onspawn" "hud_on_relay,trigger,,0,-1"
				"onspawn" "red_correction,enable,,0,-1"
				"onspawn" "red_correction,disable,,1,-1"
				"onspawn" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"

				"onspawn" "door_1,kill,,0,-1"
				//"onspawn" "spawn_blu,kill,0,-1"

				"onspawn" "gate_door_trigger*,kill,,0,-1"
				"onspawn" "gate_door_*,setspeed,9999,0,-1"
				"onspawn" "gate_door_1,open,,0,-1"
				"onspawn" "gate_prop_1,disable,,0,-1"
 				"onspawn" "gate_door_2,kill,,0,-1"
				"onspawn" "gate_door_3,kill,,0,-1"
				"onspawn" "gate_door_4,kill,,0,-1"
				"onspawn" "gate_door_5,kill,,0,-1"
				"onspawn" "gate_door_6,kill,,0,-1"

				"onspawn" "gate_nav_blocker_1,disable,,0,-1"
				"onspawn" "gate_nav_blocker_2,disable,,0,-1"
				//"onspawn" "gate_nav_blocker_3,disable,,0,-1"
				"onspawn" "gate_nav_blocker_4,disable,,0,-1"
				"onspawn" "gate_nav_blocker_5,disable,,0,-1"
				"onspawn" "gate_nav_blocker_6,disable,,0,-1"
				"onspawn" "deadly_cade_on,trigger,,0,-1"
				"onspawn" "skeleton_crew_1_off,trigger,,0,-1" //necessary for ornament bug
				"onspawn" "skeleton_crew_2_off,trigger,,0,-1" //necessary for ornament bug
				"spawnflags" "2"
			}
			env_hudhint
			{
				"targetname" "music_hint"
				"message" "snd_musicvolume 1 in console to enable music"
				"spawnflags" "1"
			}
		}

		p_begin_shop //shop assets
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "spawn_door"
				"origin" "697 1440 190"
				"angles" "0 0 0"
				"model" "models/props_gameplay/windowed_door.mdl"
				"disableshadows" "1"
				"modelscale" "1.2"
				"solid" "0"
				"spawnflags" "0"
			}
			prop_dynamic
			{
				"targetname" "spawn_door_fake"
				"origin" "636 1540 337"
				"angles" "180 90 0"
				"model" "models/props_vehicles/train_flatcar_container.mdl"
				"disableshadows" "1"
				"modelscale" "1"
				"skin" "1"
				"solid" "6"
				"spawnflags" "0"
				"lightingorigin" "spawn_sign"
			}
			prop_dynamic
			{
				"targetname" "spawn_sign"
				"disableshadows" "1"
				"model" "models/props_medical/street_sign004.mdl"
				"origin" "701 1439 269"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "shop_blast_door"
				"origin" "855 1522 295"
				"angles" "0 -90 0"
				"model" "models/props_island/yeti_cell_door.mdl"
				"disableshadows" "1"
				"modelscale" "1.77"
				"startdisabled" 1
				"lightingorigin" "shop_blast_door_lighting"
				"rendercolor" "175 190 255"
			}
			info_target
			{
				"targetname" "shop_blast_door_lighting"
				"origin" "-345 288 -32"
				"spawnflags" "1"
			}
			prop_dynamic
			{
				"targetname" "shop_blocker_1"
				"origin" "936 1613 198"
				"angles" "0 180 0"
				"model" "models/props_vehicles/train_flatcar_container.mdl"
				"disableshadows" "1"
				"solid" "6"
				"startdisabled" 1
			}
			prop_dynamic
			{
				"targetname" "shop_blocker_2"
				"origin" "936 1603 335"
				"angles" "0 180 0"
				"model" "models/props_vehicles/train_flatcar_container.mdl"
				"disableshadows" "1"
				"solid" "6"
				"startdisabled" 1
			}
		}

		p_spawn_red
		{
			NoFixup 1
			func_respawnroom
			{
				"targetname" "spawn_red"
				"origin" "856 1280 352"
				"mins" "-152 -368 -160"
				"maxs" "152 368 160"
				"rendermode" "1"
				"spawnflags" "1"
				"teamnum" "2"
			}
		}

		p_begin //mission start
		{
			NoFixup 1
			logic_relay
			{
				"targetname" "begin_relay"
				"ontrigger" "bignet,RunScriptCode,Trespasser.SetMusicState(false),0,-1"
				"ontrigger" "spawn_couch,disable,,0,-1"
				"ontrigger" "spawn_couch,addoutput,solid 0,0,-1"
				"ontrigger" "couch_healer,disable,,0,-1"
				"ontrigger" "spawn_sadness,disable,,0,-1"
				"ontrigger" "mvm_map,disable,,0,-1"
				"ontrigger" "cabinet_regenerate,disable,,0,-1"
				"ontrigger" "spawn_red,kill,,0,-1"
				"ontrigger" "func_upgradestation,disable,,0,-1"
				"ontrigger" "nav_refresh,recomputeblockers,,1,-1"
				"ontrigger" "bigpharma,cancelpending,,0,-1"
				"ontrigger" "sign_toll,kill,,0,-1"
				"ontrigger" "player,$displaytexthint,,0,-1"
				"ontrigger" "music_hint,HideHudHint,,0,-1"
				"ontrigger" "deadly_stairs_off,trigger,8,-1"
				"ontrigger" "music_wait,playsound,,0,-1"
				"ontrigger" "music_wait,volume,0.1,63.25,-1"
				"ontrigger" "team_convert_sound,trigger,,10,-1"

				"ontrigger" "item_teamflag,disable,,0,-1"
				"ontrigger" "upgrade_light_relay,cancelpending,0,-1"
				"ontrigger" "upgrade_light_relay,cancelpending,0.1,-1"
				"ontrigger" "the_light,Color,0,0.1,-1"
				"ontrigger" "upgrade_light,TurnOff,,0.1,-1"

				"ontrigger" "credits_*,kill,,0.1,-1"
				"spawnflags" "2"
			}
		}

		p_resupply //hidden away
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "locker_model"
				"model"      "models/props_gameplay/resupply_locker.mdl"
				"solid"      "0"
				"origin"     "8136 8112 8160" //far away because the game demands a model
				"angles"     "0 0 0"
				"disableshadows" "1"
				"rendermode" "1"
				"renderamt" "0"
				"modelscale" 0.1
			}
			func_regenerate
			{
				"targetname" "cabinet_regenerate"
				"associatedmodel" "locker_model"
				"teamnum"	"2"
				"origin" "856 1184 352"
				"mins" "-152 -272 -160"
				"maxs" "152 272 160"
			}
		}

		p_map_dispensers //blue disps
		{
			NoFixup 1
			// OnSpawnOutput
			// {
			//     Target "map_dispenser_1"
			//     Action skin
			//     Param 1
			// }
			// OnSpawnOutput
			// {
			//     Target "map_dispenser_2"
			//     Action skin
			//     Param 1
			// }
			OnSpawnOutput
			{
				Target "map_dispenser_1"
				Action "RunScriptCode"
				Param "NetProps.SetPropInt(self, `m_takedamage`, 0)"
				Delay 1
			}
			OnSpawnOutput
			{
				Target "map_dispenser_2"
				Action "RunScriptCode"
				Param "NetProps.SetPropInt(self, `m_takedamage`, 0)"
				Delay 1
			}
			OnSpawnOutput
			{
				Target "map_dispenser_1"
				Action "RunScriptCode"
				Param "NetProps.SetPropInt(self, `m_iObjectType`, 3)"
				Delay 2
			}
			OnSpawnOutput
			{
				Target "map_dispenser_2"
				Action "RunScriptCode"
				Param "NetProps.SetPropInt(self, `m_iObjectType`, 3)"
				Delay 2
			}
			obj_dispenser
			{
				"targetname" "map_dispenser_1"
				"origin" "-200 1265 -65"
				"angles" "0 -90 0"
				"teamnum" "2"
				"spawnflags" "2"
				"solidtoplayer" "1"
				"defaultupgrade" "0"
				"lightingorigin" "chandelier_light"
			}
			obj_dispenser
			{
				"targetname" "map_dispenser_2"
				"origin" "345 1718 162"
				"angles" "0 180 15"
				"teamnum" "2"
				"spawnflags" "2"
				"solidtoplayer" "1"
				"defaultupgrade" "0"
				"lightingorigin" "moon_light"
			}
		}

		p_music_tracks
		{
			NoFixup 1
			ambient_generic
			{
				"targetname" "beat_sewers_1"
				"spawnflags" "17"
				"radius" "99999"
				"pitch" "105"
				"message" "ambient/atmosphere/sewer_air1.wav"
				"health" "5"
			}
			ambient_generic
			{
				"targetname" "beat_sewers_2"
				"spawnflags" "17"
				"radius" "99999"
				"pitch" "105"
				"message" "ambient/atmosphere/sewer_air1.wav"
				"health" "5"
			}
			ambient_generic
			{
				"targetname" "beat_solo"
				"spawnflags" "17"
				"radius" "99999"
				"pitch" "50"
				"message" "ambient/atmosphere/corridor.wav"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "beat_solo"
				"spawnflags" "17"
				"radius" "99999"
				"pitch" "50"
				"message" "ambient/atmosphere/corridor.wav"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "beat_mvm"
				"spawnflags" "17"
				"radius" "99999"
				"pitchstart" "70"
				"pitch" "125"
				"spinup" "125"
				"spindown" "70"
				"message" "#music/mvm_class_menu_bg.wav"
				"health" "7.5"
			}
			ambient_generic
			{
				"targetname" "beat_saw"
				"spawnflags" "17"
				"radius" "99999"
				"pitchstart" "70"
				"pitch" "100"
				"spinup" "100"
				"spindown" "70"
				"message" "ambient/sawblade.wav"
				"health" "2"
			}
			ambient_generic
			{
				"targetname" "beat_helicopter"
				"spawnflags" "17"
				"radius" "99999"
				"pitch" "100"
				"message" "trespasser_v2/helicopter_rotor_1.wav"
				"health" "8.5"
			}

			ambient_generic
			{
				"targetname" "music_wait"
				"spawnflags" "49"
				"radius" "99999"
				"message" "#trespasser_v2/music_wait.mp3"
				"health" "10"
			}
			// ambient_generic
			// {
			// 	"targetname" "music_finale_1"
			// 	"spawnflags" "49"
			// 	"radius" "99999"
			// 	"message" "#trespasser_v2/music_finale_1.mp3"
			// 	"health" "10"
			// }
			ambient_generic
			{
				"targetname" "music_finale_2"
				"spawnflags" "49"
				"radius" "99999"
				"message" "#trespasser_v2/music_finale_2.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_lastman_1"
				"spawnflags" "49"
				"radius" "99999"
				"message" "#music/ravenholm_1.mp3"
				"health" "6"
			}
			ambient_generic
			{
				"targetname" "music_lastman_2"
				"spawnflags" "49"
				"radius" "99999"
				"message" "#music/ravenholm_1.mp3"
				"health" "6"
			}
			ambient_generic
			{
				"targetname" "music_uncommon_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/hl2_song7.mp3"
				"health" "6"
			}
			ambient_generic
			{
				"targetname" "music_uncommon_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/hl2_song7.mp3"
				"health" "6"
			}
			ambient_generic
			{
				"targetname" "music_cades_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song9.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_cades_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song9.mp3"
				"health" "5"
			}
			ambient_generic
			{
				"targetname" "music_skeleton_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song19.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_skeleton_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song19.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_skeleton_3"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song19.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_horseman_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl2_song19.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_horseman_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl2_song19.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_burnings_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song5.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_burnings_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song5.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_nuclear_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/hl1_song3.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_nuclear_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/hl1_song3.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_poison_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song21.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_poison_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song21.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_poison_3"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/hl1_song21.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_bomb_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/stingers/hl1_stinger_song28.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_bomb_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/stingers/hl1_stinger_song28.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_challenge_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/stingers/hl1_stinger_song16.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_challenge_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#/music/stingers/hl1_stinger_song16.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_viro_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/radio1.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_viro_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "85"
				"message" "#music/radio1.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_robot_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#trespasser_v2/music_robot_1.mp3"
				"health" "10"
			}
			// ambient_generic
			// {
			// 	"targetname" "music_robot_2"
			// 	"spawnflags" "49"
			// 	"radius" "99999"
			// 	"pitch" "100"
			// 	"message" "#trespasser_v2/music_robot_2.mp3"
			// 	"health" "10"
			// }
			ambient_generic
			{
				"targetname" "music_money_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "95"
				"message" "#music/stingers/hl1_stinger_song7.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_money_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "95"
				"message" "#music/stingers/hl1_stinger_song7.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_nuke_1"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/stingers/hl1_stinger_song8.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_nuke_2"
				"spawnflags" "49"
				"radius" "99999"
				"pitch" "100"
				"message" "#music/stingers/hl1_stinger_song8.mp3"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_lastcp"
				"spawnflags" "17"
				"radius" "99999"
				"pitch" "95"
				"message" "#trespasser_v2/music_spawnroom.wav"
				"health" "10"
			}
			ambient_generic
			{
				"targetname" "music_gameover_1"
				"spawnflags" "49"
				"radius" "99999"
				"message" "#ambient/levels/citadel/citadel_hit1_adpcm.wav"
				"health" "6"
			}
			ambient_generic
			{
				"targetname" "music_gameover_2"
				"spawnflags" "49"
				"radius" "99999"
				"message" "#ambient/levels/citadel/citadel_hit1_adpcm.wav"
				"health" "6"
			}

			logic_case
			{
				"targetname" "music_robot_case"
				"case01"   "1"
				"case02"   "2"
				"oncase01" "pop_interface,$PauseWaveSpawn,BOSS_ECLIPSE,0,-1"
				"oncase01" "music_robot_1,playsound,,0,-1"
				"oncase02" "pop_interface,$PauseWaveSpawn,BOSS_WIRE,0,-1"
				"oncase02" "music_robot_2,playsound,,0,-1"
				"oncase01" "music_robot_1,volume,0.1,100,-1"
				"oncase01" "music_robot_2,volume,0.1,100,-1"
				"oncase02" "music_robot_1,volume,0.1,100,-1"
				"oncase02" "music_robot_2,volume,0.1,100,-1"
			}
			logic_case
			{
				"targetname" "music_finale_case"
				"case01"   "1"
				"oncase01" "pop_interface,$PauseWaveSpawn,FINALE_EXTRA_RIOTS_PERTURBATOR,0,-1"
				"oncase01" "pop_interface,$PauseWaveSpawn,FINALE_ARMY_SETUP_PERTURBATOR,0,-1"
				"oncase01" "pop_interface,$PauseWaveSpawn,FINALE_ARMY_PERTURBATOR,0,-1"
				"oncase01" "pop_interface,$PauseWaveSpawn,FINALE_SKELETONS_PERTURBATOR,0,-1"
				"oncase01" "pop_interface,$PauseWaveSpawn,FINALE_ROBRUTE_PERTURBATOR,0,-1"
				// "oncase01" "player_corrupted_relay,trigger,,0,-1"
				"oncase01" "music_finale_1,playsound,,0,-1"
				"case02"   "2"
				"oncase02" "pop_interface,$PauseWaveSpawn,FINALE_EXTRA_RIOTS_HORIZON,0,-1"
				"oncase02" "pop_interface,$PauseWaveSpawn,FINALE_ARMY_SETUP_HORIZON,0,-1"
				"oncase02" "pop_interface,$PauseWaveSpawn,FINALE_ARMY_HORIZON,0,-1"
				"oncase02" "pop_interface,$PauseWaveSpawn,FINALE_SKELETONS_HORIZON,0,-1"
				"oncase02" "pop_interface,$PauseWaveSpawn,FINALE_ROBRUTE_HORIZON,0,-1"
				"oncase02" "music_finale_2,playsound,,0,-1"
				// "oncase02" "player_corrupted_relay,trigger,,0,-1"
			}
			logic_relay
			{
				"targetname" "player_corrupted_relay"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),0,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),20,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),40,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),60,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),80,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),100,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),120,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),140,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),160,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),180,-1"
				"ontrigger" "bignet,RunScriptCode,Trespasser.ForceRespawnDeadRedAsBots(),200,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_cades_relay"
				"ontrigger" "music_cades_1,playsound,,0,-1"
				"ontrigger" "music_cades_2,playsound,,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)10-1"
				"ontrigger" "playerrunscriptcodeif(self.IsPlayer())self.ViewPunch(QAngle(-5,5,-5))10-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 1, -1, 0, true)45-1"
				"ontrigger" "playerrunscriptcodeif(self.IsPlayer())self.ViewPunch(QAngle(5,-5,5))45-1"
				"ontrigger" "music_cades_1,volume,0.1,95,-1"
				"ontrigger" "music_cades_2,volume,0.1,95,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "beat_sewers_relay"
				"ontrigger" "beat_sewers_1,playsound,,0,-1"
				"ontrigger" "beat_sewers_2,playsound,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_challenge_relay"
				"ontrigger" "music_challenge_1,playsound,,0,-1"
				"ontrigger" "music_challenge_2,playsound,,0,-1"
				"ontrigger" "music_challenge_1,volume,0.1,20,-1"
				"ontrigger" "music_challenge_2,volume,0.1,20,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_money_relay"
				"ontrigger" "music_money_1,playsound,,0,-1"
				"ontrigger" "music_money_2,playsound,,0,-1"
				"ontrigger" "music_money_1,volume,0.1,25,-1"
				"ontrigger" "music_money_2,volume,0.1,25,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_nuke_relay"
				"ontrigger" "music_nuke_1,playsound,,0,-1"
				"ontrigger" "music_nuke_2,playsound,,0,-1"
				"ontrigger" "music_nuke_1,volume,0.1,12,-1"
				"ontrigger" "music_nuke_2,volume,0.1,12,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_bomb_relay"
				"ontrigger" "music_bomb_1,playsound,,0,-1"
				"ontrigger" "music_bomb_2,playsound,,0,-1"
				"ontrigger" "music_bomb_1,volume,0.1,10,-1"
				"ontrigger" "music_bomb_2,volume,0.1,10,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_skeleton_relay"
				"ontrigger" "music_skeleton_1,playsound,,0,-1"
				"ontrigger" "music_skeleton_2,playsound,,0,-1"
				"ontrigger" "music_skeleton_3,playsound,,0,-1"
				"ontrigger" "music_skeleton_1,volume,0.1,115,-1"
				"ontrigger" "music_skeleton_2,volume,0.1,115,-1"
				"ontrigger" "music_skeleton_3,volume,0.1,115,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_uncommon_relay"
				"ontrigger" "music_uncommon_1,playsound,,0,-1"
				"ontrigger" "music_uncommon_2,playsound,,0,-1"
				"ontrigger" "music_uncommon_1,volume,0.1,60,-1"
				"ontrigger" "music_uncommon_2,volume,0.1,60,-1"
				"ontrigger" "music_lastman_1,volume,1,0,-1"
				"ontrigger" "music_lastman_2,volume,1,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_horseman_relay"
				"ontrigger" "music_horseman_1,playsound,,0,-1"
				"ontrigger" "music_horseman_2,playsound,,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,fort,36,-1"
				"ontrigger" "fort_off_relay,trigger,,0,-1"
				"ontrigger" "music_horseman_1,volume,0.1,115,-1"
				"ontrigger" "music_horseman_2,volume,0.1,115,-1"
				"ontrigger" "bignetrunscriptcodeif(!Trespasser.bSoloMode) EntFire(`hhh_pumpkin_solo`,`kill`)0-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_burnings_relay"
				"ontrigger" "music_horseman_1,kill,,0,-1" // stops one-off sound due to nutfile logic
				"ontrigger" "music_horseman_2,kill,,0,-1" // stops one-off sound due to nutfile logic
				"ontrigger" "music_burnings_1,playsound,,0,-1"
				"ontrigger" "music_burnings_2,playsound,,0,-1"
				"ontrigger" "music_burnings_1,volume,0.1,100,-1"
				"ontrigger" "music_burnings_2,volume,0.1,100,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_nuclear_relay"
				"ontrigger" "music_nuclear_1,playsound,,0,-1"
				"ontrigger" "music_nuclear_2,playsound,,0,-1"
				"ontrigger" "music_nuclear_1,volume,0.1,150,-1"
				"ontrigger" "music_nuclear_2,volume,0.1,150,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_poison_relay"
				"ontrigger" "music_poison_1,playsound,,0,-1"
				"ontrigger" "music_poison_2,playsound,,0,-1"
				"ontrigger" "music_poison_3,playsound,,0,-1"
				"ontrigger" "sign_infection,show,,0,-1"
				"ontrigger" "music_poison_1,volume,0.1,90,-1"
				"ontrigger" "music_poison_2,volume,0.1,90,-1"
				"ontrigger" "music_poison_3,volume,0.1,90,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_viro_relay"
				"ontrigger" "music_viro_1,playsound,,0,-1"
				"ontrigger" "music_viro_2,playsound,,0,-1"
				"ontrigger" "music_viro_1,volume,0.1,60,-1"
				"ontrigger" "music_viro_2,volume,0.1,60,-1"
				"spawnflags" "2"
			}

			logic_relay
			{
				"targetname" "music_stop_relay"
				"ontrigger" "music_wait,stopsound,,0,-1"
				"ontrigger" "music_finale_1,stopsound,,0,-1"
				"ontrigger" "music_finale_2,stopsound,,0,-1"
				//"ontrigger" "music_finale_1,volume,0.1,0,-1"
				//"ontrigger" "music_finale_2,volume,0.1,0,-1"
				//"ontrigger" "music_lastman_1,stopsound,,0,-1"
				//"ontrigger" "music_lastman_2,stopsound,,0,-1"
				"ontrigger" "music_uncommon_1,stopsound,,0,-1"
				"ontrigger" "music_uncommon_2,stopsound,,0,-1"
				//"ontrigger" "music_uncommon_1,volume,0.1,0,-1"
				//"ontrigger" "music_uncommon_2,volume,0.1,0,-1"
				"ontrigger" "music_cades_1,stopsound,,0,-1"
				"ontrigger" "music_cades_2,stopsound,,0,-1"
				//"ontrigger" "music_cades_1,volume,0.1,0,-1"
				//"ontrigger" "music_cades_2,volume,0.1,0,-1"
				"ontrigger" "music_skeleton_1,stopsound,,0,-1"
				"ontrigger" "music_skeleton_2,stopsound,,0,-1"
				"ontrigger" "music_skeleton_3,stopsound,,0,-1"
				//"ontrigger" "music_skeleton_1,volume,0.1,0,-1"
				//"ontrigger" "music_skeleton_2,volume,0.1,0,-1"
				//"ontrigger" "music_skeleton_3,volume,0.1,0,-1"
				"ontrigger" "music_horseman_1,stopsound,,0,-1"
				"ontrigger" "music_horseman_2,stopsound,,0,-1"
				//"ontrigger" "music_horseman_1,volume,0.1,0,-1"
				//"ontrigger" "music_horseman_2,volume,0.1,0,-1"
				"ontrigger" "music_burnings_1,stopsound,,0,-1"
				"ontrigger" "music_burnings_2,stopsound,,0,-1"
				//"ontrigger" "music_burnings_1,volume,0.1,0,-1"
				//"ontrigger" "music_burnings_2,volume,0.1,0,-1"
				"ontrigger" "music_nuclear_1,stopsound,,0,-1"
				"ontrigger" "music_nuclear_2,stopsound,,0,-1"
				//"ontrigger" "music_nuclear_1,volume,0.1,0,-1"
				//"ontrigger" "music_nuclear_2,volume,0.1,0,-1"
				"ontrigger" "music_poison_1,stopsound,,0,-1"
				"ontrigger" "music_poison_2,stopsound,,0,-1"
				"ontrigger" "music_poison_3,stopsound,,0,-1"
				//"ontrigger" "music_poison_1,volume,0.1,0,-1"
				//"ontrigger" "music_poison_2,volume,0.1,0,-1"
				//"ontrigger" "music_poison_3,volume,0.1,0,-1"
				"ontrigger" "music_bomb_1,stopsound,,0,-1"
				"ontrigger" "music_bomb_2,stopsound,,0,-1"
				//"ontrigger" "music_bomb_1,volume,0.1,0,-1"
				//"ontrigger" "music_bomb_2,volume,0.1,0,-1"
				"ontrigger" "music_challenge_1,stopsound,,0,-1"
				"ontrigger" "music_challenge_2,stopsound,,0,-1"
				//"ontrigger" "music_challenge_1,volume,0.1,0,-1"
				//"ontrigger" "music_challenge_2,volume,0.1,0,-1"
				"ontrigger" "music_viro_1,stopsound,,0,-1"
				"ontrigger" "music_viro_2,stopsound,,0,-1"
				//"ontrigger" "music_viro_1,volume,0.1,0,-1"
				//"ontrigger" "music_viro_2,volume,0.1,0,-1"
				"ontrigger" "music_robot_1,stopsound,,0,-1"
				"ontrigger" "music_robot_2,stopsound,,0,-1"
				//"ontrigger" "music_robot_1,volume,0.1,0,-1"
				//"ontrigger" "music_robot_2,volume,0.1,0,-1"
				"ontrigger" "music_money_1,stopsound,,0,-1"
				"ontrigger" "music_money_2,stopsound,,0,-1"
				//"ontrigger" "music_money_1,volume,0.1,0,-1"
				//"ontrigger" "music_money_2,volume,0.1,0,-1"
				"ontrigger" "music_nuke_1,stopsound,,0,-1"
				"ontrigger" "music_nuke_2,stopsound,,0,-1"
				"ontrigger" "music_lastcp,stopsound,,0,-1"
				//"ontrigger" "music_lastcp,volume,0.1,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "music_stop_relay_all"
				"ontrigger" "music_wait,stopsound,,0,-1"
				"ontrigger" "beat_mvm,stopsound,,0,-1"
				"ontrigger" "beat_saw,stopsound,,0,-1"
				"ontrigger" "beat_helicopter,stopsound,,0,-1"
				"ontrigger" "beat_sewers_1,stopsound,,0,-1"
				"ontrigger" "beat_sewers_2,stopsound,,0,-1"

				"ontrigger" "music_finale_1,stopsound,,0,-1"
				"ontrigger" "music_finale_2,stopsound,,0,-1"
				//"ontrigger" "music_finale_1,volume,0.1,0,-1"
				//"ontrigger" "music_finale_2,volume,0.1,0,-1"
				//"ontrigger" "music_lastman_1,stopsound,,0,-1"
				//"ontrigger" "music_lastman_2,stopsound,,0,-1"
				"ontrigger" "music_uncommon_1,stopsound,,0,-1"
				"ontrigger" "music_uncommon_2,stopsound,,0,-1"
				//"ontrigger" "music_uncommon_1,volume,0.1,0,-1"
				//"ontrigger" "music_uncommon_2,volume,0.1,0,-1"
				"ontrigger" "music_cades_1,stopsound,,0,-1"
				"ontrigger" "music_cades_2,stopsound,,0,-1"
				//"ontrigger" "music_cades_1,volume,0.1,0,-1"
				//"ontrigger" "music_cades_2,volume,0.1,0,-1"
				"ontrigger" "music_skeleton_1,stopsound,,0,-1"
				"ontrigger" "music_skeleton_2,stopsound,,0,-1"
				"ontrigger" "music_skeleton_3,stopsound,,0,-1"
				//"ontrigger" "music_skeleton_1,volume,0.1,0,-1"
				//"ontrigger" "music_skeleton_2,volume,0.1,0,-1"
				//"ontrigger" "music_skeleton_3,volume,0.1,0,-1"
				"ontrigger" "music_horseman_1,stopsound,,0,-1"
				"ontrigger" "music_horseman_2,stopsound,,0,-1"
				//"ontrigger" "music_horseman_1,volume,0.1,0,-1"
				//"ontrigger" "music_horseman_2,volume,0.1,0,-1"
				"ontrigger" "music_burnings_1,stopsound,,0,-1"
				"ontrigger" "music_burnings_2,stopsound,,0,-1"
				//"ontrigger" "music_burnings_1,volume,0.1,0,-1"
				//"ontrigger" "music_burnings_2,volume,0.1,0,-1"
				"ontrigger" "music_nuclear_1,stopsound,,0,-1"
				"ontrigger" "music_nuclear_2,stopsound,,0,-1"
				//"ontrigger" "music_nuclear_1,volume,0.1,0,-1"
				//"ontrigger" "music_nuclear_2,volume,0.1,0,-1"
				"ontrigger" "music_poison_1,stopsound,,0,-1"
				"ontrigger" "music_poison_2,stopsound,,0,-1"
				"ontrigger" "music_poison_3,stopsound,,0,-1"
				//"ontrigger" "music_poison_1,volume,0.1,0,-1"
				//"ontrigger" "music_poison_2,volume,0.1,0,-1"
				//"ontrigger" "music_poison_3,volume,0.1,0,-1"
				"ontrigger" "music_bomb_1,stopsound,,0,-1"
				"ontrigger" "music_bomb_2,stopsound,,0,-1"
				//"ontrigger" "music_bomb_1,volume,0.1,0,-1"
				//"ontrigger" "music_bomb_2,volume,0.1,0,-1"
				"ontrigger" "music_challenge_1,stopsound,,0,-1"
				"ontrigger" "music_challenge_2,stopsound,,0,-1"
				//"ontrigger" "music_challenge_1,volume,0.1,0,-1"
				//"ontrigger" "music_challenge_2,volume,0.1,0,-1"
				"ontrigger" "music_viro_1,stopsound,,0,-1"
				"ontrigger" "music_viro_2,stopsound,,0,-1"
				//"ontrigger" "music_viro_1,volume,0.1,0,-1"
				//"ontrigger" "music_viro_2,volume,0.1,0,-1"
				"ontrigger" "music_robot_1,stopsound,,0,-1"
				"ontrigger" "music_robot_2,stopsound,,0,-1"
				//"ontrigger" "music_robot_1,volume,0.1,0,-1"
				//"ontrigger" "music_robot_2,volume,0.1,0,-1"
				"ontrigger" "music_money_1,stopsound,,0,-1"
				"ontrigger" "music_money_2,stopsound,,0,-1"
				//"ontrigger" "music_money_1,volume,0.1,0,-1"
				//"ontrigger" "music_money_2,volume,0.1,0,-1"
				"ontrigger" "music_nuke_1,stopsound,,0,-1"
				"ontrigger" "music_nuke_2,stopsound,,0,-1"
				"ontrigger" "music_lastcp,stopsound,,0,-1"
				//"ontrigger" "music_lastcp,volume,0.1,0,-1"
				"spawnflags" "2"
			}

		}

		p_engineer_puppet
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "the_engineer"
				"defaultanim" "selectionmenu_idle"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"setbodygroup" "1"
				"skin" "0"
				"solid" "0"
				"spawnflags" "0"
				"origin" "945 1616 192"
				"angles" "0 -110 0"
				"model" "models/player/engineer.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gear"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				//"rendercolor" "197 175 145"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/workshop/player/items/engineer/dec22_underminers_style3/dec22_underminers_style3.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gear"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/player/items/engineer/mining_hat.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gear"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/workshop/player/items/engineer/sum22_lawnmaker_style2/sum22_lawnmaker_style2.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gear"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/workshop/player/items/engineer/hwn2015_western_beard/hwn2015_western_beard.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gear"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/player/items/engineer/spurs.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gear"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/workshop/player/items/engineer/spr18_cold_case/spr18_cold_case.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "the_engineer_gun"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "the_engineer"
				"lightingorigin" "the_engineer"
				"model" "models/workshop/weapons/c_models/c_winger_distol/c_winger_distol.mdl"
			}
		}

		p_skeleton_props
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "skeleton_peeker_1"
				"defaultanim" "taunt_cyoa_pda_idle"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "1"
				"setbodygroup" "0"
				"skin" "1"
				"solid" "0"
				"spawnflags" "0"
				"origin" "620 -45 313"
				"angles" "0 125 0"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
			prop_dynamic
			{
				"targetname" "skeleton_peeker_2"
				"defaultanim" "taunt_cyoa_pda_idle"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "1"
				"setbodygroup" "0"
				"skin" "1"
				"solid" "0"
				"spawnflags" "0"
				"origin" "652 -82 293"
				"angles" "0 115 0"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
			prop_dynamic
			{
				"targetname" "skeleton_peeker_3"
				"defaultanim" "taunt_cyoa_pda_idle"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "1"
				"setbodygroup" "0"
				"skin" "1"
				"solid" "0"
				"spawnflags" "0"
				"origin" "712 -79 273"
				"angles" "0 115 0"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
			prop_dynamic
			{
				"targetname" "skeleton_peeker_4"
				"defaultanim" "taunt_cyoa_pda_idle"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "1"
				"setbodygroup" "0"
				"skin" "1"
				"solid" "0"
				"spawnflags" "0"
				"origin" "681 -100 263"
				"angles" "0 140 15"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_2"
				"lightingorigin" "skeleton_peeker_2"
				"model" "models/weapons/c_models/c_hmg/c_hmg.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_2"
				"lightingorigin" "skeleton_peeker_2"
				"model" "models/workshop/player/items/all_class/spr18_head_hedge/spr18_head_hedge_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_2"
				"lightingorigin" "skeleton_peeker_2"
				"model" "models/workshop/player/items/soldier/fall17_attack_packs/fall17_attack_packs.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_4"
				"lightingorigin" "skeleton_peeker_4"
				"model" "models/workshop/player/items/all_class/spr18_head_hedge/spr18_head_hedge_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_4"
				"lightingorigin" "skeleton_peeker_4"
				"model" "models/workshop/player/items/soldier/fall17_attack_packs/fall17_attack_packs.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_3"
				"lightingorigin" "skeleton_peeker_3"
				"model" "models/workshop/player/items/all_class/sbox2014_law/sbox2014_law_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_3"
				"lightingorigin" "skeleton_peeker_3"
				"model" "models/workshop/player/items/soldier/mantreads/mantreads.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_3"
				"lightingorigin" "skeleton_peeker_3"
				"model" "models/workshop/player/items/engineer/dec2014_engineer_detectiveradio/dec2014_engineer_detectiveradio.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_3"
				"lightingorigin" "skeleton_peeker_3"
				"model" "models/workshop/player/items/all_class/jul13_macho_mann_glasses/jul13_macho_mann_glasses_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_1"
				"lightingorigin" "skeleton_peeker_1"
				"model" "models/player/items/pyro/fireman_helmet.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_1"
				"lightingorigin" "skeleton_peeker_1"
				"model" "models/workshop/player/items/scout/hwn2019_fuel_injector/hwn2019_fuel_injector.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_1"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_peeker_1"
				"lightingorigin" "skeleton_peeker_1"
				"model" "models/player/items/cyoa_pda/cyoa_pda.mdl"
			}
			prop_dynamic
			{
				"targetname" "skeleton_attacker_1"
				"defaultanim" "taunt_russian"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "1"
				"setbodygroup" "0"
				"skin" "1"
				"solid" "0"
				"spawnflags" "0"
				"origin" "520 220 228"
				"angles" "0 90 0"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
			prop_dynamic
			{
				"targetname" "skeleton_attacker_2"
				"defaultanim" "layer_taunt_i_see_you_primary"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"startdisabled" 1
				"modelscale" "1"
				"setbodygroup" "0"
				"skin" "1"
				"solid" "0"
				"spawnflags" "0"
				"origin" "570 220 195"
				"angles" "0 110 0"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_2"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_attacker_1"
				"lightingorigin" "skeleton_attacker_1"
				"model" "models/player/items/soldier/armored_authority.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_2"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_attacker_1"
				"lightingorigin" "skeleton_attacker_1"
				"model" "models/workshop/player/items/soldier/sum23_stealth_bomber_style1/sum23_stealth_bomber_style1.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_2"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_attacker_2"
				"lightingorigin" "skeleton_attacker_2"
				"model" "models/player/items/soldier/soldier_sargehat.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_2"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_attacker_2"
				"lightingorigin" "skeleton_attacker_2"
				"model" "models/player/items/soldier/fdu.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "skeleton_gear_2"
				"disablebonefollowers" "1"
				"disableshadows" "1"
				"solid" "0"
				"skin" "1"
				"startdisabled" 1
				"spawnflags" "256"
				"initialowner" "skeleton_attacker_2"
				"lightingorigin" "skeleton_attacker_2"
				"model" "models/weapons/c_models/c_smg/c_smg.mdl"
			}
			logic_relay
			{
				"targetname" "skeleton_cackle_on"
				"ontrigger" "skeleton_peeker_1,$playsound,Skeleton.Laugh.Loud,0,-1"
				"ontrigger" "skeleton_peeker_1,$playsound,Skeleton.Laugh.Loud,0.3,-1"
				"ontrigger" "skeleton_peeker_1,$playsound,Skeleton.Laugh.Loud,0.6,-1"
				"ontrigger" "skeleton_peeker_1,$playsound,Skeleton.Laugh.Loud,0.9,-1"
				"ontrigger" "skeleton_cackle_on,trigger,,3,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "skeleton_cackle_off"
				"ontrigger" "skeleton_cackle_on,cancelpending,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "skeleton_crew_1_on"
				"ontrigger" "skeleton_peeker_1,enable,,0,-1"
				"ontrigger" "skeleton_peeker_2,enable,,0,-1"
				"ontrigger" "skeleton_peeker_3,enable,,0,-1"
				"ontrigger" "skeleton_peeker_4,enable,,0,-1"
				"ontrigger" "skeleton_peeker_1runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_peeker_2runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_peeker_3runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_peeker_4runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_gear_1,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "skeleton_crew_1_off"
				"ontrigger" "skeleton_peeker_1,disable,,0,-1"
				"ontrigger" "skeleton_peeker_2,disable,,0,-1"
				"ontrigger" "skeleton_peeker_3,disable,,0,-1"
				"ontrigger" "skeleton_peeker_4,disable,,0,-1"
				"ontrigger" "skeleton_peeker_1runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_peeker_2runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_peeker_3runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_peeker_4runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_gear_1,disable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "skeleton_crew_2_on"
				"ontrigger" "skeleton_attacker_1,enable,,0,-1"
				"ontrigger" "skeleton_attacker_2,enable,,0,-1"
				"ontrigger" "skeleton_attacker_1runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_attacker_2runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_gear_2,enable,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "skeleton_crew_2_off"
				"ontrigger" "skeleton_attacker_1,disable,,0,-1"
				"ontrigger" "skeleton_attacker_2,disable,,0,-1"
				"ontrigger" "skeleton_attacker_1runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_attacker_2runscriptcodeDispatchParticleEffect(`ghost_smoke`,self.GetOrigin(),Vector(0,0,0))0-1"
				"ontrigger" "skeleton_gear_2,disable,,0,-1"
				"spawnflags" "2"
			}
		}

		p_blockers //fixing exploits
		{
			func_brush //stops bots getting stuck in the wood sticking out near helicopter
			{
				"origin" "992 3072 824"
				"mins" "-32 -64 -456"
				"maxs" "32 64 456"
				"rendermode" "10"
			}
			func_brush //monoculus windows
			{
			   "origin" "128 1596 368"
				"mins" "-192 -4 -144"
				"maxs" "192 4 144"
				"rendermode" "10"
			}
			trigger_hurt //money collector
			{
				"origin" "352 1728 184"
				"mins" "-32 -32 -40"
				"maxs" "32 32 40"
				"damage" 0
			}
			trigger_hurt //money collector
			{
				"origin" "-644 1216 -24"
				"mins" "-52 -64 -40"
				"maxs" "52 64 40"
				"damage" 0
			}
			trigger_hurt //money collector
			{
				"origin" "-192 1000 -24"
				"mins" "-64 -32 -40"
				"maxs" "64 32 40"
				"damage" 0
			}
			trigger_hurt //money collector
			{
				"origin" "-200 1248 -24"
				"mins" "-32 -32 -40"
				"maxs" "32 32 40"
				"damage" 0
			}
			trigger_hurt //money collector
			{
				"origin" "464 856 -24"
				"mins" "-80 -56 -40"
				"maxs" "80 56 40"
				"damage" 0
			}
			trigger_hurt //money collector
			{
				"origin" "208 2280 120"
				"mins" "-176 -88 -88"
				"maxs" "176 88 88"
				"damage" 0
			}
			func_nobuild //marble steps
			{
				"origin" "0 -96 -44"
				"mins" "-448 -64 -44"
				"maxs" "448 64 44"
				"AllowTeleporters" "0"
				"AllowSentry" "0"
				"AllowDispenser" "0"
			}
			func_nobuild //marble steps
			{
				"origin" "448 96 -44"
				"mins" "-64 -192 -44"
				"maxs" "64 192 44"
				"AllowTeleporters" "0"
				"AllowSentry" "0"
				"AllowDispenser" "0"
			}
			func_forcefield //shopkeeper barrier
			{
				"origin" "-644 428 212"
				"mins" "-53 -6 -20"
				"maxs" "52 4 20"
				"teamnum" "5"
			}
			func_forcefield //spawnroom doorway
			{
				"origin" "700 1440 496"
				"mins" "-8 -120 -144"
				"maxs" "8 120 144"
				"teamnum" "5"
			}
			func_forcefield //candelebra corner
			{
				"origin" "669 1264 416"
				"mins" "-27 -16 -224"
				"maxs" "27 16 224"
				"teamnum" "5"
			}
			func_brush //stops friendly bots from aggroing to outside
			{
				"origin" "0 260 368"
				"mins" "-320 -4 -144"
				"maxs" "320 4 144"
				"rendermode" "10"
			}
			func_brush //door ledges
			{
				"origin" "-544 1596 536"
				"mins" "-112 -8 -104"
				"maxs" "112 8 104"
				"rendermode" "10"
			}
			func_brush //door ledges
			{
				"origin" "-380 1440 520"
				"mins" "-8 -112 -120"
				"maxs" "8 112 120"
				"rendermode" "10"
			}
			func_brush //door ledges
			{
				"origin" "-544 1284 536"
				"mins" "-112 -8 -104"
				"maxs" "112 8 104"
				"rendermode" "10"
			}
			func_brush //door ledges
			{
				"origin" "544 1284 536"
				"mins" "-112 -8 -104"
				"maxs" "112 8 104"
				"rendermode" "10"
			}
			func_brush //door ledges
			{
				"origin" "380 1440 520"
				"mins" "-8 -112 -120"
				"maxs" "8 112 120"
				"rendermode" "10"
			}
			func_brush //door ledges
			{
				"origin" "544 1596 536"
				"mins" "-112 -8 -104"
				"maxs" "112 8 104"
				"rendermode" "10"
			}
			func_forcefield //marble pillars
			{
				"origin" "-384 -32 296"
				"mins" "-32 -32 -344"
				"maxs" "32 32 344"
				"teamnum" "2"
			}
			func_forcefield //marble pillars
			{
				"origin" "-128 -32 296"
				"mins" "-32 -32 -344"
				"maxs" "32 32 344"
				"teamnum" "2"
			}
			func_forcefield //marble pillars
			{
				"origin" "128 -32 296"
				"mins" "-32 -32 -344"
				"maxs" "32 32 344"
				"teamnum" "2"
			}
			func_forcefield //marble pillars
			{
				"origin" "384 -32 296"
				"mins" "-32 -32 -344"
				"maxs" "32 32 344"
				"teamnum" "2"
			}
			trigger_push //top of outside shutters
			{
				"origin" "232 249 521"
				"mins" "-456 -7 -7.5"
				"maxs" "456 7 7.5"
				"pushdir" "0 -90 0"
				"spawnflags" "1"
				"speed" "400"
			}
			trigger_push //shutter metal hinges part 1
			{
				"origin" "125 244 345"
				"mins" "-349 -12.5 -168.5"
				"maxs" "349 12.5 168.5"
				"pushdir" "0 -90 0"
				"spawnflags" "1"
				"speed" "400"
			}
			trigger_push //shutter metal hinges part 2
			{
			   "origin" "630 244 345"
				"mins" "-22 -12 -168"
				"maxs" "22 12 168"
				"pushdir" "0 -90 0"
				"spawnflags" "1"
				"speed" "400"
			}
			trigger_push //top broken wall exploit next to yard
			{
				"origin" "388 2182 587"
				"mins" "-4 -5.5 -85"
				"maxs" "4 5.5 85"
				"pushdir" "0 90 0"
				"spawnflags" "1"
				"speed" "400"
			}
			func_brush //wall next to yard shutters
			{
				"origin" "-408 1602 430"
				"mins" "-24 -2 -238"
				"maxs" "24 2 238"
				"rendermode" "10"
			}
			func_forcefield //prevent wave 2 access to wave 3
			{
				"origin" "-992 997 576"
				"mins" "-288 -62 -704"
				"maxs" "288 62 704"
				"teamnum" "3"
				"targetname" "early_courtyard"
			}
			trigger_push //rock arch
			{
				"origin" "-381 2176 180"
				"mins" "-3 -152 -44"
				"maxs" "3 152 44"
				"pushdir" "0 0 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //yard walls
			{
				"origin" "-388 2112 376"
				"mins" "-4 -68 -56"
				"maxs" "4 68 56"
				"pushdir" "0 0 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //yard walls
			{
				"origin" "-388 1761 365"
				"mins" "-4 -163.5 -57.5"
				"maxs" "4 163.5 57.5"
				"pushdir" "0 180 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //yard walls
			{
				"origin" "-388 2338 440"
				"mins" "-4 -38 -24"
				"maxs" "4 38 24"
				"pushdir" "0 0 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //yard walls
			{
				"origin" "-84 2372 400"
				"mins" "-308 -4 -64"
				"maxs" "308 4 64"
				"pushdir" "0 -90 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //yard walls
			{
				"origin" "130 2684 384"
				"mins" "-66 -4 -48"
				"maxs" "66 4 48"
				"pushdir" "0 270 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //yard walls planks
			{
				"origin" "-394 1728 352"
				"mins" "-2 -83 -16"
				"maxs" "2 83 16"
				"pushdir" "0 135 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //front manor
			{
				"origin" "-1096 -256 104"
				"mins" "-24 -80 -72"
				"maxs" "24 80 72"
				"pushdir" "0 0 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //front manor
			{
				"origin" "264 -824 208"
				"mins" "-24 -8 -48"
				"maxs" "24 8 48"
				"pushdir" "0 90 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //front manor
			{
				"origin" "-1088 -752 62"
				"mins" "-32 -48 -146"
				"maxs" "32 48 146"
				"pushdir" "0 45 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //back spawnrooms
			{
				"origin" "-160 2688 488"
				"mins" "-224 -8 -120"
				"maxs" "224 8 120"
				"pushdir" "0 270 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //back spawnrooms
			{
				"origin" "1080 2860 480"
				"mins" "-64 -140 -96"
				"maxs" "64 140 96"
				"pushdir" "0 225 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //back spawnrooms
			{
				"origin" "1046 416 48"
				"mins" "-18 -48 -16"
				"maxs" "18 48 16"
				"pushdir" "0 180 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}
			trigger_push //back spawnrooms
			{
				"origin" "-1272 2008 408"
				"mins" "-72 -120 -8"
				"maxs" "72 120 8"
				"pushdir" "0 315 0"
				"spawnflags" "1"
				"speed" "400"
				"filtername" "filter_red"
			}

		}

		p_barricades
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "shit_cade"
				"model" "models/props_medieval/bar_table.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "9 320 -65"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "shit_cade"
				"model" "models/props_medieval/bar_table.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "19 310 -25"
				"angles" "0 0 90"
			}
			prop_dynamic
			{
				"targetname" "shit_cade"
				"model" "models/props_manor/chair_01.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "10 300 65"
				"angles" "140 0 0"
			}
			prop_dynamic
			{
				"targetname" "shit_cade"
				"model" "models/props_manor/chair_01.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "-30 320 64"
				"angles" "170 180 0"
			}
			prop_dynamic
			{
				"targetname" "shit_cade"
				"model" "models/props_manor/cardboard_box_set_01.mdl"
				"disableshadows" "1"
				"modelscale" "1"
				"solid" "6"
				"origin" "9 320 -25"
				"angles" "0 -15 0"
			}
			prop_dynamic
			{
				"targetname" "shit_cade"
				"model" "models/props_farm/box_cluster03.mdl"
				"disableshadows" "1"
				"modelscale" "1"
				"solid" "6"
				"origin" "44 291 -25"
				"angles" "0 -15 0"
			}
			env_physexplosion
			{
				"targetname" "sexplosion"
				"origin" "8 337 -56"
				"magnitude" "100"
				"spawnflags" 1
			}
			env_physexplosion
			{
				"targetname" "sexplosion"
				"origin" "8 337 -56"
				"magnitude" "100"
				"spawnflags" 1
			}
			env_physexplosion
			{
				"targetname" "sexplosion"
				"origin" "8 337 -56"
				"magnitude" "100"
				"spawnflags" 1
			}
			env_physexplosion
			{
				"targetname" "sexplosion"
				"origin" "8 337 -56"
				"magnitude" "100"
				"spawnflags" 1
			}
			env_physexplosion
			{
				"targetname" "sexplosion"
				"origin" "8 337 -56"
				"magnitude" "100"
				"spawnflags" 1
			}
			info_target
			{
				"targetname" "shit_cade_target"
				"origin" "66 235 42"
			}
			prop_dynamic
			{
				"targetname" "shit_crate"
				"model" "models/props_2fort/miningcrate001.mdl"
				"minhealthdmg" 9999 //break models are problematic
				"disableshadows" "1"
				"solid" "6"
				"origin" "45 380 -65"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "shit_crate"
				"model" "models/props_2fort/miningcrate001.mdl"
				"minhealthdmg" 9999 //break models are problematic
				"disableshadows" "1"
				"solid" "6"
				"origin" "-30 380 -65"
				"angles" "0 110 0"
			}
////////////////////////////////////////////////////////////////////////////
			filter_damage_type
			{
				"targetname" "filter_dmg_melee"
				"negated" 0
				"damagetype" "134217728"
			}
			prop_dynamic
			{
				"targetname" "main_cade_1"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "0 250 -85"
				"angles" "0 180 0"
			}
			prop_dynamic
			{
				"targetname" "main_cade_2"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "0 260 -75"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "main_cade_hitme_1"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "0 250 88"
				"angles" "90 -90 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				//"filtername" "filter_dmg_melee" //doesn't work lolol
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1500, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "main_cade_hitme_2"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "0 250 113"
				"angles" "90 -90 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				//"filtername" "filter_dmg_melee" //doesn't work lolol
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1500, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Hurt,0,-1"
			}
			func_brush
			{
				"targetname" "main_cade_brush"
				"origin" "0 260 43"
				"mins" "-130 -4 -71"
				"maxs" "130 4 71"
				"rendermode" "10"
			}
////////////////////////////////////////////////////////////////////////////
			info_target
			{
				"targetname" "lvl2_target_1"
				"origin" "-707 813 45"
			}
			info_target
			{
				"targetname" "lvl2_target_2"
				"origin" "707 509 45"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_1A"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "-700 805 -85"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_1B"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "-700 805 -95"
				"angles" "0 -90 0"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_hitme_1"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "-700 805 88"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_hitme_1"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "-700 805 113"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			func_brush
			{
				"targetname" "lvl2_cade_1_brush"
				"origin" "700 514 52"
				"mins" "-4 -174 -76"
				"maxs" "4 174 76"
				"rendermode" "10"
			}
			func_brush
			{
				"targetname" "lvl2_cade_2_brush"
				"origin" "-700 802 50"
				"mins" "-4 -142 -78"
				"maxs" "4 142 78"
				"rendermode" "10"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_2A"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "700 509 -85"
				"angles" "0 90 0"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_2B"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "703 509 -75"
				"angles" "0 -90 0"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_hitme_2"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "704 509 88"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl2_cade_hitme_2"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "704 509 113"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
////////////////////////////////////////////////////////////////////////////
			info_target
			{
				"targetname" "lvl3_target_1"
				"origin" "-719 1150 296"
			}
			info_target
			{
				"targetname" "lvl3_target_2"
				"origin" "564 1620 269"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_1A"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "-695 1135 396"
				"angles" "180 -90 0"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_1B"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "-694 1135 416"
				"angles" "180 -90 0"
			}
			func_brush
			{
				"targetname" "lvl3_cade_1_brush"
				"origin" "-700 1152 296"
				"mins" "-8 -112 -104"
				"maxs" "8 112 104"
				"rendermode" "10"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_hitme_1"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "-707 1135 396"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_hitme_1"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "-707 1135 296"
				"angles" "90 0 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_2A"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "-549 1597 389"
				"angles" "180 0 0"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_2B"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "-549 1597 409"
				"angles" "180 180 0"
			}
			func_brush
			{
				"targetname" "lvl3_cade_2_brush"
				"origin" "544 1596 288"
				"mins" "-112 -8 -96"
				"maxs" "112 8 96"
				"rendermode" "10"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_hitme_2"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "-549 1605 389"
				"angles" "90 90 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_hitme_2"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "-549 1605 309"
				"angles" "90 90 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_3A"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "549 1597 389"
				"angles" "180 180 0"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_3B"
				"model" "models/props_medieval/tank_entrance_rottenburg.mdl"
				"disableshadows" "1"
				"solid" "0"
				"defaultanim" "idle"
				"origin" "549 1597 409"
				"angles" "180 0 0"
			}
			func_brush
			{
				"targetname" "lvl3_cade_3_brush"
				"origin" "-544 1596 288"
				"mins" "-112 -8 -96"
				"maxs" "112 8 96"
				"rendermode" "10"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_hitme_3"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "549 1605 389"
				"angles" "90 90 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
			prop_dynamic
			{
				"targetname" "lvl3_cade_hitme_3"
				"model" "models/props_forest/wood_platform3.mdl"
				"disableshadows" "1"
				"origin" "549 1604 309"
				"angles" "90 90 0"
				"solid" "6"
				//"rendermode" "10"
				"rendermode" "1"
				"renderamt" "0"
				"ontakedamage" "!selfrunscriptcodeif(self.IsValid())ScreenShake(self.GetOrigin(), 16, 32, 0.5, 1000, 0, true)0-1"
				"ontakedamage" "!self,$playsound,Barricade.Small.Hurt,0,-1"
			}
////////////////////////////////////////////////////////////////////////////
			prop_dynamic
			{
				"targetname" "cade_windows_back"
				"model" "models/props_coalmines/wood_fence_128.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "-224 1600 337"
				"angles" "0 0 0"
			}
			prop_dynamic
			{
				"targetname" "cade_windows_front"
				"model" "models/props_coalmines/wood_fence_128.mdl"
				"disableshadows" "1"
				"solid" "6"
				"origin" "575 255 364"
				"angles" "180 180 0"
			}
		}

		p_extra_pickups
		{
			NoFixup 1
			tf_halloween_pickup //crumpkin
			{
				"powerup_model" "models/props_halloween/pumpkin_loot.mdl"
				"pickup_sound" "AmmoPack.Touch"
				"targetname" "crit_pumpkin"
				"origin" "446 2323 191"
				"angles" "0 0 0"
				"pickup_particle" ""
				"onplayertouch" "!activator,$addcond,34,0,-1"
				"onplayertouch" "!activator,$removecond,34,3.2,-1"
				"onplayertouch" "!self,toggle,,0,-1"
				"onplayertouch" "!self,toggle,,20,-1"
			}
			item_ammopack_small
			{
				"targetname" "desk_ammo"
				"origin" "20 498 230"
				"angles" "0 0 0"
				"disableshadows" "1"
			}
			item_ammopack_small
			{
				"targetname" "desk_ammo"
				"origin" "-20 498 230"
				"angles" "0 0 0"
				"disableshadows" "1"
			}
			item_ammopack_small
			{
				"targetname" "desk_ammo"
				"origin" "0 474 230"
				"angles" "0 0 0"
				"disableshadows" "1"
			}
			item_ammopack_small
			{
				"origin" "-671 1436 192"
				"angles" "0 0 0"
			}
			item_ammopack_small
			{
				"origin" "-671 1462 192"
				"angles" "0 0 0"
			}
			item_ammopack_small
			{
				"origin" "-671 1410 192"
				"angles" "0 0 0"
			}
			item_healthkit_small //cupcake
			{
				"powerup_model" "models/items/medkit_small_bday.mdl"
				"origin" "1115 2244 192"
				"angles" "0 0 0"
			}
			item_healthkit_small //cupcake
			{
				"powerup_model" "models/items/medkit_small_bday.mdl"
				"origin" "1115 2264 192"
				"angles" "0 0 0"
			}
			item_healthkit_small //cupcake
			{
				"powerup_model" "models/items/medkit_small_bday.mdl"
				"origin" "1115 2224 192"
				"angles" "0 0 0"
			}
			item_ammopack_small //rocket
			{
				"powerup_model" "models/weapons/w_models/w_rocket.mdl"
				"origin" "1130 2244 212"
				"angles" "-90 0 0"
			}
			item_ammopack_small //rocket
			{
				"powerup_model" "models/weapons/w_models/w_rocket.mdl"
				"origin" "1130 2264 212"
				"angles" "-90 0 0"
			}
			item_ammopack_small //rocket
			{
				"powerup_model" "models/weapons/w_models/w_rocket.mdl"
				"origin" "1130 2224 212"
				"angles" "-90 0 0"
			}
			item_ammopack_medium //bday
			{
				"powerup_model" "models/items/ammopack_medium_bday.mdl"
				"origin" "400 1039 176"
				"angles" "0 0 0"
			}
			item_ammopack_medium
			{
				"origin" "-84 1258 80"
				"angles" "0 0 0"
			}
			item_ammopack_full
			{
				"origin" "-697 895 350"
				"angles" "90 0 0"
			}
			item_ammopack_full //bday
			{
				//"powerup_model" "models/items/ammopack_large_bday.mdl"
				"origin" "444 262 93"
				"angles" "90 90 0"
			}
			item_healthkit_small
			{
				"origin" "20 298 192"
				"angles" "0 0 0"
			}
			item_healthkit_small
			{
				"origin" "-20 298 192"
				"angles" "0 0 0"
			}
			item_healthkit_small
			{
				"origin" "0 325 192"
				"angles" "0 0 0"
			}
			item_ammopack_small //bday
			{
				"powerup_model" "models/items/ammopack_small_bday.mdl"
				"origin" "671 971 -65"
				"angles" "0 0 0"
			}
			item_ammopack_small //bday
			{
				"powerup_model" "models/items/ammopack_small_bday.mdl"
				"origin" "671 945 -65"
				"angles" "0 0 0"
			}
			item_ammopack_small //bday
			{
				"powerup_model" "models/items/ammopack_small_bday.mdl"
				"origin" "671 919 -65"
				"angles" "0 0 0"
			}
			item_healthkit_small
			{
				"origin" "671 893 -65"
				"angles" "0 0 0"
			}
			item_healthkit_small
			{
				"origin" "671 867 -65"
				"angles" "0 0 0"
			}
			item_healthkit_small
			{
				"origin" "671 841 -65"
				"angles" "0 0 0"
			}
			item_healthkit_medium
			{
				"targetname" "monster_kit"
				"origin" "-655 1225 30"
				"angles" "0 0 0"
			}
			item_healthkit_full //bday
			{
				"powerup_model" "models/items/medkit_large_bday.mdl"
				"origin" "-365 2177 0"
				"angles" "0 0 0"
			}
			tf_halloween_pickup //sandwich
			{
				"powerup_model" "models/workshop/weapons/c_models/c_buffalo_steak/plate_buffalo_steak.mdl"
				"pickup_sound" ""
				"pickup_particle" ""
				"origin" "748 834 -57"
				"modelscale" 1.5
				"angles" "0 0 0"
				"lightingorigin" "chandelier_light"
				"onplayertouch" "!activatorRunScriptCodeSpawnEntityFromTable(`item_healthkit_small`, { targetname = `steakmedkit`, origin = self.GetOrigin(), renderamt = 0, rendermode = 1 })0-1"
				"onplayertouch" "!activatorRunScriptCodeself.AddCondEx(Trespasser.bSoloMode ? TF_COND_CRITBOOSTED_USER_BUFF : TF_COND_OFFENSEBUFF, 12, null)0-1"
				"onplayertouch" "!activatorRunScriptCodeTrespasser.DispatchParticleEffectOn(self, null)0-1"
				"onplayertouch" "!activator,$playsound,Flesh_Bloody.ImpactHard,0,-1"
				"onplayertouch" "!activator,$addplayerattribute,mult stun resistance|0,0,-1"
				"onplayertouch" "steakmedkit,kill,,0.033,-1"
				"onplayertouch" "!activator,$removeplayerattribute,mult stun resistance,12,-1"
				"onplayertouch" "!self,toggle,,0,-1"
				"onplayertouch" "!self,toggle,,24,-1"
			}
			item_healthkit_full //bday
			{
				//"powerup_model" "models/items/medkit_large_bday.mdl"
				"origin" "554 793 93"
				"angles" "90 -90 0"
			}
			item_healthkit_full
			{
				"origin" "697 617 350"
				"angles" "90 180 0"
			}
		}
		p_control_point
		{
			NoFixup 1
			prop_dynamic
			{
				"model" "models/props_gameplay/cap_point_base.mdl"
				"targetname" "prop_capture"
				"solid" "6"
				"skin" "0"
			}
			trigger_capture_area
			{
				"area_cap_point" "cap_point"
				"area_time_to_cap" "60"
				"targetname" "cap_area"
				"team_cancap_2" "1"
				"team_cancap_3" "0"

				"mins" "-128 -128 -128"
				"maxs" "128 128 128"
				"origin" "0 0 128"
				"spawnflags" "1"

				//"OnCapTeam1" "prop_capture,Skin,1,0,-1" //fullbright is ugly
				"OnCapTeam1" "beat_sewers_1,stopsound,,0,-1"
				"OnCapTeam1" "beat_sewers_2,stopsound,,0,-1"
				"OnCapTeam1" "beat_sewers_1,stopsound,,10,-1"
				"OnCapTeam1" "beat_sewers_2,stopsound,,10,-1"
				"OnCapTeam1" "beat_sewers_1,stopsound,,20,-1"
				"OnCapTeam1" "beat_sewers_2,stopsound,,20,-1"
				"OnCapTeam1" "pop_interface,$pausewavespawn,FINALE_VIROPHAGE,0,-1"
				"OnCapTeam1" "beat_sewers_1,stopsound,,0,-1"
				"OnCapTeam1" "beat_sewers_2,stopsound,,0,-1"
				"OnCapTeam1" "helicopter_gun,disable,,0,-1"
				"OnCapTeam1" "player,setfogcontroller,fog_controller,3,-1"
				"OnCapTeam1" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)3-1"
				"OnCapTeam1" "music_stop_relay_all,trigger,,3,-1"
				"OnCapTeam1" "finale_camera,$enableall,,3,-1"
				"OnCapTeam1" "tf_gamerules,$SetProp$m_bShowMatchSummary,1,3,-1"
				"OnCapTeam1" "@f@filter_red_alive@player,$RemoveCond,7,3,-1"
				"OnCapTeam1" "@f@filter_red_alive@player,$RemoveCond,25,3,-1"
				"OnCapTeam1" "@f@filter_red_alive@player,RunScriptCode,self.SetForceLocalDraw(true); local hWeapon = self.GetActiveWeapon(); if(hWeapon) hWeapon.EnableDraw(),3,-1"
				"OnCapTeam1" "player,$playsoundtoself,Music.Intro.NoPitch,3,-1"
				"OnCapTeam1" "player,$playsoundtoself,Music.Intro.NoPitch,3,-1"
				"OnCapTeam1" "player,$displaytextcenter,You have survived! Awaiting departure...,3,-1"
				"OnCapTeam1" "player,$displaytextcenter,You have survived! Awaiting departure...,6,-1"
				"OnCapTeam1" "player,$displaytextcenter,You have survived! Awaiting departure...,9,-1"
				"OnCapTeam1" "player,$displaytextcenter,You have survived! Awaiting departure...,12,-1"
				"OnCapTeam1" "player,$displaytextcenter,You have survived! Awaiting departure...,15,-1"
				"OnCapTeam1" "player,$displaytextcenter,You have survived! Awaiting departure...,18,-1"
				"OnCapTeam1" "@f@filter_red_alive@player,$addplayerattribute,always crit|1,3,-1"
				"OnCapTeam1" "@f@filter_red_alive@player,$addplayerattribute,mult stun resistance|0,3,-1"
				"OnCapTeam1" "@f@filter_blu_alive@player,$addplayerattribute,no_attack|1,3,-1"
				"OnCapTeam1" "@f@filter_red_alive@playerRunScriptCodeTrespasser.TeleportWithinCircle(self, Vector(673, -688, -25), 192)3-1"
				"OnCapTeam1" "@f@filter_blu_alive@playerRunScriptCodeTrespasser.TeleportWithinCircle(self, Vector(159, -317, 13), 192)3-1"

				"OnCapTeam1" "pop_interface,$FinishWave,,30.1,-1"
				"OnCapTeam1" "tf_gamerules,playvo,vo/announcer_victory.mp3,30,-1"
				"OnCapTeam1" "tf_gamerules,playvo,vo/announcer_victory.mp3,30,-1"
			}
			team_control_point
			{
				"point_default_owner" "0"
				"point_group" "0"
				"point_index" "2"
				"point_printname" "your escape!"
				"point_start_locked" "0"
				"point_warn_on_cap" "0"
				"point_warn_sound" "misc/null.wav"
				"random_owner_on_restart" "0"
				"spawnflags" "4"
				"targetname" "cap_point"
				"team_bodygroup_0" "3"
				"team_bodygroup_2" "1"
				"team_bodygroup_3" "1"
				"team_icon_0" "sprites/obj_icons/icon_obj_neutral"
				"team_icon_2" "sprites/obj_icons/icon_obj_red"
				"team_icon_3" "sprites/obj_icons/icon_obj_blu"
				"team_model_0" "models/effects/cappoint_hologram.mdl"
				"team_model_2" "models/effects/cappoint_hologram.mdl"
				"team_model_3" "models/effects/cappoint_hologram.mdl"
				"team_previouspoint_2_0" "cap_point"
				"team_timedpoints_2" "0"
				"team_timedpoints_3" "0"
				"origin" "0 0 4"
				"angles" "0 0 0"
			}
			team_control_point_master
			{
				"cpm_restrict_team_cap_win" "1"
				"custom_position_x" "0.35"
				"caplayout" "2,0 1"
				"custom_position_y" "0.91"
				"partial_cap_points_rate" "0"
				"play_all_rounds" "0"
				"score_style" "0"
				"switch_teams" "0"
				"targetname" "cap_master"
				"team_base_icon_2" "sprites/obj_icons/icon_base_red"
				"team_base_icon_3" "sprites/obj_icons/icon_base_blu"
			}
			OnSpawnOutput
			{
				Target cap_area
				Action SetControlPoint
				Param cap_point
			}
			OnSpawnOutput
			{
				Target cap_master
				Action RoundSpawn
			}
		}
		p_point_maker
		{
			NoFixup 1
			env_entity_maker
			{
				"targetname"     "point_maker"
				"entitytemplate" "p_control_point"
				"origin" "626 -942 -85"
			}
		}
		p_sentry_maker
		{
			NoFixup 1
			OnSpawnOutput
			{
				Target player
				Action $PlaySoundToSelf
				Param "mvm/mvm_cpoint_klaxon.wav"
				Delay -1
			}
			OnSpawnOutput
			{
				Target sentry_indicator
				Action SetAnimation
				Param "start"
				Delay -1
			}
			prop_dynamic
			{
				"targetname" "sentry_indicator"
				"origin" "0 -33 -64"
				"model" "models/props_mvm/indicator/indicator_circle_long.mdl"
				"modelscale" "2.5"
				"skin" "1"
				"disableshadows" "1"
				"OnAnimationBegun" "!self,SetAnimation,end,7,-1"
				"OnAnimationBegun" "!self,Kill,,8,-1"
			}
			prop_dynamic
			{
				"targetname" "sentry_indicator"
				"origin" "-272 560 -64"
				"model" "models/props_mvm/indicator/indicator_circle_long.mdl"
				"modelscale" "2.5"
				"skin" "1"
				"disableshadows" "1"
				"OnAnimationBegun" "!self,SetAnimation,end,7,-1"
				"OnAnimationBegun" "!self,Kill,,8,-1"
			}
			prop_dynamic
			{
				"targetname" "sentry_indicator"
				"origin" "272 560 -64"
				"model" "models/props_mvm/indicator/indicator_circle_long.mdl"
				"modelscale" "2.5"
				"skin" "1"
				"disableshadows" "1"
				"OnAnimationBegun" "!self,SetAnimation,end,7,-1"
				"OnAnimationBegun" "!self,Kill,,8,-1"
			}
			prop_dynamic
			{
				"targetname" "sentry_indicator_build"
				"origin" "0 -33 -63"
				"angles" "0 90 0"
				"model" "models/buildables/sentry1_blueprint.mdl"
				"disableshadows" "1"

				"rendermode" "1"
				"renderfx" "7"
				"renderamt" "0"
			}
			prop_dynamic
			{
				"targetname" "sentry_indicator_build"
				"origin" "-272 560 -63"
				"angles" "0 90 0"
				"model" "models/buildables/sentry1_blueprint.mdl"
				"disableshadows" "1"

				"rendermode" "1"
				"renderfx" "7"
				"renderamt" "0"
			}
			prop_dynamic
			{
				"targetname" "sentry_indicator_build"
				"origin" "272 560 -63"
				"angles" "0 90 0"
				"model" "models/buildables/sentry1_blueprint.mdl"
				"disableshadows" "1"

				"rendermode" "1"
				"renderfx" "7"
				"renderamt" "0"
			}
			OnSpawnOutput
			{
				Target "sentry_indicator"
				Action SetModelScale
				Param "1.25 7"
			}
			OnSpawnOutput
			{
				Target "sentry_indicator_build"
				Action Kill
				Delay 7
			}
			OnSpawnOutput
			{
				Target p_blue_sentries
				Action ForceSpawn
				Delay 7
			}
		}
		p_blue_sentries
		{
			NoFixup 1
			OnSpawnOutput
			{
				Target "corrupted_sentry"
				Action "sethealth"
				Param 250
			}
			OnSpawnOutput
			{
				Target "corrupted_sentry"
				Action "runscriptcode"
				Param "DispatchParticleEffect(`teleportedin_blue`,self.GetOrigin(),Vector(1))"
			}
			obj_sentrygun
			{
				"targetname" "corrupted_sentry"
				"teamnum" "3"
				"setbodygroup" "1"
				"defaultupgrade" "0"
				"origin" "0 -33 -64"
				"angles" "0 90 0"
				"$fireratemult" "4"
			}
			obj_sentrygun
			{
				"targetname" "corrupted_sentry"
				"teamnum" "3"
				"setbodygroup" "1"
				"defaultupgrade" "0"
				"origin" "-272 560 -64"
				"angles" "0 90 0"
				"$fireratemult" "4"
			}
			obj_sentrygun
			{
				"targetname" "corrupted_sentry"
				"teamnum" "3"
				"setbodygroup" "1"
				"defaultupgrade" "0"
				"origin" "272 560 -64"
				"angles" "0 90 0"
				"$fireratemult" "4"
			}
		}

		p_slippery_beam
		{
			NoFixup 1
			trigger_push
			{
				"targetname" "slippery_beam"
				"origin" "400 1136 180"
				"mins" "-16 -112 -4"
				"maxs" "16 112 4"
				"pushdir" "0 0 0"
				"speed" "100"
				"spawnflags" "1"
				"filtername" "filter_red"
				"onstarttouch"  "!activator,$playsoundtoself,banana.slip,0,-1"
				"onstarttouch"  "!activator,$addcond,15,0,-1"
				//"onstarttouch"  "!activator,$addcond,126,0,-1"
				"onstarttouch"  "!activator,$removecond,15,2,-1"
				"onendtouch"  "!activator,speakresponseconcept,tlk_player_pain,0,-1"
			}
			OnSpawnOutput
			{
				Target slippery_beam
				Action RunScriptCode
				Param
				"function Think()
					{
						SetPropVector(self, `m_vecPushDir`, RotatePosition(Vector(), QAngle(0, 2, 0), GetPropVector(self, `m_vecPushDir`)))
						return -1
					}
					AddThinkToEnt(self, `Think`)
				"
			}
		}

		p_dark_fog
		{
			NoFixup 1
			logic_relay
			{
				"targetname" "virophage_on_relay"
				//"ontrigger" "deadly_stairs_on,trigger,,0,-1"
				"ontrigger" "no_guns_zone_viro,trigger,,0,-1"
				"ontrigger" "playerrunscriptcodeScreenFade(null, 0, 0, 0, 255, 3, 0, 10)0-1"
				"ontrigger" "player,$playsoundtoself,ambient/atmosphere/cave_hit5.wav,0,-1"
				"ontrigger" "player,$playsoundtoself,ambient/atmosphere/cave_hit5.wav,0,-1"
				"ontrigger" "hud_off_relay,trigger,,0,-1"
				"ontrigger" "player,setfogcontroller,virophage_fog,0,-1"
				"ontrigger" "monster_kit,disable,,5,-1"
				"ontrigger" "monster_cage,disable,,5,-1"
				"ontrigger" "monster_cage,addoutput,solid 0,5,-1"
				"ontrigger" "hanged_soldier,disable,,5,-1"
				"ontrigger" "hanged_soldier_cosmetic,disable,,5,-1"
				"ontrigger" "blutarch,disable,,5,-1"
				"ontrigger" "blutarch_coffin,disable,,5,-1"
				"ontrigger" "big_viro_1,kill,,5,-1"
				"ontrigger" "gate_door_1,close,,5,-1"
				"ontrigger" "gate_prop_1,enable,,5,-1"
				"ontrigger" "viro_platform,enable,,5,-1"
				"ontrigger" "p_viro_signs,forcespawn,,5,-1"
				"ontrigger" "gate_nav_blocker_1,enable,,0,-1"
				"ontrigger" "pop_interface,RecomputeBlockers,,0.05,-1"
				"ontrigger" "pop_interface,RecomputeBlockers,,0.1,-1"
				"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),6,-1"
				"ontrigger" "helicopter_smoke,stop,,5,-1"
				"ontrigger" "fort_off_relay,trigger,,5,-1"
				"ontrigger" "stronghold_fence_1,disable,,5,-1"
				"ontrigger" "stronghold_fence_2,disable,,5,-1"
				"ontrigger" "stronghold_lantern,disable,,5,-1"
				"ontrigger" "stronghold_light,turnoff,,5,-1"
				"ontrigger" "stronghold_crate,disable,,5,-1"
				"ontrigger" "stronghold_crate,disablecollision,,5,-1"
				"ontrigger" "player,$playsoundtoself,Viro.Scuffle,5,-1"
				"ontrigger" "player,$playsoundtoself,Viro.Scuffle,5,-1"
				"ontrigger" "player,$playsoundtoself,Viro.Scuffle,5,-1"
				"ontrigger" "player,$addplayerattribute,hud overlay|effects/stealth_overlay,5,-1"
				// "ontrigger" "player,$tauntfromitem,Taunt: The Scaredy-cat!,7.5,-1"
				"ontrigger" "playerrunscriptcodeself.TakeDamage(1,1048640,null)8-1"
				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`blacksky`),5,-1"
				"ontrigger" "bignetrunscriptcodeScreenFade(null, 0, 0, 0, 255, 3, 0, 25)10-1"
				"ontrigger" "beat_sewers_relay,trigger,,13,-1"
				"ontrigger" "@f@filter_red_alive@playerRunScriptCodeTrespasser.TeleportWithinCircle(self, Vector(-888, -436, 0), 192)9-1"
				"ontrigger" "@f@filter_red_alive@playerRunScriptCodeself.SnapEyeAngles(QAngle(0, 0, 0))9-1"
				"ontrigger" "player,$playsoundtoself,ambient/atmosphere/cave_hit4.wav,10,-1"
				"ontrigger" "player,$playsoundtoself,ambient/atmosphere/cave_hit4.wav,10,-1"
				"ontrigger" "hud_on_relay,trigger,,13,-1"
				"ontrigger" "no_guns_zone_off,trigger,,13,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,fort,16,-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`solo_airblast_on`, `trigger`)5-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "virophage_snail_relay"
				"ontrigger" "bignetrunscriptcodeScreenFade(null, 0, 0, 0, 255, 1, 0, 1)0-1"
				"ontrigger" "player,$playsoundtoself,ambient/atmosphere/cave_hit5.wav,0,-1"
				"ontrigger" "player,$playsoundtoself,ambient/atmosphere/cave_hit5.wav,0,-1"
				"ontrigger" "player,setfogcontroller,virophage_fog,0,-1"
				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`blacksky`),0,-1"
				//"ontrigger" "music_viro_relay,trigger,,5,-1"
				"ontrigger" "big_viro_3,kill,,0,-1"
				"ontrigger" "blutarch,disable,,0,-1"
				"ontrigger" "blutarch_coffin,disable,,0,-1"
				"ontrigger" "player,$addplayerattribute,hud overlay|effects/stealth_overlay,0,-1"
				"ontrigger" "halloween_fog_on,trigger,,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "virophage_off_relay"
				//"ontrigger" "deadly_stairs_off,trigger,,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,VIRO_STALKERS,0,-1"
				"ontrigger" "pop_interface,$KillWavespawn,VIRO_STALKERS,0,-1"
				"ontrigger" "viro_platform,disable,,0,-1"
				"ontrigger" "viro_sign,kill,,0,-1"
				"ontrigger" "gate_nav_blocker_1,disable,,0,-1"
				"ontrigger" "pop_interface,RecomputeBlockers,,0.05,-1"
				"ontrigger" "pop_interface,RecomputeBlockers,,0.1,-1"
				"ontrigger" "gate_door_1,open,,0,-1"
				"ontrigger" "gate_prop_1,disable,,0,-1"
				"ontrigger" "music_stop_relay,trigger,0,-1"
				"ontrigger" "fake_viro_base,kill,,0,-1"
				"ontrigger" "fake_viro_head,kill,,0,-1"
				"ontrigger" "beat_sewers_1,stopsound,,0,-1"
				"ontrigger" "beat_sewers_2,stopsound,,0,-1"
				"ontrigger" "monster_kit,enable,,0,-1"
				"ontrigger" "monster_cage,enable,,0,-1"
				"ontrigger" "monster_cage,addoutput,solid 6,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenFade(null, 85, 0, 0, 255, 10, 0, 1)0-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 5, -1, 0, true)0-1"
				"ontrigger" "player,$removeplayerattribute,hud overlay,0,-1"
				"ontrigger" "player,setfogcontroller,fog_controller,0,-1"
				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`sky_harvest_night_01`),0,-1"
				"ontrigger" "bignet,runscriptcode,if(!Trespasser.bSoloMode) SetSkyboxTexture(`sky_night_01`),0.01,-1"
				"ontrigger" "stronghold_fence_1,enable,,0,-1"
				"ontrigger" "stronghold_fence_2,enable,,0,-1"
				"ontrigger" "stronghold_lantern,enable,,0,-1"
				"ontrigger" "stronghold_light,turnon,,0,-1"
				"ontrigger" "stronghold_crate,enable,,0,-1"
				"ontrigger" "stronghold_crate,enablecollision,,0,-1"
				"ontrigger" "player,RunScriptCode,if(self.IsAlive()) Trespasser.UnstuckEntity(self),1,-1"
				"ontrigger" "hud_off_relay,trigger,,0,-1"
				"ontrigger" "player,bleedplayer,2.5,0,-1"
				"ontrigger" "fort_on_relay,trigger,,0,-1"
				"ontrigger" "player,$playsoundtoself,vehicles/airboat/pontoon_splash2.wav,0,-1"
				"ontrigger" "player,$playsoundtoself,vehicles/airboat/pontoon_splash2.wav,0,-1"
				"ontrigger" "player,$playsoundtoself,Viro.Brain.Hit,0,-1"
				"ontrigger" "player,$playsoundtoself,Viro.Brain.Hit,0,-1"
				"ontrigger" "blutarch,enable,,0,-1"
				"ontrigger" "blutarch_coffin,enable,,0,-1"
				"ontrigger" "hud_on_relay,trigger,,8,-1"
				"ontrigger" "wave_break_4_relay,trigger,,10,-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`solo_airblast_off`, `trigger`)0-1"
				"spawnflags" "2"
			}
			env_fog_controller
			{
				"farz"          "-1"
				"fogblend"      "1"
				"fogcolor"      "24 25 36"
				"fogcolor2"      "18 20 24"
				"fogdir"        "1 0 0"
				"fogenable"     "1"
				"fogend"        "750"
				"foglerptime"   "2"
				"fogmaxdensity" "1"
				"fogstart"      "1"
				"spawnflags" 	"1"
				"targetname"    "virophage_fog"
			}
			//sky_camera
			//{
			//    "fogmaxdensity" "1"
			//    "origin"        "0 0 -1392"
			//    "angles"        "0 0 0"
			//    "fogcolor"      "0 0 0"
			//    "fogcolor2"      "0 0 0"
			//    "fogdir"        "1 0 0"
			//    "fogenable"     "1"
			//    "fogend"        "1"
			//    "fogstart"      "1"
			//    "scale"         "0"
			//    "targetname"    "virophage_skybox"
			//}
			sky_camera
			{
				"fogmaxdensity" "1"
				"origin"        "0 0 -1392"
				"angles"        "0 0 0"
				"fogcolor"      "0 0 0"
				"fogcolor2"      "0 0 0"
				"fogdir"        "1 0 0"
				"fogenable"     "1"
				"fogend"        "1"
				"fogstart"      "1"
				"scale"         "16"
				"targetname"    "default_skybox"
			}
		}

		p_spawn_front_detour //fix spawn_front bots randomly heading to the side
		{
			NoFixup 1
			OnSpawnOutput
			{
				Target "spawn_front_detour"
				Action "BlockNav"
			}
			func_nav_blocker
			{
				"targetname" "spawn_front_detour"
				"start_disabled" "0"
				"mins" "-224 -222 -650"
				"maxs" "224 222 650"
				"origin" "-1632 -77 405"
				"team" "-2"
			}
			func_brush
			{
				"mins" "-224 -50 -650"
				"maxs" "224 50 650"
				"origin" "-1632 -77 405"
				"rendermode" "10"
			}
		}

		p_spell_common_1
		{
			KeepAlive 1
			tf_spell_pickup
			{
				"automaterialize" "1"
				"powerup_model" "models/props_medieval/medieval_scroll.mdl"
				"tier" "0"
				"onplayertouch" "!self,kill,,1,-1"
			}
		}
		p_spell_common_2
		{
			KeepAlive 1
			env_entity_maker
			{
				"targetname" "spell_common_maker"
				"entitytemplate" "p_spell_common_1"
			}
			OnParentKilledOutput
			{
				Target spell_common_maker
				Action ForceSpawnAtEntityOrigin
				Param !parent
			}
		}
		p_custom_money_1
		{
			KeepAlive 1
			item_currencypack_custom
			{
				"powerup_model" "models/items/currencypack_large.mdl"
				"onplayertouch" "tf_gamerules,$addcurrencyglobal,500,0,-1"
				"onplayertouch" "!self,kill,,1,-1"
			}
		}
		p_custom_money_2
		{
			KeepAlive 1
			env_entity_maker
			{
				"targetname" "custom_money_maker"
				"entitytemplate" "p_custom_money_1"
			}
			OnParentKilledOutput
			{
				Target custom_money_maker
				Action ForceSpawnAtEntityOrigin
				Param !parent
			}
		}

		p_threaten //mean stuff
		{
			NoFixup 1
			trigger_hurt
			{
				"targetname" "tank_crush"
				"startdisabled" 1
				"origin" "1060 2840 208"
				"mins" "-84 -80 -16"
				"maxs" "84 80 16"
				"spawnflags" "1"
				"damage" "666"
				"damagetype" 1048640
			}
			logic_relay
			{
				"targetname" "threat_relay"
				"ontrigger"	"red_correction,enable,,0,-1"
				"ontrigger" "@f@filter_red_alive@player,$changeattributes,panic,1,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "kill_hint,ShowHudHint,KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytexthint,KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "player,$displaytextchat,{red}KILL KILL KILL KILL KILL,0,-1"
				"ontrigger" "sign_kill,show,,0,-1"
				"ontrigger" "kill_box,display,,0,-1"
				"ontrigger" "player,$displaytexthint,,5,-1"
				"ontrigger"	"red_correction,disable,,5,-1"
				"ontrigger" "kill_hint,HideHudHint,,5,-1"
				"ontrigger" "@f@filter_red_alive@playerrunscriptcodeif(!self.IsBotOfType(TF_BOT_TYPE)) Trespasser.SendAnnotationOn(self, `KILL KILL KILL KILL KILL`, 5, true, 0)0-1"
				"spawnflags" "2"
			}
			env_hudhint
			{
				"targetname" "kill_hint"
				"message" "KILL KILL KILL KILL KILL"
				"spawnflags" "1"
			}
			game_text_tf //doesn't work xdd?
			{
				"targetname" "kill_box"
				"icon" "ico_demolish"
				"message" "KILL KILL KILL KILL KILL"
				"background" "2"
				"display_to_team" "0"
			}
			logic_relay
			{
				"targetname" "corrupted_chatter_1"
				"ontrigger" "player,$playsoundtoself,mvm/mvm_warning.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/corrupt_4.wav,3,-1"
				"ontrigger" "player,$displaytextchat,{blue}Corrupted Emissary{reset} :  I AM A ROBOT,3,-1"
				"ontrigger" "player,$displaytextchat,{blue}Corrupted Emissary{reset} :  SURRENDER YOUR WEAPONS AND SUBMIT TO OUR DIPLOMATIC TREATY,5,-1"
				"ontrigger" "@f@filter_red_alive@player,$addplayerattribute,no_attack|0,12,-1"
				"ontrigger" "playerRunScriptCodeSetPropBool(self, `localdata.m_Local.m_bDrawViewmodel`, true)12-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "corrupted_chatter_2"
				"ontrigger" "beat_mvm,playsound,,0,-1"
				"ontrigger" "player,$playsoundtoself,mvm/mvm_warning.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/corrupt_3.wav,1,-1"
				"ontrigger" "player,$displaytextchat,{blue}The Corrupted{reset} :  CRUSH! KILL. KILL! KILL!! KILL!!! KILLLLLLLLL,1,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "corrupted_chatter_3"
				"ontrigger" "player,$playsoundtoself,mvm/mvm_warning.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/corrupt_2.wav,3,-1"
				"ontrigger" "player,$displaytextchat,{blue}The Corrupted{reset} :  WE ARE PROGRAMMED TO BE SCARY,3,-1"
				"ontrigger" "player,$playsoundtoself,mvm/mvm_warning.wav,6,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)6-1"
				"ontrigger" "player,$playsoundtoself,trespasser_v2/corrupt_1.wav,9,-1"
				"ontrigger" "bignetrunscriptcodeif(!Trespasser.bSoloMode){local p=Trespasser.GetRandomPlayer([2],true,false);if(p){EntFire(`player`,`$DisplayTextChat`,format(`{blue}The Corrupted{reset} :  WE WILL FIND {red}%s`,GetPropString(p,`m_szNetname`).toupper()));p.AddCondEx(30,30,null)}}9-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`player`,`$DisplayTextChat`, `{blue}The Corrupted{reset} :  WE WILL FIND {2EFF00}YOU`)9-1"
				"ontrigger" "player,$displaytextchat,{blue}The Corrupted{reset} :  THAT'S WHAT WE DO,10.5,-1"
				"ontrigger" "player,$displaytextchat,{blue}The Corrupted{reset} :  THAT'S ALL WE DO,12,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "corrupted_chatter_4"
				"ontrigger" "player,$playsoundtoself,mvm/mvm_warning.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "music_robot_1,playsound,,0,-1"
				"ontrigger" "music_robot_1,volume,0.1,100,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,BOMBERS,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,TANK_DREAD,0,-1"
				"ontrigger" "pop_interface,$PauseWaveSpawn,TANK_ALT,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "corrupted_chatter_5"
				"ontrigger" "player,$playsoundtoself,mvm/mvm_warning.wav,0,-1"
				"ontrigger" "bignetrunscriptcodeScreenShake(self.GetOrigin(), 16, 32, 3, -1, 0, true)0-1"
				"ontrigger" "player,$playsoundtoself,vo/mvm/norm/soldier_mvm_battlecry01.mp3,3,-1"
				"ontrigger" "player,$displaytextchat,{blue}The Corrupted{reset} :  CHAAARGE!,3,-1"
				"ontrigger" "p_sentry_maker,forcespawn,,5,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "corrupted_tankbomber_relay"
				"ontrigger" "pop_interface,$ResumeWaveSpawn,BOMBERS,20,-1"
				"ontrigger" "bignetrunscriptcodeif(Trespasser.bSoloMode) EntFire(`pop_interface`,`$ResumeWaveSpawn`, `TANK_DREAD`)0-1"
				"ontrigger" "bignetrunscriptcodeif(!Trespasser.bSoloMode) EntFire(`pop_interface`,`$ResumeWaveSpawn`, `TANK_ALT`)0-1"
				"ontrigger" "sign_bomb,show,BOMBERS,20,-1"
				"ontrigger" "music_bomb_relay,trigger,,20,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "transform_relay"
				"ontrigger" "!activator,$removecond,24,0,-1"
				// "ontrigger" "!activator,$addcond,83,0,-1"
				"ontrigger" "!activator,$playsound,misc/bonzo_vomit01.wav,0,-1"
				//"ontrigger" "!activator,$TauntfromItem,Taunt: Burstchester,0,-1" //elsewhere
				"ontrigger" "!activatorrunscriptcodeScreenFade(self, 155, 0, 0, 255, 1, 0, 1)0-1"
				"ontrigger" "!activator,$GiveItem,Zombie Claws,0,-1"
				"ontrigger" "!activator,$addcond,43,0,-1"
				"ontrigger" "!activator,$displaytexthint,Administering Antidote...,6.5,-1"
				"ontrigger" "!activator,$ResetInventory,,20,-1"
				"ontrigger" "!activator,$playsound,items/medshot4.wav,20,-1"
				"ontrigger" "!activatorrunscriptcodeScreenFade(self, 0, 0, 155, 255, 1, 0, 1)20-1"
				"ontrigger" "!activator,$removecond,7,20,-1"
				"ontrigger" "!activator,$removecond,43,20,-1"
				// "ontrigger" "!activator,$removecond,83,20,-1"
				"ontrigger" "!activator,speakresponseconcept,TLK_RESURRECTED,20,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "wound_relay"
				"ontrigger" "!activatorrunscriptcodeif(self.IsPlayer())self.ViewPunch(QAngle(-35,35,-35))0-1"
				"ontrigger" "!activatorrunscriptcodeDispatchParticleEffect(`tfc_sniper_mist`,self.EyePosition(),Vector(0,1,0))0-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "nom_relay"
				"ontrigger" "!activatorrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, 64, 0, true)0-1"
				"ontrigger" "!activator,$playsound,Virophage.Excited,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "burn_relay"
				"ontrigger" "!activator,$additemattribute,move speed bonus|2.15,0,-1"
				"ontrigger" "!activator,$additemattribute,lunchbox adds minicrits|1,0,-1"
				"ontrigger" "!activator,$additemattribute,spell: halloween green flames|2,0,-1"
				"spawnflags" "2"
			}
			logic_case
			{
				"targetname" "skeleton_equip_relay"
				"case01"   "1"
				"case02"   "2"
				"oncase01" "!activator,$giveitem,Empty Machine Gun,0,-1"
				"oncase02" ""
			}
			logic_relay
			{
				"targetname" "brute_relay"
				"ontrigger" "!activator,$TauntfromItem,Taunt: Unleashed Rage,0,-1"
				"ontrigger" "!activatorrunscriptcodelocal hWeapon = self.GetActiveWeapon(); if(hWeapon) hWeapon.EnableDraw()0.05-1"
				"ontrigger" "!activator,$playsound,npc/ichthyosaur/attack_growl3.wav,0.15,-1"
				"ontrigger" "!activatorrunscriptcodeif(!Trespasser.bSoloMode) self.SetHealth(self.GetHealth() + 500)0.4-1"
				"ontrigger" "!activatorrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, 3000, 0, true)0.4-1"
				"ontrigger" "!activator,$addcond,17,2,-1"
				"ontrigger" "!activator,$removecond,7,2.5,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "brute_relay_nerfed"
				"ontrigger" "!activator,$TauntfromItem,Taunt: Unleashed Rage,0,-1"
				"ontrigger" "!activatorrunscriptcodelocal hWeapon = self.GetActiveWeapon(); if(hWeapon) hWeapon.EnableDraw()0.05-1"
				"ontrigger" "!activator,$playsound,npc/ichthyosaur/attack_growl3.wav,0.15,-1"
				"ontrigger" "!activatorrunscriptcodeScreenShake(self.EyePosition(), 16, 32, 3, 3000, 0, true)0.4-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "behemoth_relay"
				"ontrigger" "!activator,$TauntfromItem,Taunt: Unleashed Rage,0,-1"
				"ontrigger" "!activatorrunscriptcodelocal hWeapon = self.GetActiveWeapon(); if(hWeapon) hWeapon.EnableDraw()0.05-1"
				//"ontrigger" "!activator,$playsound,Zombie.Boss.Yell,0,-1"
				"ontrigger" "!activator,$playsound,trespasser_v2/robrute_death.wav,0,-1"
				"ontrigger" "!activator,$addcond,93,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "leaper_relay"
				"ontrigger" "!activator,$playsound,Zombie.Leaper.Taunt,0,-1"
				"ontrigger" "!activator,$TauntfromItem,Taunt: The Trackman's Touchdown,0,-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "leaper_heal_relay"
				"ontrigger" "!activator,$playsound,Zombie.Leaper.Taunt,0,-1"
				"ontrigger" "!activator,$TauntfromItem,Taunt: The Trackman's Touchdown,0,-1"
				"ontrigger" "!activatorrunscriptcodeif(!Trespasser.bSoloMode) self.SetHealth(self.GetMaxHealth())0.4-1"
				"spawnflags" "2"
			}
			logic_relay
			{
				"targetname" "decay_relay"
				"ontrigger" "!activator,SetCustomModelWithClassAnimations,models/bots/skeleton_sniper/skeleton_sniper.mdl,0,-1"
				"spawnflags" "2"
			}
		}

		p_threat //extra mean stuff
		{
			NoFixup 1
			OnSpawnOutput
			{
				Target "kill_menu"
				Action "$DisplayMenu"
				Param "player"
			}
			logic_case
			{
				"targetname" "kill_menu"
				"case16" "KILL KILL KILL KILL KILL|4"
				"case01" "KILL KILL KILL KILL KILL"
				"case02" "KILL KILL KILL KILL KILL"
				"case03" "KILL KILL KILL KILL KILL"
				"case04" "KILL KILL KILL KILL KILL"
				"case05" "KILL KILL KILL KILL KILL"
				"case06" "KILL KILL KILL KILL KILL"
				"case07" "KILL KILL KILL KILL KILL"
				"oncase01" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
				"oncase02" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
				"oncase03" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
				"oncase04" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
				"oncase05" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
				"oncase06" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
				"oncase07" "!activator,$displaytextcenter,KILL KILL KILL KILL KILL,0,-1"
			}
		}

		p_nuke_bomb
		{
			NoFixup 1
			game_round_win
			{
				"targetname" "bots_win"
				"teamnum" "3"
			}
			env_fade
			{
				"targetname" "nuke_flash"
				"duration" "0.5"
				"rendercolor" "155 155 155"
				"renderamt" "50"
				"spawnflags" "0"
			}
			env_viewpunch
			{
				"targetname" "nuclear_punch"
				"punchangle" "-90 0 0"
				"radius" "9999"
				"spawnflags" "3"
			}
			ambient_generic
			{
				"targetname" "manor_explode_1"
				"spawnflags" "49"
				"radius" "99999"
				"health" "10"
				"message" "ambient/explosions/explode_9.wav"
			}
			ambient_generic
			{
				"targetname" "manor_explode_2"
				"spawnflags" "49"
				"radius" "99999"
				"health" "10"
				"message" "ambient/explosions/citadel_end_explosion1.wav"
			}
			ambient_generic
			{
				"targetname" "manor_explode_3"
				"spawnflags" "49"
				"radius" "99999"
				"health" "10"
				"message" "ambient/explosions/citadel_end_explosion1.wav"
			}
			ambient_generic
			{
				"targetname" "manor_explode_4"
				"spawnflags" "49"
				"radius" "99999"
				"health" "10"
				"message" "items/cart_explode.wav"
			}
			move_rope
			{
				"targetname" "megaton_icon"
			}
			move_rope
			{
				"targetname" "helicopter_icon"
			}
			move_rope
			{
				"targetname" "loot_icon"
			}
			OnSpawnOutput
			{
				Target megaton_icon
				Action RunScriptCode
				Param "NetProps.SetPropString(self, `m_iClassname`, `megaton`)"
			}
			OnSpawnOutput
			{
				Target helicopter_icon
				Action RunScriptCode
				Param "NetProps.SetPropString(self, `m_iClassname`, `helicopter`)"
			}
			OnSpawnOutput
			{
				Target loot_icon
				Action RunScriptCode
				Param "NetProps.SetPropString(self, `m_iClassname`, `spellbook_boss`)"
			}
			logic_relay
			{
				"targetname" "nuke_relay"
				"ontrigger" "nuke_flash,fade,0,0,-1"
				"ontrigger" "carriers_off,trigger,,0,-1"
				"ontrigger" "red_correction,disable,,0.5,-1"
				"ontrigger" "nuclear_punch,viewpunch,,0,1"
				"ontrigger" "particle_mansion_explode,Start,,0,1"
				"ontrigger" "roof_exploder,setanimation,anima,0,1"
				"ontrigger" "player,igniteplayer,,0,1"
				"ontrigger" "old_shake_1,startshake,,0,-1"
				"ontrigger" "old_shake_2,startshake,,0,-1"
				"ontrigger" "manor_explode_1,playsound,,0,-1"
				"ontrigger" "manor_explode_2,playsound,,0,-1"
				"ontrigger" "manor_explode_3,playsound,,0,-1"
				"ontrigger" "manor_explode_4,playsound,,0,-1"
				"ontrigger" "music_nuke_relay,trigger,,2,-1"
				"ontrigger" "bignet,runscriptcode,SetSkyboxTexture(`sky_nightfall_01`),0.5,-1"
				"ontrigger" "roof_decoration,kill,,0.5,-1"
				"ontrigger" "playerrunscriptcodeself.TakeDamageEx(Entities.FindByName(null, `megaton_icon`), self, null, Vector(), Vector(), 10000, 1048640)0.25-1"
				"ontrigger" "megaton_iconrunscriptcodeClientPrint(null, 2, ``+self.GetClassname())0-1"
				"ontrigger" "roof_camera,$enableall,,0.5,-1"
				"ontrigger" "obj_sentrygun,RemoveHealth,99999,0.25,-1"
				"ontrigger" "obj_teleporter,RemoveHealth,99999,0.25,-1"
				"ontrigger" "tank_boss,RemoveHealth,99999,0.25,-1"
			}
			point_viewcontrol
			{
				"targetname" "roof_camera"
				"wait" "10"
				"origin" "-1619 -580 868"
				"angles" "13.32 39.84 0"
			}
			point_viewcontrol
			{
				"targetname" "field_camera"
				"wait" "5"
				"origin" "2415 -1003 -47"
				"angles" "-9.24 154.94 0"
			}
			point_viewcontrol
			{
				"targetname" "finale_camera"
				"wait" "999"
				"origin" "-74 -108 468"
				"angles" "33.24 -40 0"
			}
			env_shake
			{
				"amplitude" "255"
				"duration" "1"
				"frequency" "255"
				"radius" "50000"
				"spawnflags" "5"
				"targetname" "old_shake_1"
			}
			env_shake
			{
				"amplitude" "255"
				"duration" "3"
				"frequency" "255"
				"radius" "50000"
				"spawnflags" "5"
				"targetname" "old_shake_2"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "0 1163 70"
				"angles" "0 -90 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "0 560 -55"
				"angles" "0 -90 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "0 -240 -80"
				"angles" "0 -90 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "0 80 -80"
				"angles" "-35 -90 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "0 1792 178"
				"angles" "0 90 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "532 2522 267"
				"angles" "0 45 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "-835 1705 200"
				"angles" "0 90 0"
			}
			info_particle_system
			{
				"targetname" "particle_mansion_explode"
				"effect_name" "firesmoke_collumnP"
				"flag_as_weather" "0"
				"start_active" "0"
				"origin" "852 1445 200"
				"angles" "0 180 0"
			}

			OnSpawnOutput
			{
				Target capturezone_blu
				Action AddOutput
				Param "OnCapture nuke_relay:Trigger:0:-1"
			}

		}

	}

////////////////////////////////////////////////////////////

	SpawnTemplate "vscript_launcher"

	SpawnTemplate "p_resupply"

	SpawnTemplate "p_decorations"

	SpawnTemplate "p_extra_pickups"

	SpawnTemplate "p_map_dispensers"

	SpawnTemplate "p_barricades"

	SpawnTemplate "p_engineer_puppet"

	SpawnTemplate "p_skeleton_props"

	SpawnTemplate "p_lastman_mode"

	SpawnTemplate "p_solo_mode"

	SpawnTemplate "p_gameover"

	SpawnTemplate "p_scenes"

	SpawnTemplate "p_begin"

	SpawnTemplate "p_begin_setup"

	SpawnTemplate "p_begin_shop"

	SpawnTemplate "p_blockers"

	SpawnTemplate "p_dark_fog"

	SpawnTemplate "p_viro_fake"

	SpawnTemplate "p_blood_fog"

	SpawnTemplate "p_point_maker"

	SpawnTemplate "p_spawn_front_detour"

	SpawnTemplate "p_annotations"

	SpawnTemplate "p_nuke_bomb"

	SpawnTemplate "p_threaten"

	SpawnTemplate "p_music_tracks"

	SpawnTemplate "p_survivor_ai"

	SpawnTemplate "p_slippery_beam"

	SpawnTemplate "p_spawn_window"

//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//
//[WAVES																																																													]//
//[/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////]//

	Wave
	{

		// RedTeamWipeCausesWaveLoss 1 //lose condition (lite : i broke this due to the ghost gimmick, but i fixed it in the nutfile)

		Explanation
		{
			Line "{red}THE CORPSES ARE RESTLESS THE MACHINES ARE MAD"
			Line "{e5a4ff}PRIMARY WEAPONS ARE DISABLED"
			Line "{yellow}SURVIVE UNTIL RESCUE {reset}| {yellow}RESPAWNS ARE LIMITED"
			Line "{2EFF00}SELECT RANDOM CLASS TO PLAY AS MERASMUS"
			Line "{blue}TYPE {red}!wins {blue}TO DISPLAY WIN COUNT AND UNLOCKS"
		}

		//condemned setup
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}

		// WaveSpawn
		// {
		// 	Name "debug"
		// 	Where spawnbot_back_right
		
		// 	TotalCount 1
		// 	MaxActive 1
		// 	SpawnCount 1
		// 	Support Limited
		// 	TotalCurrency 500

		// 	TFBot
		// 	{
		// 		Template Machine_Unarmed
		// 		CharacterAttributes
		// 		{
		// 			"move speed bonus" 0.001
		// 			"no_jump" 1
		// 		}
		// 		FireInput
		// 		{
		// 			Target !self
		// 			Action $SetLocalOrigin
		// 			Param "0 666 0"
		// 			Delay -1
		// 			Repeats 1
		// 		}
		// 	}
		// }

		// WaveSpawn
		// {
		// 	FirstSpawnOutput
		// 	{
		// 		Target bignet
		// 		Action RunScriptCode
		// 		Param "Trespasser.SetWavebar(7)"
		// 	}
		// }
		// WaveSpawn
		// {
		// 	FirstSpawnOutput
		// 	{
		// 		Target wave_break_6_relay
		// 		Action Trigger
		// 	}
		// }
		// WaveSpawn
		// {
		// 	FirstSpawnOutput
		// 	{
		// 		Target debug_relay
		// 		Action Trigger
		// 	}
		// }
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target scene_1_relay
				Action Trigger
			}
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target begin_relay
				Action Trigger
			}
		}

//////////////////////////////////////////////////////////WAVE 1

		WaveSpawn
		{
			Name "survivor_1"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			//HideIcon 1
			Support Limited
			TotalCurrency 0

			DoneWarningSound "Soldier.CritDeath"
			DoneOutput
			{
				target bignet
				action runscriptcode
				param "Trespasser.bAllSurvivorsAlive = false"
				delay 1
			}

			TFBot
			{
				Template Survivor_1
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "200 1430 265"
					Delay 0
					Repeats 1
				}
				InterruptAction
				{
					Target "0 1000 100"
					Delay 1.5
					Repeats 1
					Duration 1
					WaitUntilDone 1
					Distance 25
				}
				VoiceCommand
				{
					Delay 3
					Repeats 1
					Type "Incoming"
				}
			}
		}
		WaveSpawn
		{
			Name "survivors_undead"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			HideIcon 1
			Support Limited
			TotalCurrency 200

			WaitForAllDead "survivor_1"
			WaitBeforeStarting 8

			TFBot
			{
				Template Survivor_1_Zombie
				FireInput
				{
					Target !self
					Action $TeleportToEntity
					Param 1_becomes_zombie
					Delay 0
					Repeats 1
				}
			}
		}
		WaveSpawn
		{
			Name "survivor_2"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			HideIcon 1
			Support Limited

			DoneWarningSound "Pyro.CritDeath"
			DoneOutput
			{
				target bignet
				action runscriptcode
				param "Trespasser.bAllSurvivorsAlive = false"
				delay 1
			}

			TFBot
			{
				Template Survivor_2
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "-544 1430 265"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					Target !self
					Action $tauntfromitem
					Param "Taunt: The Scaredy-cat!"
					Delay 47.5
					Repeats 1
				}
				InterruptAction
				{
					Target "-64 1130 100"
					Delay 2.5
					Repeats 1
					Duration 1
					WaitUntilDone 1
					Distance 25
				}
				VoiceCommand
				{
					Delay 5
					Repeats 1
					Type "Move Up"
				}
			}
		}
		WaveSpawn
		{
			Name "survivors_undead"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			HideIcon 1
			Support Limited
			TotalCurrency 200

			WaitForAllDead "survivor_2"
			WaitBeforeStarting 8

			TFBot
			{
				Template Survivor_2_Zombie
				FireInput
				{
					Target !self
					Action $TeleportToEntity
					Param 2_becomes_zombie
					Delay 0
					Repeats 1
				}
			}
		}
		WaveSpawn
		{
			Name "survivor_3"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			//HideIcon 1
			Support Limited
			TotalCurrency 0

			DoneWarningSound "Sniper.CritDeath"
			DoneOutput
			{
				target bignet
				action runscriptcode
				param "Trespasser.bAllSurvivorsAlive = false"
				delay 1
			}

			TFBot
			{
				Template Survivor_3
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "-544 706 265"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					Target !self
					Action $tauntfromitem
					Param "Taunt: The Scaredy-cat!"
					Delay 47.5
					Repeats 1
				}
				InterruptAction
				{
					Target "64 1130 100"
					Delay 3.5
					Repeats 1
					Duration 1
					WaitUntilDone 1
					Distance 25
				}
				VoiceCommand
				{
					Delay 6.5
					Repeats 1
					Type "Go"
				}
			}
		}
		WaveSpawn
		{
			Name "survivors_undead"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			HideIcon 1
			Support Limited
			TotalCurrency 200

			WaitForAllDead "survivor_3"
			WaitBeforeStarting 8

			TFBot
			{
				Template Survivor_3_Zombie
				FireInput
				{
					Target !self
					Action $TeleportToEntity
					Param 3_becomes_zombie
					Delay 0
					Repeats 1
				}
			}
		}

		WaveSpawn
		{
			Name "shamblers"
			Where spawnbot_front

			TotalCount 26
			MaxActive 26
			SpawnCount 2
			WaitBetweenSpawns 0.5

			RandomChoice
			{
				TFBot
				{
					Template Zombie_Shambler_1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "113 -669 47"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 12.5
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_2
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 12.5
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_3
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "189 -216 -20"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 12.75
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_4
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 12.75
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_5
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-262 -701 77"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 13
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_6
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 13
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_7
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-795 -490 -22"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 13.25
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_8
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 13.25
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_7
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-301 0 -11"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 13.5
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_6
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 13.5
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_5
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "554 7 -17"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 13.75
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_4
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 13.75
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_3
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "0 -345 -26"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 14
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_2
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 14
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "910 -11 -13"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 14.25
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_2
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 14.25
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_3
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-79 -699 58"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						//Param "Taunt: Unleashed Rage"
						Delay 14.5
						Cooldown 10
						Repeats 2
					}
				}
				TFBot
				{
					Template Zombie_Shambler_4
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-424 -301 -25"
						Delay 0
						Repeats 1
					}
					FireInput
					{
						Target !self
						Action $tauntfromitem
						Param "Taunt: Unleashed Rage"
						Delay 14.5
						Cooldown 10
						Repeats 2
					}
				}
			}
		}

		WaveSpawn
		{
			Name "intro_brutes"
			Where spawnbot_front
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 4
			WaitBeforeStarting 15
			TotalCurrency 100

			TFBot
			{
				Template Zombie_Brute_Intro
				MaxVisionRange 1
				CharacterAttributes
				{
					"no_jump" 1
					"dmg taken increased" 0.25
				}
				InterruptAction
				{
					Target "main_cade_hitme_1"
					//AimTarget "main_cade_hitme_1"
					//KillAimTarget 1
					Delay 1
					Repeats 1
					WaitUntilDone 1
				}
				InterruptAction
				{
					Target "main_cade_hitme_1"
					AimTarget "main_cade_hitme_1"
					KillAimTarget 1
					Delay 32
					Repeats 1
					Duration 15
					StopCurrentInterruptAction 1
				}
				FireInput
				{
					Target !self
					Action runscriptcode
					Param "if(Trespasser.bSoloMode) EntFire(`!activator`, `$addplayerattribute`, `dmg taken increased|2`, 1)"
					Delay 50
					Repeats 1
				}
				EventChangeAttributes
				{
					Wake_Brute
					{
						MaxVisionRange -1
						FireInput
						{
							Target "brute_relay_nerfed"
							Action "trigger"
							Delay 0
							Repeats 1
						}
						CharacterAttributes
						{
							"no_jump" 0
							"dmg taken increased" 1
						}
					}
				}
			}

		}
		WaveSpawn
		{
			Name "intro_brutes"
			Where spawnbot_front_left
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBetweenSpawns 4
			WaitBeforeStarting 15
			TotalCurrency 100

			TFBot
			{
				Template Zombie_Brute_Intro
				MaxVisionRange 1
				CharacterAttributes
				{
					"no_jump" 1
					"dmg taken increased" 0.25
				}
				InterruptAction
				{
					Target "shit_cade_target"
					//AimTarget "main_cade_hitme_2"
					//KillAimTarget 1
					Delay 1
					Repeats 1
					WaitUntilDone 1
				}
				InterruptAction
				{
					Target "shit_cade_target"
					AimTarget "shit_cade_target"
					KillAimTarget 1
					Delay 33
					Repeats 1
					Duration 15
					StopCurrentInterruptAction 1
				}
				FireInput
				{
					Target !self
					Action runscriptcode
					Param "if(Trespasser.bSoloMode) EntFire(`!activator`, `$addplayerattribute`, `dmg taken increased|2`, 1)"
					Delay 50
					Repeats 1
				}
				EventChangeAttributes
				{
					Wake_Brute
					{
						MaxVisionRange -1
						FireInput
						{
							Target "brute_relay_nerfed"
							Action "trigger"
							Delay 0.5
							Repeats 1
						}
						CharacterAttributes
						{
							"no_jump" 0
							"dmg taken increased" 1
						}
					}
				}
			}

		}
		WaveSpawn
		{
			Where spawnbot_front
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			// WaitForAllDead "intro_brutes"
			WaitBeforeStarting 95
			TotalCurrency 100

			TFBot
			{
				Classicon heavy_zombie_arm1_lite
				Template Zombie_Brute
			}
		}

		WaveSpawn
		{
			Name "WAVE1-1"
			Where spawnbot_front
			TotalCount 123
			MaxActive 26
			SpawnCount 1
			WaitBetweenSpawns 0.5
			WaitBeforeStarting 60
			TotalCurrency 0

			FirstSpawnOutput
			{
				Target zombie_yells
				Action trigger
			}

			RandomChoice
			{
				TFBot
				{
					Template Zombie_Generic_1-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_2-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_3-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_4-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_5-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_6-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_7-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_8-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

				TFBot
				{
					Template Zombie_Generic_9-1
					FireInput
					{
						Target !self
						Action $SetLocalOrigin
						Param "-128 -91 -51"
						Delay 0
						Repeats 1
					}
				}

			}
		}

		WaveSpawn
		{
			Name "WAVE1-1"
			Where spawnbot_front_right
			TotalCount 26
			MaxActive 13
			SpawnCount 1
			WaitBetweenSpawns 0.4
			WaitBeforeStarting 110
			TotalCurrency 0

			FirstSpawnOutput
			{
				Target music_uncommon_relay
				Action trigger
			}

			RandomChoice
			{

				TFBot
				{
					Template Zombie_Generic_1-2
				}

				TFBot
				{
					Template Zombie_Generic_2-2
				}

				TFBot
				{
					Template Zombie_Generic_3-2
				}

				TFBot
				{
					Template Zombie_Generic_4-2
				}

				TFBot
				{
					Template Zombie_Generic_5-2
				}

				TFBot
				{
					Template Zombie_Generic_6-2
				}

				TFBot
				{
					Template Zombie_Generic_7-2
				}

				TFBot
				{
					Template Zombie_Generic_8-2
				}

				TFBot
				{
					Template Zombie_Generic_9-2
				}

			}
		}

		WaveSpawn
		{
			Name "WAVE1-2"
			Where spawnbot_front
			Where spawnbot_front_left
			RandomSpawn 1

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllSpawned "WAVE1-1"
			TotalCurrency 100

			DoneOutput
			{
				Target wave_break_1_relay
				Action Trigger
				Delay 3
			}

			TFBot
			{
				Template Zombie_Brute
				Classicon heavy_zombie_arm2_lite
				Tag bot_leaper //surprise jumps
				AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				AddCond {Name TF_COND_SPEED_BOOST Duration 6} // get to the front faster
				CharacterAttributes
				{
					"speed_boost_on_hit_enemy" 999
				}
			}

		}

//////////////////////////////////////////////////////////WAVE 2

		WaveSpawn
		{
			Name "WAVE2-1"
			Where spawnbot_front
			TotalCount 7
			MaxActive 7
			SpawnCount 7
			WaitForAllDead "WAVE1-2"
			WaitBeforeStarting 66.25
			TotalCurrency 200

		Squad
		{

			NoWaitForFormation 1

			TFBot
			{
				Template Zombie_Brute
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE2-1"
			Where spawnbot_front_right
			TotalCount 7
			MaxActive 7
			SpawnCount 7
			WaitForAllDead "WAVE1-2"
			WaitBeforeStarting 66.25
			TotalCurrency 200

		Squad
		{

			NoWaitForFormation 1

			TFBot
			{
				Template Zombie_Brute_Solo
				CharacterAttributes
				{
					"displace touched enemies" 666
					"no_jump" 1
					"dmg taken increased" 0.25
				}
				InterruptAction
				{
					Target "lvl2_target_1"
					AimTarget "lvl2_target_1"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
				FireInput
				{
					Target !self
					Action runscriptcode
					Param "if(Trespasser.bSoloMode) EntFire(`!activator`, `$addplayerattribute`, `dmg taken increased|2`, 1)"
					Delay 18
					Repeats 1
				}
				EventChangeAttributes
				{
					Wake_Brute
					{
						FireInput //heal ability
						{
							Target "brute_relay"
							Action "trigger"
							Delay 0
							Repeats 1
						}
						CharacterAttributes
						{
							"displace touched enemies" 0
							"no_jump" 0
							"dmg taken increased" 1
						}
					}
				}
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE2-1"
			Where spawnbot_front_left
			TotalCount 7
			MaxActive 7
			SpawnCount 7
			WaitForAllDead "WAVE1-2"
			WaitBeforeStarting 70.25 //delayed
			TotalCurrency 200

		Squad
		{

			NoWaitForFormation 1

			TFBot
			{
				Template Zombie_Brute_Solo
				CharacterAttributes
				{
					"displace touched enemies" 666
					"no_jump" 1
					"dmg taken increased" 0.25
				}
				InterruptAction
				{
					Target "lvl2_target_2"
					AimTarget "lvl2_target_2"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
				FireInput
				{
					Target !self
					Action runscriptcode
					Param "if(Trespasser.bSoloMode) EntFire(`!activator`, `$addplayerattribute`, `dmg taken increased|2`, 1)"
					Delay 18
					Repeats 1
				}
				EventChangeAttributes
				{
					Wake_Brute
					{
						FireInput //heal ability
						{
							Target "brute_relay"
							Action "trigger"
							Delay 0.5
							Repeats 1
						}
						CharacterAttributes
						{
							"displace touched enemies" 0
							"no_jump" 0
							"dmg taken increased" 1
						}
					}
				}
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE2-2"
			Where spawnbot_front_left
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 6
			WaitForAllDead "WAVE2-1"
			TotalCurrency 300

			FirstSpawnOutput
			{
				Target leaper_yells
				Action trigger
			}
			DoneOutput
			{
				Target skeleton_crew_1_on
				Action trigger
			}

			TFBot
			{
				Template Zombie_Leaper
			}

		}

		WaveSpawn
		{
			Name "WAVE2-2"
			Where spawnbot_front_right
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 7
			WaitForAllDead "WAVE2-1"
			TotalCurrency 300

			DoneOutput
			{
				Target skeleton_cackle_on
				Action trigger
			}

			TFBot
			{
				Template Zombie_Leaper
			}

		}

		WaveSpawn
		{
			Name "WAVE2-1_GENERIC"
			Where spawnbot_front_right
			Where spawnbot_front_left
			TotalCount 25
			MaxActive 8
			SpawnCount 1
			WaitBetweenSpawns 1
			WaitBeforeStarting 3
			WaitForAllDead "WAVE2-1"
			RandomSpawn 1
			TotalCurrency 0

			RandomChoice
			{
				TFBot
				{
					Template Zombie_Generic_1-1
				}

				TFBot
				{
					Template Zombie_Generic_2-1
				}

				TFBot
				{
					Template Zombie_Generic_3-1
				}

				TFBot
				{
					Template Zombie_Generic_4-1
				}

				TFBot
				{
					Template Zombie_Generic_5-1
				}

				TFBot
				{
					Template Zombie_Generic_6-1
				}

				TFBot
				{
					Template Zombie_Generic_7-1
				}

				TFBot
				{
					Template Zombie_Generic_8-1
				}

				TFBot
				{
					Template Zombie_Generic_9-1
				}
			}
		}

		WaveSpawn
		{
			Name "WAVE2-3"
			Where spawnbot_front_right
			Where spawnbot_front_left
			TotalCount 75
			MaxActive 16
			SpawnCount 1
			WaitBetweenSpawns 1
			WaitBeforeStarting 3
			WaitForAllDead "WAVE2-2"
			RandomSpawn 1
			TotalCurrency 0

			FirstSpawnOutput
			{
				Target scene_skeleton_relay
				Action trigger
			}

			RandomChoice
			{

				TFBot
				{
					Template Zombie_Headless_1-1
				}

				TFBot
				{
					Template Zombie_Headless_1-2
				}

				TFBot
				{
					Template Zombie_Headless_2-1
				}

				TFBot
				{
					Template Zombie_Headless_2-2
				}

				TFBot
				{
					Template Zombie_Headless_3-1
				}

				TFBot
				{
					Template Zombie_Headless_3-2
				}

				TFBot
				{
					Template Zombie_Headless_4-1
				}

				TFBot
				{
					Template Zombie_Headless_4-2
				}

				TFBot
				{
					Template Zombie_Headless_5-1
				}

				TFBot
				{
					Template Zombie_Headless_5-2
				}

				TFBot
				{
					Template Zombie_Headless_6-1
				}

				TFBot
				{
					Template Zombie_Headless_6-2
				}

				TFBot
				{
					Template Zombie_Headless_7-1
				}

				TFBot
				{
					Template Zombie_Headless_7-2
				}

				TFBot
				{
					Template Zombie_Headless_8-1
				}

				TFBot
				{
					Template Zombie_Headless_8-2
				}

				TFBot
				{
					Template Zombie_Headless_9-1
				}

				TFBot
				{
					Template Zombie_Headless_9-2
				}

			}
		}

		WaveSpawn
		{
			Name "WAVE2-3"
			Where spawnbot_back

			TotalCount 50
			MaxActive 10
			SpawnCount 1

			WaitForAllDead "WAVE2-2"
			WaitBeforeStarting 32
			WaitBetweenSpawns 1.15

			DoneOutput
			{
				Target scene_skeleton_end
				Action trigger
			}

		RandomChoice
		{

			TFBot
			{
				Template Skeleton_Easy_1
			}

			TFBot
			{
				Template Skeleton_Easy_2
			}

			TFBot
			{
				Template Skeleton_Easy_3
			}

		}

		}

		WaveSpawn //necessary because it relies on multiple wavespawns to end
		{
			Name "WAVE2-FINISH"
			WaitForAllDead "WAVE2-3"
			WaitBeforeStarting 3
			FirstSpawnOutput
			{
				Target wave_break_2_relay
				Action trigger
			}
		}

////////////////////////////////////////////////////////////WAVE 3

		WaveSpawn
		{
			Name "WAVE3-1"
			Where spawnbot_back_left
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitForAllDead "WAVE2-FINISH"
			WaitBeforeStarting 66.25
			TotalCurrency 200

			TFBot
			{
				Template Zombie_Brute_Solo
				AddCond {Name TF_COND_SPEED_BOOST}
				CharacterAttributes
				{
					"displace touched enemies" 666
					"no_jump" 1
					"dmg taken increased" 0.25
				}
				InterruptAction
				{
					Target "lvl3_target_1"
					AimTarget "lvl3_target_1"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 17.25
				}
				FireInput
				{
					Target !self
					Action runscriptcode
					Param "if(Trespasser.bSoloMode) EntFire(`!activator`, `$addplayerattribute`, `dmg taken increased|2`, 1)"
					Delay 19
					Repeats 1
				}
				EventChangeAttributes
				{
					Wake_Boss
					{
						FireInput //heal ability
						{
							Target "brute_relay"
							Action "trigger"
							Delay 0
							Repeats 1
						}
						AddCond {Name TF_COND_SPEED_BOOST}
						CharacterAttributes
						{
							"displace touched enemies" 0
							"no_jump" 0
							"dmg taken increased" 1
						}
					}
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE3-1"
			Where spawnbot_back_right
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitForAllDead "WAVE2-FINISH"
			WaitBeforeStarting 66.25
			TotalCurrency 100

			TFBot
			{
				Template Zombie_Leaper_Solo
				CharacterAttributes
				{
					"displace touched enemies" 666
					"dmg taken increased" 0.15
				}
				InterruptAction
				{
					Target "cade_windows_back"
					AimTarget "cade_windows_back"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
				FireInput
				{
					Target !self
					Action runscriptcode
					Param "if(Trespasser.bSoloMode) EntFire(`!activator`, `$addplayerattribute`, `dmg taken increased|2`, 1)"
					Delay 20
					Repeats 1
				}
				EventChangeAttributes
				{
					Wake_Boss
					{
						FireInput //heal ability
						{
							Target "leaper_heal_relay"
							Action "trigger"
							Delay 0
							Repeats 1
						}
						CharacterAttributes
						{
							"displace touched enemies" 1
							"dmg taken increased" 1
						}
					}
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE3-1"
			Where spawnbot_back_left
			TotalCount 6
			MaxActive 6
			SpawnCount 1
			WaitBetweenSpawns 1
			WaitForAllDead "WAVE2-FINISH"
			WaitBeforeStarting 66.25

		RandomChoice
		{

			TFBot
			{
				Template Skeleton_Medium_1
				AddCond {Name TF_COND_SPEED_BOOST}
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 15
				}
				InterruptAction
				{
					Target "lvl3_cade_hitme_2"
					AimTarget "lvl3_cade_hitme_2"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
			}

			TFBot
			{
				Template Skeleton_Medium_2
				AddCond {Name TF_COND_SPEED_BOOST}
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 15
				}
				InterruptAction
				{
					Target "lvl3_cade_hitme_2"
					AimTarget "lvl3_cade_hitme_2"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
			}

			TFBot
			{
				Template Skeleton_Medium_3
				AddCond {Name TF_COND_SPEED_BOOST}
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 15
				}
				InterruptAction
				{
					Target "lvl3_cade_hitme_2"
					AimTarget "lvl3_cade_hitme_2"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE3-1"
			Where spawnbot_back_right
			TotalCount 6
			MaxActive 6
			SpawnCount 1
			WaitBetweenSpawns 1
			WaitForAllDead "WAVE2-FINISH"
			WaitBeforeStarting 66.25

		RandomChoice
		{

			TFBot
			{
				Template Skeleton_Medium_1
				AddCond {Name TF_COND_SPEED_BOOST}
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 15
				}
				InterruptAction
				{
					Target "lvl3_target_2"
					AimTarget "lvl3_cade_hitme_3"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
			}

			TFBot
			{
				Template Skeleton_Medium_2
				AddCond {Name TF_COND_SPEED_BOOST}
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 15
				}
				InterruptAction
				{
					Target "lvl3_target_2"
					AimTarget "lvl3_cade_hitme_3"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
			}

			TFBot
			{
				Template Skeleton_Medium_3
				AddCond {Name TF_COND_SPEED_BOOST}
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 15
				}
				InterruptAction
				{
					Target "lvl3_target_2"
					AimTarget "lvl3_cade_hitme_3"
					KillAimTarget 1
					Delay 1
					Repeats 1
					Duration 15
				}
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE3-2"
			Where spawnbot_front

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "WAVE3-1"
			WaitBeforeStarting 3

			HideIcon 1
			TotalCurrency 250

			FirstSpawnOutput
			{
				target scene_dopple
				action trigger
			}

			TFBot
			{
				Template Zombie_Doppelganger
				//SpellDropRateCommon 1
				SpawnTemplate p_spell_common_2
				FireInput
				{
					Target !activator
					Action RunScriptCode
					Param "Trespasser.SetDoppelganger(self, Trespasser.GetRandomPlayerShuffle([2], true, false))"
					Delay 0
					Repeats 1
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE3-2"
			Where spawnbot_back_right

			TotalCount 19
			MaxActive 10
			SpawnCount 1

			WaitForAllDead "WAVE3-1"
			WaitBeforeStarting 3
			WaitBetweenSpawns 1

		RandomChoice
		{

			TFBot
			{
				Template Skeleton_Medium_1
				//AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Skeleton_Medium_2
				//AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Skeleton_Medium_3
				//AddCond {Name TF_COND_SPEED_BOOST}
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE3-2"
			Where spawnbot_back_left

			TotalCount 19
			MaxActive 10
			SpawnCount 1

			WaitForAllDead "WAVE3-1"
			WaitBeforeStarting 3
			WaitBetweenSpawns 1

		RandomChoice
		{

			TFBot
			{
				Template Skeleton_Medium_1
				//AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Skeleton_Medium_2
				//AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Skeleton_Medium_3
				//AddCond {Name TF_COND_SPEED_BOOST}
			}

		}

		}

		WaveSpawn
		{
			WaitForAllDead "WAVE3-2"
			WaitBeforeStarting 3
			FirstSpawnOutput
			{
				Target music_horseman_relay
				Action trigger
			}
		}

		WaveSpawn
		{
			Name "WAVE3-HEADLESS"
			Where spawnbot_front_left
			Where spawnbot_front_right
			Where spawnbot_front
			Where spawnbot_back
			Where spawnbot_back_left
			Where spawnbot_back_right

			Support 1
			// TotalCount 25
			MaxActive 15
			SpawnCount 1

			WaitBetweenSpawns 2
			WaitForAllDead "WAVE3-2"
			WaitBeforeStarting 12
			RandomSpawn 1

			RandomChoice
			{

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_1-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_1-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_2-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_2-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_3-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_3-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_4-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_4-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_5-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_5-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_6-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_6-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_7-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_7-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_8-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_8-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_9-1
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

				TFBot
				{
					ClassIcon pyro_scout_fireaxe_bat_giant
					Template Zombie_Headless_9-2
					AddCond {Name TF_COND_OFFENSEBUFF}
				}

			}
		}

		WaveSpawn
		{
			Name "WAVE3-3"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "WAVE3-2"
			WaitBeforeStarting 37

			TotalCurrency 500

			FirstSpawnOutput
			{
				target black_pumpkin
				action trigger
				delay 3
			}
			DoneOutput
			{
				target survivors_gtfo_fort
				action trigger
				delay 3
			}


		RandomChoice
		{

			HalloweenBoss
			{
				ClassIcon horsemann_lite
				BossType HHH
				Health 6000
				SpawnCurrencyPack 1
				Origin "0 1118 60"
				//SpellDropRateRare 1
				SpawnTemplate p_spell_common_2
			}

			HalloweenBoss //mallet
			{
				ClassIcon mallet_lite
				BossType HHH
				Health 6000
				SpawnCurrencyPack 1
				Origin "0 1118 60"
				SpawnTemplate mallet_horsemann
				//SpellDropRateRare 1
				SpawnTemplate p_spell_common_2
			}

			HalloweenBoss
			{
				ClassIcon monoculus_nys
				BossType Monoculus
				Health 10000
				SpawnCurrencyPack 1
				Origin "0 1118 60"
				SpawnTemplate monoculus_nerf
				SpawnTemplate p_spell_common_2
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE3-4"
			Where spawnbot_back

			TotalCount 12
			MaxActive 12
			SpawnCount 1

			WaitForAllDead "WAVE3-3"
			WaitBeforeStarting 15
			WaitBetweenSpawns 0.5

			FirstSpawnOutput
			{
				target scene_burning_relay
				action trigger
			}
			DoneOutput
			{
				target scene_burning_end
				action trigger
			}

			TFBot
			{
				Template Zombie_Burning
				Health 65
				Attributes AlwaysFireWeapon
				RingOfFire 12
				AddCond
				{
					Name TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGED
					Duration 1
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE3-5"
			Where spawnbot_front
			Where spawnbot_front_right
			Where spawnbot_front_left

			TotalCount 43
			MaxActive 11
			SpawnCount 1

			WaitForAllDead "WAVE3-4"
			WaitBetweenSpawns 0.5

			TFBot
			{
				Template Zombie_Burning
				AddCond
				{
					Name TF_COND_SPEED_BOOST
					Duration 5
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE3-5"
			Where spawnbot_back_left
			Where spawnbot_back_right

			TotalCount 82
			MaxActive 15
			SpawnCount 1

			WaitForAllDead "WAVE3-4"
			WaitBetweenSpawns 0.5

			FirstSpawnOutput
			{
				Target zombie_yells
				Action trigger
			}

		RandomChoice
		{
			TFBot
			{
				Template Zombie_Generic_1-2
			}

			TFBot
			{
				Template Zombie_Generic_2-2
			}

			TFBot
			{
				Template Zombie_Generic_3-2
			}

			TFBot
			{
				Template Zombie_Generic_4-2
			}

			TFBot
			{
				Template Zombie_Generic_5-2
			}

			TFBot
			{
				Template Zombie_Generic_6-2
			}

			TFBot
			{
				Template Zombie_Generic_7-2
			}

			TFBot
			{
				Template Zombie_Generic_8-2
			}

			TFBot
			{
				Template Zombie_Generic_9-2
			}

		}

		}

		WaveSpawn //necessary because it relies on multiple wavespawns to end
		{
			Name "WAVE3-FINISH"
			WaitForAllDead "WAVE3-5"
			WaitBeforeStarting 3
			FirstSpawnOutput
			{
				Target wave_break_3_relay
				Action trigger
			}
		}

////////////////////////////////////////////////////////////WAVE 4

		WaveSpawn
		{
			Name "WAVE4-1"
			Where spawnbot_back_left
			Where spawnbot_back_right
			RandomSpawn 1

			TotalCount 125
			MaxActive 20
			SpawnCount 1

			WaitForAllDead "WAVE3-FINISH"
			WaitBeforeStarting 71.25
			WaitBetweenSpawns 0.5

			TotalCurrency 250

			FirstSpawnOutput
			{
				Target music_poison_relay
				Action trigger
			}

		RandomChoice
		{

			NextSpawnerClone 98 //2% chance for plague
			TFBot
			{
				Template Zombie_Poison_1
			}

			NextSpawnerClone 2 //2% chance for plague
			TFBot
			{
				Template Zombie_Poison_2
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE4-2"
			Where spawnbot_front_right

			TotalCount 12
			MaxActive 12
			SpawnCount 6

			WaitForAllSpawned "WAVE4-1"
			WaitBetweenSpawns 20
			TotalCurrency 400

		Squad
		{

			TFBot
			{
				Template Zombie_Brute
				AddCond {Name TF_COND_OFFENSEBUFF}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE4-2"
			Where spawnbot_front_left

			TotalCount 12
			MaxActive 12
			SpawnCount 6

			WaitForAllSpawned "WAVE4-1"
			WaitBetweenSpawns 20
			TotalCurrency 400

		Squad
		{

			TFBot
			{
				Template Zombie_Brute
				AddCond {Name TF_COND_OFFENSEBUFF}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_SPEED_BOOST}
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE4-3"
			Where spawnbot_front

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "WAVE4-2"
			WaitBeforeStarting 20

			TotalCurrency 500

			FirstSpawnOutput
			{
				Target music_viro_relay
				Action trigger
			}
			DoneOutput
			{
				Target virophage_off_relay
				Action trigger
			}

			TFBot
			{
				Template Zombie_Virophage
				//SpellDropRateRare 1
				SpawnTemplate p_spell_common_2
			}

		}
		WaveSpawn
		{
			WaitForAllDead "WAVE4-2"
			WaitBeforeStarting 5
			StartWaveOutput
			{
				Target bignet
				Action RunScriptCode
				Param "
				PrecacheSound(`npc/zombie_poison/pz_pain1.wav`)
				EmitSoundEx({
					sound_name = `npc/zombie_poison/pz_pain1.wav`
					pitch = 65
					filter_type = RECIPIENT_FILTER_GLOBAL
					special_dsp = 20
				})"
				Delay 4
			}
			FirstSpawnOutput
			{
				Target virophage_on_relay
				Action trigger
			}
		}

		WaveSpawn
		{
			Name "VIRO_STALKERS"
			Where spawnbot_back
			Where spawnbot_back_left
			Where spawnbot_back_right
			RandomSpawn 1

			TotalCount 12
			MaxActive 12
			SpawnCount 2

			WaitBeforeStarting 22
			WaitBetweenSpawns 16
			WaitForAllDead "WAVE4-2"
			HideIcon 1

			TFBot
			{
				Template Zombie_Generic_9-2
				Name "Stalker" //combine all perks of spy zombies
				Item "Handsome Devil"
				ItemAttributes
				{
					ItemName "Handsome Devil"
					"SPELL: set item tint RGB" 5
				}
				CharacterAttributes
				{
					"crit vs burning players" 1
					"crit vs non burning players" 1
					"stun on hit" 3
					"stun on hit type" "movement"
					"stun on hit slow" 0.66
				}
			}

		}

//////////////////////////////////////////////////////////WAVE 5

		WaveSpawn
		{
			Name "WAVE5-EMISSARY"
			Where spawnbot_front

			TotalCount 3
			MaxActive 3

			WaitForAllDead "WAVE4-3"
			WaitBeforeStarting 80.25

			TotalCurrency 0
			HideIcon 1

			FirstSpawnOutput
			{
				target no_guns_check
				action trigger
			}

		Squad
		{

			TFBot
			{
				Template Machine_Emissary
				SpawnTemplate p_custom_money_2
			}

			TFBot
			{
				Template Machine_Bodyguard
			}

			TFBot
			{
				Template Machine_Bodyguard
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE5-1"
			Where spawnbot_front_right

			TotalCount 100
			MaxActive 24
			SpawnCount 1

			WaitForAllDead "WAVE5-EMISSARY"
			WaitBeforeStarting 3
			WaitBetweenSpawns 0.5

			FirstSpawnOutput
			{
				target corrupted_chatter_2
				action trigger
			}

			TFBot
			{
				Template Machine_Unarmed

			}

		}

		WaveSpawn
		{
			Name "WAVE5-1"
			Where spawnbot_back_right

			TotalCount 2
			MaxActive 2
			SpawnCount 1

			WaitForAllDead "WAVE5-EMISSARY"
			WaitBeforeStarting 3
			WaitBetweenSpawns 30

			TFBot
			{
				Template Machine_Giant
			}

		}

		WaveSpawn
		{
			Name "WAVE5-1"
			Where spawnbot_back_left

			TotalCount 2
			MaxActive 2
			SpawnCount 1

			WaitForAllDead "WAVE5-EMISSARY"
			WaitBeforeStarting 3
			WaitBetweenSpawns 30

			TFBot
			{
				Template Machine_Giant
			}

		}

		WaveSpawn
		{
			Name "WAVE5-2"
			Where spawnbot_back_right
			Where spawnbot_back_left
			RandomSpawn 1

			TotalCount 50
			MaxActive 20
			SpawnCount 2

			WaitForAllSpawned "WAVE5-1"
			WaitBeforeStarting 8
			WaitBetweenSpawns 1

		Squad
		{

			ShouldPreserveSquad 1

			TFBot
			{
				Template Machine_Shotgun
			}

			TFBot
			{
				Template Machine_Uber
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE5-2"
			Where spawnbot_back_right

			TotalCount 2
			MaxActive 2
			SpawnCount 1

			WaitForAllSpawned "WAVE5-1"
			WaitBetweenSpawns 30

			TFBot
			{
				Template Machine_Giant
			}

		}

		WaveSpawn
		{
			Name "WAVE5-2"
			Where spawnbot_back_left

			TotalCount 2
			MaxActive 2
			SpawnCount 1

			WaitForAllSpawned "WAVE5-1"
			WaitBetweenSpawns 30

			TFBot
			{
				Template Machine_Giant
			}

		}

		WaveSpawn
		{
			Name "WAVE5-MUSIC"
			WaitForAllDead "WAVE5-2"
			WaitBeforeStarting 2

			FirstSpawnOutput
			{
				target beat_mvm
				action stopsound
			}
			DoneOutput
			{
				target corrupted_chatter_3
				action trigger
			}
		}

		WaveSpawn
		{
			Name "WAVE5-3"
			Where spawnbot_front_right
			Where spawnbot_back_right
			Where spawnbot_back_left
			RandomSpawn 1

			TotalCount 16
			MaxActive 6
			SpawnCount 2

			WaitForAllDead "WAVE5-2"
			WaitBeforeStarting 16
			WaitBetweenSpawns 8

			FirstSpawnOutput
			{
				target corrupted_chatter_4
				action trigger
			}

		Squad
		{

			NoWaitForFormation 1

			TFBot
			{
				Template Machine_Steel
			}

			TFBot
			{
				Template Machine_Steel
			}

		}

		}

		WaveSpawn
		{
			Name "BOSS_WIRE"
			Where spawnbot_back_left

			TotalCount 6
			MaxActive 6
			SpawnCount 6

			WaitForAllDead "WAVE5-2"
			WaitBeforeStarting 59.75


			TotalCurrency 200

			FirstSpawnOutput
			{
				Target threat_relay
				Action trigger
			}

		Squad
		{

			TFBot
			{
				SpawnTemplate "p_threat"
				Template Machine_Giant_Boss
				InterruptAction //wait a bit
				{
					Delay 1
					Repeats 1
					Duration 4
				}
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

		}

		}

		WaveSpawn
		{
			Name "BOSS_WIRE"
			Where spawnbot_back_right

			TotalCount 6
			MaxActive 6
			SpawnCount 6

			WaitForAllDead "WAVE5-2"
			WaitBeforeStarting 59.75


			TotalCurrency 200

		Squad
		{

			TFBot
			{
				Template Machine_Giant_Boss
				InterruptAction //wait a bit
				{
					Delay 1
					Repeats 1
					Duration 4
				}
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

			TFBot
			{
				Template Machine_Uber
			}

		}

		}

		WaveSpawn
		{
			WaitForAllDead "BOSS_WIRE"
			WaitBeforeStarting 6
			FirstSpawnOutput
			{
				target corrupted_tankbomber_relay
				action trigger
			}
		}

		WaveSpawn
		{
			Name "BOMBERS"
			Where spawnbot_front
			// Where spawnbot_front_right
			// Where spawnbot_front_left
			RandomSpawn 1

			Support Limited
			TotalCount 9999
			MaxActive 26
			SpawnCount 1

			WaitForAllDead "WAVE5-2"
			StartDisabled 1
			// WaitBeforeStarting 30

			DoneOutput
			{
				target survivors_gtfo_fort
				action trigger
			}

			TFBot
			{
				Template Machine_Bomber
			}

		}

		WaveSpawn
		{
			Name "TANK_DREAD"
			TotalCount 1
			TotalCurrency 500

			FirstSpawnWarningSound mvm/mvm_tank_start.wav

			WaitForAllDead "WAVE5-2"
			StartDisabled 1
			// WaitBeforeStarting 30

			DoneOutput
			{
				Target bignet
				Action RunScriptCode
				Param "
				EntFire(`scene_tank_relay`, `CancelPending`)
				EntFire(`pop_interface`, `$FinishWavespawn`, `BOMBERS`)"
			}

			Tank
			{
				Name "painttank|50 50 50"
				Classicon tank_black

				Health 5000
				Speed 75
				Skin 2
				//CritImmune 1
				SolidToBrushes 1
				MaxTurnRate 75

				OnBombDroppedOutput
				{
					Target nuke_relay
					Action Trigger
				}
			}

		}
		WaveSpawn
		{
			Name "TANK_FX"
			WaitForAllSpawned "TANK_DREAD"
			FirstSpawnOutput
			{
				target scene_tank_relay
				action trigger
			}
		}


		WaveSpawn
		{
			Name "TANK_ALT"
			TotalCount 1
			TotalCurrency 500

			FirstSpawnWarningSound mvm/mvm_tank_start.wav

			WaitForAllDead "WAVE5-2"
			StartDisabled 1
			// WaitBeforeStarting 30

			DoneOutput
			{
				Target bignet
				Action RunScriptCode
				Param "
				EntFire(`scene_tank_relay`, `CancelPending`)
				EntFire(`scene_combat_tank_detonation`, `CancelPending`, null, 1)
				EntFire(`pop_interface`, `$FinishWavespawn`, `BOMBERS`)"
			}
			FirstSpawnOutput
			{
				Target bignet
				Action RunScriptCode
				Param "
				EntFire(`scene_combat_tank_detonation`, `Trigger`)
				local hTank = FindByClassname(null, `tank_boss`)
				local hAnnotationFollow = SpawnEntityFromTable(`prop_dynamic`, { targetname = `combattankanno`, model = `models/props_hydro/barrel_crate_half.mdl`, origin = `0 0 100`, disableshadows = 1 })
				hAnnotationFollow.DisableDraw()
				SetPropEntity(hAnnotationFollow, `m_hMovePeer`, hTank.FirstMoveChild())
				SetPropEntity(hTank, `m_hMoveChild`, hAnnotationFollow)
				SetPropEntity(hAnnotationFollow, `m_hMoveParent`, hTank)
				local hEdict = SpawnEntityFromTable(`info_target`, {})
				hEdict.AddEFlags(EFL_IN_SKYBOX | EFL_FORCE_CHECK_TRANSMIT)
				hEdict.AcceptInput(`SetParent`, `!activator`, hAnnotationFollow, null)"
				Delay 1
			}

			Tank
			{
				Name "combattank_nolaser|minigun|minigun"
				Classicon tank_combat_minigun

				Health 10000
				Speed 75
				SolidToBrushes 1
				MaxTurnRate 75

				PingSound "Combat.Tank.Horn"
			}

		}
		WaveSpawn
		{
			Name "TANK_FX_ALT"
			WaitForAllSpawned "TANK_ALT"
			FirstSpawnOutput
			{
				target scene_tank_relay
				action trigger
			}
		}

		WaveSpawn
		{
			Name "RECONNECTOR_1"
			WaitForAllDead "TANK_DREAD"
		}
		WaveSpawn
		{
			Name "RECONNECTOR_1"
			WaitForAllDead "BOMBERS"
		}
		WaveSpawn
		{
			Name "RECONNECTOR_2"
			WaitForAllDead "TANK_ALT"
		}
		WaveSpawn
		{
			Name "RECONNECTOR_2"
			WaitForAllDead "BOMBERS"
		}
		WaveSpawn
		{
			Name "RECONNECTOR_3"
			WaitForAllSpawned "RECONNECTOR_1"
			FirstSpawnOutput
			{
				Target pop_interface
				Action $ResumeWavespawn
				Param "WAVE5-FINISH"
			}
		}
		WaveSpawn
		{
			Name "RECONNECTOR_3"
			WaitForAllSpawned "RECONNECTOR_2"
			FirstSpawnOutput
			{
				Target pop_interface
				Action $ResumeWavespawn
				Param "WAVE5-FINISH"
			}
		}

		WaveSpawn
		{
		   Name "WAVE5-FINISH"
		   StartDisabled 1
		   WaitBeforeStarting 5
		   FirstSpawnOutput
		   {
			   Target wave_break_5_relay
			   Action trigger
		   }
		}


////////////////////////////////////////////////////////////WAVE 6

		WaveSpawn
		{
			Name "CINEMATIC_FIGHT"
			Where spawnbot_back_right

			TotalCount 2
			MaxActive 2
			SpawnCount 2

			WaitForAllSpawned "WAVE5-FINISH"
			WaitBeforeStarting 80.25
			HideIcon 1

			FirstSpawnOutput
			{
				target tf_gamerules
				action playvo
				param npc/metropolice/vo/officerdowncode3tomy10-20.wav
				delay 2
			}

			TFBot
			{
				Template Survivor_Infantry
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "2122 -876 -19"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 13
				}
			}

		}
		WaveSpawn
		{
			Name "CINEMATIC_FIGHT"
			Where spawnbot_back_right

			TotalCount 10
			MaxActive 10
			SpawnCount 10

			WaitForAllSpawned "WAVE5-FINISH"
			WaitBeforeStarting 81.25
			HideIcon 1

		RandomChoice
		{

			TFBot
			{
				Template Zombie_Generic_2-1
				//ExtAttr IgnoreRealPlayers //SUPER BUSTED
				DeathSound "misc/null.wav"
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "1845 -806 -24"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 12
				}
			}

			TFBot
			{
				Template Zombie_Generic_2-2
				//ExtAttr IgnoreRealPlayers //SUPER BUSTED
				DeathSound "misc/null.wav"
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "1845 -806 -24"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 12
				}
			}

			TFBot
			{
				Template Zombie_Generic_3-1
				//ExtAttr IgnoreRealPlayers //SUPER BUSTED
				DeathSound "misc/null.wav"
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "1845 -806 -24"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 12
				}
			}

			TFBot
			{
				Template Zombie_Generic_4-1
				//ExtAttr IgnoreRealPlayers //SUPER BUSTED
				DeathSound "misc/null.wav"
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "1845 -806 -24"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 12
				}
			}

			TFBot
			{
				Template Zombie_Generic_8-2
				//ExtAttr IgnoreRealPlayers //SUPER BUSTED
				DeathSound "misc/null.wav"
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "1845 -806 -24"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 12
				}
			}

		}

		}
		WaveSpawn
		{
			Name "CINEMATIC_FIGHT"
			Where spawnbot_back_right

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllSpawned "WAVE5-FINISH"
			WaitBeforeStarting 81.25
			HideIcon 1

			DoneOutput
			{
				target skeleton_yells
				action trigger
				delay 2
			}

			TFBot
			{
				Template Zombie_Brute
				//ExtAttr IgnoreRealPlayers //SUPER BUSTED
				DeathSound "misc/null.wav"
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "1845 -806 -24"
					Delay 0
					Repeats 1
				}
				FireInput
				{
					target !self
					action $suicide
					Delay 12
				}
			}

		}

		WaveSpawn
		{
			Name "survivor_4"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllSpawned "WAVE5-FINISH"
			WaitBeforeStarting 23.35

			//HideIcon 1
			Support Limited
			TotalCurrency 0

			DoneWarningSound "Engineer.CritDeath"
			DoneOutput
			{
				target shopkeeper_death
				action trigger
				delay 1
			}

			TFBot
			{
				Template Survivor_4
				FireInput
				{
					target !self
					action runscriptcode
					param "DispatchParticleEffect(`teleportedin_red`,self.GetOrigin(),Vector(0,1,0))"
					Delay 0.1
					Repeats 1
				}
				FireInput
				{
					target !self
					action runscriptcode
					param "DispatchParticleEffect(`teleported_red`,self.GetOrigin(),Vector(0,1,0))"
					Delay 0.1
					Repeats 1
				}
				FireInput
				{
					target !self
					action $playsound
					param "weapons/teleporter_send.wav"
					Delay -1
					Repeats 1
				}
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "853 1439 195"
					Delay 0
					Repeats 1
				}
				Taunt
				{
					Delay 1
					Repeats 1
					Duration 8
					Name "Square Dance Taunt"
				}
				VoiceCommand
				{
					Delay 22.5
					Repeats 1
					Type "Go"
				}
				ClientCommand
				{
					Name "build 2 0"
					Delay 29
					Repeats 1
				}
				FireWeapon
				{
					Delay 29.75
					Repeats 1
					Duration 0.4
					Type "Primary"
				}
				WeaponSwitch
				{
					Type "Secondary"
					Delay 32
					Repeats 1
				}
			}
		}
		WaveSpawn
		{
			Name "survivors_undead"
			Where spawnbot_front_left

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			HideIcon 1
			Support Limited
			//TotalCurrency 200

			WaitForAllDead "survivor_4"
			WaitBeforeStarting 8

			TFBot
			{
				Template Survivor_4_Zombie
				FireInput
				{
					Target !self
					Action $TeleportToEntity
					Param 4_becomes_zombie
					Delay 8
					Repeats 1
				}
			}
		}

		WaveSpawn
		{
			Name "WAVE6-1"
			Where spawnbot_front

			TotalCount 50
			MaxActive 10
			SpawnCount 1
			TotalCurrency 500

			WaitBetweenSpawns 0.5
			WaitForAllDead "CINEMATIC_FIGHT"
			WaitBeforeStarting 3

			FirstSpawnOutput
			{
				target music_nuclear_relay
				action trigger
			}

			RandomChoice
			{

				TFBot
				{
					Template Zombie_Headless_1-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_1-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_2-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_2-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_3-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_3-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_4-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_4-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_5-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_5-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_6-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_6-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_7-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_7-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_8-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_8-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_9-1
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

				TFBot
				{
					Template Zombie_Headless_9-2
					AddCond {Name TF_COND_SPEED_BOOST}
					AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				}

			}

		}

		WaveSpawn
		{
			Name "WAVE6-1"
			Where spawnbot_front_right
			Where spawnbot_front_left
			RandomSpawn 1

			TotalCount 50
			MaxActive 10
			SpawnCount 1

			WaitBetweenSpawns 0.5
			WaitForAllDead "CINEMATIC_FIGHT"
			WaitBeforeStarting 6

			DoneOutput
			{
				Target beat_saw
				Action playsound
			}

			RandomChoice
			{

				TFBot
				{
					Template Skeleton_Hard_1
					AddCond {Name TF_COND_SPEED_BOOST}
				}

				TFBot
				{
					Template Skeleton_Hard_2
					AddCond {Name TF_COND_SPEED_BOOST}
				}

				TFBot
				{
					Template Skeleton_Hard_3
					AddCond {Name TF_COND_SPEED_BOOST}
				}

			}

		}

		WaveSpawn
		{
			Name "WAVE6-2"
			Where spawnbot_back_right
			TotalCount 50
			MaxActive 20
			SpawnCount 2
			TotalCurrency 500

			WaitForAllDead "WAVE6-1"
			WaitBetweenSpawns 2

			FirstSpawnOutput //give ability to pick up chainsaw
			{
				target bignet
				action runscriptcode
				param "EntFire(`@f@filter_red_alive_heavy@player`, `RunScriptCode`, `Trespasser.GiveTempWeapon.call(this)`)"
			}
			DoneOutput
			{
				Target beat_saw
				Action stopsound
			}

		RandomChoice
		{

			NextSpawnerClone 48
			TFBot
			{
				Template Zombie_Chainsaw
			}
			NextSpawnerClone 48
			TFBot
			{
				Template Machine_Chainsaw
			}

			NextSpawnerClone 2
			TFBot
			{
				Template Zombie_Chainsaw
				DropWeapon 1
			}
			NextSpawnerClone 2
			TFBot
			{
				Template Machine_Chainsaw
				DropWeapon 1
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE6-2"
			Where spawnbot_front_left

			TotalCount 25
			MaxActive 6
			SpawnCount 1

			WaitForAllDead "WAVE6-1"
			WaitBetweenSpawns 1

			FirstSpawnOutput
			{
				target zombie_yells
				action trigger
			}

			TFBot
			{
				Template Zombie_Burning
				AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
				AddCond
				{
					Name TF_COND_SPEED_BOOST
					Duration 5
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE6-3"
			Where spawnbot_front

			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "WAVE6-2"
			WaitBeforeStarting 3
			WaitBetweenSpawns 0.5

			FirstSpawnOutput
			{
				target corrupted_chatter_5
				action trigger
			}

			TFBot
			{
				Template Machine_Battalion
			}

		}
		WaveSpawn
		{
			Name "WAVE6-3"
			Where spawnbot_front

			TotalCount 24
			MaxActive 24
			SpawnCount 3

			WaitForAllDead "WAVE6-2"
			WaitBetweenSpawns 0.5
			WaitBeforeStarting 5

		RandomChoice
		{

			TFBot
			{
				Template Machine_Shotgun_Charger
			}

			TFBot
			{
				Template Machine_Shotgun_Charger
				Item "The Reserve Shooter"
			}

			TFBot
			{
				Template Machine_Shotgun_Charger
				Item "The Panic Attack"
			}

			TFBot
			{
				Template Machine_Shotgun_Charger
				Item "The Family Business"
			}

			TFBot
			{
				Template Machine_Shotgun_Charger
				Item "The Frontier Justice "
			}

			TFBot
			{
				Template Machine_Shotgun_Charger
				Item "The Cardiac Arrest"
			}

		}

		}

		WaveSpawn
		{
			Name "WAVE6-3"
			Where spawnbot_back_right

			TotalCount 3
			MaxActive 3
			SpawnCount 1

			WaitBetweenSpawns 1
			WaitBeforeStarting 9
			WaitForAllDead "WAVE6-2"

			TotalCurrency 350

			FirstSpawnOutput
			{
				Target leaper_yells
				Action trigger
			}

			TFBot
			{
				Template Zombie_Leaper
				//AddCond {Name TF_COND_CRITBOOSTED_USER_BUFF}
			}

		}

		WaveSpawn
		{
			Name "WAVE6-4"
			Where spawnbot_front
			//Where spawnbot_front_right
			Where spawnbot_front_left
			Where spawnbot_back_right
			Where spawnbot_back_left
			RandomSpawn 1

			TotalCount 3
			MaxActive 3
			SpawnCount 1

			WaitBeforeStarting 6
			WaitBetweenSpawns 1
			WaitForAllDead "WAVE6-3"

			HideIcon 1
			TotalCurrency 250

			FirstSpawnOutput
			{
				target scene_dopples
				action trigger
			}
			DoneOutput
			{
				target item_teamflag
				action enable
			}

			TFBot
			{
				Template Zombie_Doppelganger
				//SpellDropRateCommon 1
				SpawnTemplate p_spell_common_2
				FireInput
				{
					Target !activator
					Action RunScriptCode
					Param "Trespasser.SetDoppelganger(self, Trespasser.GetRandomPlayerShuffle([2], true, false))"
					Delay 0
					Repeats 1
				}
			}

		}

		WaveSpawn
		{
			Name "WAVE6-5"
			Where spawnbot_front_right
			Where spawnbot_back_right
			Where spawnbot_back_left
			RandomSpawn 1

			TotalCount 9
			MaxActive 9
			SpawnCount 3

			WaitBeforeStarting 3
			WaitForAllDead "WAVE6-4"

			TotalCurrency 5000

			FirstSpawnOutput
			{
				target scene_money
				action trigger
			}
			DoneOutput
			{
				Target wave_break_6_relay
				Action Trigger
				Delay 3
			}

			TFBot
			{
				Template Machine_Steel_Money
			}

		}

////////////////////////////////////////////////////////////WAVE 7

		WaveSpawn
		{
			Name "FINALE_RIOTS"
			Where spawnbot_front
			Where spawnbot_front_right
			Where spawnbot_front_left
			Where spawnbot_back_left

			TotalCount 9999
			MaxActive 12
			SpawnCount 3
			Support 1

			WaitForAllDead "WAVE6-5"
			WaitBeforeStarting 65.25
			WaitBetweenSpawns 6

			FirstSpawnOutput //give ability to pick up GL
			{
				target bignet
				action runscriptcode
				param "EntFire(`@f@filter_red_alive_demo@player`, `RunScriptCode`, `Trespasser.GiveTempWeapon.call(this)`)"
			}

		RandomChoice
		{

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_1
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_2
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_3
			}

			TFBot
			{
				Template Zombie_Riot_4
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_5
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_6
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_7
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_8
			}

			NextSpawnerClone 2 //make demos rarer
			TFBot
			{
				Template Zombie_Riot_9
			}

		}

		}

		WaveSpawn
		{
			Name "FINALE_RAPIDS"
			Where spawnbot_back_left

			TotalCount 4
			MaxActive 4
			SpawnCount 1

			WaitForAllDead "WAVE6-5"
			WaitBeforeStarting 75.25
			WaitBetweenSpawns 5

			TFBot
			{
				Template Machine_Giant_Rapid
			}

		}


		WaveSpawn
		{
			Name "FINALE_EXTRA_RIOTS_PERTURBATOR"
			Where spawnbot_front
			Where spawnbot_front_right
			Where spawnbot_front_left
			Where spawnbot_back_left

			TotalCount 9999
			MaxActive 6
			SpawnCount 3
			Support 1

			WaitForAllDead "WAVE6-5"
			WaitBeforeStarting 200.25
			WaitBetweenSpawns 3

			FirstSpawnOutput
			{
				target scene_escape
				action trigger
			}

			RandomChoice
			{

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_1
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_2
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_3
				}

				TFBot
				{
					Template Zombie_Riot_4
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_5
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_6
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_7
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_8
				}

				NextSpawnerClone 2 //make demos rarer
				TFBot
				{
					Template Zombie_Riot_9
				}

			}
		}

		WaveSpawn
		{
			Name "FINALE_ARMY_SETUP_PERTURBATOR"

			WaitForAllDead "WAVE6-5"
			WaitBeforeStarting 140.25

			FirstSpawnOutput
			{
				target scene_napalm_helicopter
				action trigger
			}
		}

		WaveSpawn
		{
			Name "FINALE_ARMY_PERTURBATOR"
			Where spawnbot_front_left
			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "FINALE_ARMY_SETUP_PERTURBATOR"
			WaitBeforeStarting 10
			HideIcon 1

			FirstSpawnOutput
			{
				target sign_military
				action show
				delay 7
			}

			TFBot
			{
				Template Survivor_Army
				InterruptAction
				{
					Target "ai_go_lz"
					Delay 1
					Repeats 9999
					Cooldown 5
					Duration 1
					Distance 256
					WaitUntilDone 1
				}
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "0 -696 666"
					Delay 0
					Repeats 1
				}
			}
		}
		WaveSpawn
		{
			Name "FINALE_ARMY_PERTURBATOR"
			Where spawnbot_front_left
			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "FINALE_ARMY_SETUP_PERTURBATOR"
			WaitBeforeStarting 10.5
			HideIcon 1

			TFBot
			{
				Template Survivor_Army
				InterruptAction
				{
					Target "ai_go_lz"
					Delay 1
					Repeats 9999
					Cooldown 5
					Duration 1
					Distance 256
					WaitUntilDone 1
				}
				ClientCommand
				{
					Name "dropitem"
					Delay 0.1
					Cooldown 5
					Repeats 999
				}
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "200 -696 666"
					Delay 0
					Repeats 1
				}
			}
		}
		WaveSpawn
		{
			Name "FINALE_ARMY_PERTURBATOR"
			Where spawnbot_front_left
			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "FINALE_ARMY_SETUP_PERTURBATOR"
			WaitBeforeStarting 11
			HideIcon 1

			TFBot
			{
				Template Survivor_Army
				InterruptAction
				{
					Target "ai_go_lz"
					Delay 1
					Repeats 9999
					Cooldown 5
					Duration 1
					Distance 256
					WaitUntilDone 1
				}
				ClientCommand
				{
					Name "dropitem"
					Delay 0.1
					Cooldown 5
					Repeats 999
				}
				FireInput
				{
					Target !self
					Action $SetLocalOrigin
					Param "400 -696 666"
					Delay 0
					Repeats 1
				}
			}
		}

		WaveSpawn
		{
			Name "FINALE_SKELETONS_PERTURBATOR"
			Where spawnbot_back_right

			TotalCount 9999
			MaxActive 6
			SpawnCount 1

			WaitForAllDead "WAVE6-5"
			WaitBeforeStarting 142.25
			WaitBetweenSpawns 0.5

			Support 2

			RandomChoice
			{

				HalloweenBoss
				{
					ClassIcon dead2_ylw_lite
					BossType SkeletonNormal
					Origin "401 2816 194"
					TeamNum 3
				}

				HalloweenBoss
				{
					ClassIcon dead2_ylw_lite
					BossType SkeletonNormal
					Origin "789 2816 194"
					TeamNum 3
				}

				HalloweenBoss
				{
					ClassIcon dead2_ylw_lite
					BossType SkeletonNormal
					Origin "952 2670 194"
					TeamNum 3
				}

				HalloweenBoss
				{
					ClassIcon dead2_ylw_lite
					BossType SkeletonNormal
					Origin "952 2369 194"
					TeamNum 3
				}

			}
		}

		WaveSpawn
		{
			Name "FINALE_ROBRUTE_PERTURBATOR"
			Where spawnbot_back_left
			TotalCount 1
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "WAVE6-5"
			WaitBeforeStarting 156.25

			FirstSpawnOutput
			{
				target scene_robrute
				action trigger
			}
			DoneOutput
			{
				target beat_sewers_relay
				action trigger
				delay 60
			}

			DoneWarningSound "npc/combine_gunship/gunship_explode2.wav"

			TFBot
			{
				Template Zombie_Machine_Behemoth
				InterruptAction
				{
					Target "ai_go_lz"
					Delay 5
					Repeats 1
					Distance 64
					WaitUntilDone 1
				}
			}

		}

		WaveSpawn
		{
			Name "FINALE_VIROPHAGE"
			Where spawnbot_front_left
			TotalCount 666
			MaxActive 1
			SpawnCount 1

			WaitForAllDead "FINALE_ROBRUTE_PERTURBATOR"
			WaitBeforeStarting 70
			Support 1

			FirstSpawnOutput
			{
				target virophage_snail_relay
				action trigger
			}

			TFBot
			{
				Template Zombie_Virophage_Snail
				ClassIcon osprey
			}

		}

	}
}